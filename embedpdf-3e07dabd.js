function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t,n,o,i,r,a){try{var l=e[r](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function n(e,t,n){return t=s(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,y(o.key),o)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function l(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(){g=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),l=new E(o||[]);return i(a,"_invoke",{value:P(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",m="executing",f="completed",v={};function y(){}function b(){}function w(){}var x={};c(x,a,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(z([])));C&&C!==n&&o.call(C,a)&&(x=C);var S=w.prototype=y.prototype=Object.create(x);function M(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,r,a,l){var s=u(e[i],e,r);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function P(t,n,o){var i=h;return function(r,a){if(i===m)throw Error("Generator is already running");if(i===f){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var s=A(l,o);if(s){if(s===v)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===h)throw i=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=m;var c=u(t,n,o);if("normal"===c.type){if(i=o.done?f:p,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=f,o.method="throw",o.arg=c.arg)}}}function A(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function z(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(I.prototype),c(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new I(d(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=z,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:z(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),v}},t}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function b(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}function w(e){var t="function"==typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(d())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return n&&m(i,n.prototype),i}(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},w(e)}var x,k,C,S,M,I,P,A,_,T,E,z,N={},R=[],L=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,D=Array.isArray;function O(e,t){for(var n in t)e[n]=t[n];return e}function H(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function B(e,t,n){var o,i,r,a={};for(r in t)"key"==r?o=t[r]:"ref"==r?i=t[r]:a[r]=t[r];if(arguments.length>2&&(a.children=arguments.length>3?x.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return j(e,a,o,i,null)}function j(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++C:i,__i:-1,__u:0};return null==i&&null!=k.vnode&&k.vnode(r),r}function $(e){return e.children}function F(e,t){this.props=e,this.context=t}function U(e,t){if(null==t)return e.__?U(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?U(e):null}function W(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return W(e)}}function G(e){(!e.__d&&(e.__d=!0)&&S.push(e)&&!V.__r++||M!==k.debounceRendering)&&((M=k.debounceRendering)||I)(V)}function V(){for(var e,t,n,o,i,r,a,l=1;S.length;)S.length>l&&S.sort(P),e=S.shift(),l=S.length,e.__d&&(n=void 0,i=(o=(t=e).__v).__e,r=[],a=[],t.__P&&((n=O({},o)).__v=o.__v+1,k.vnode&&k.vnode(n),J(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[i]:null,r,null==i?U(o):i,!!(32&o.__u),a),n.__v=o.__v,n.__.__k[n.__i]=n,ee(r,n,a),n.__e!=i&&W(n)));V.__r=0}function q(e,t,n,o,i,r,a,l,s,c,d){var u,h,p,g,m,f,v=o&&o.__k||R,y=t.length;for(s=function(e,t,n,o,i){var r,a,l,s,c,d=n.length,u=d,h=0;for(e.__k=new Array(i),r=0;r<i;r++)null!=(a=t[r])&&"boolean"!=typeof a&&"function"!=typeof a?(s=r+h,(a=e.__k[r]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?j(null,a,null,null,null):D(a)?j($,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?j(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,-1!==(c=a.__i=Y(a,n,s,u))&&(u--,(l=n[c])&&(l.__u|=2)),null==l||null===l.__v?(-1==c&&(i>d?h--:i<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=s&&(c==s-1?h--:c==s+1?h++:(c>s?h--:h++,a.__u|=4))):e.__k[r]=null;if(u)for(r=0;r<d;r++)null!=(l=n[r])&&!(2&l.__u)&&(l.__e==o&&(o=U(l)),ie(l,l));return o}(n,t,v,s,y),u=0;u<y;u++)null!=(p=n.__k[u])&&(h=-1===p.__i?N:v[p.__i]||N,p.__i=u,f=J(e,p,h,i,r,a,l,s,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&oe(h.ref,null,p),d.push(p.ref,p.__c||g,p)),null==m&&null!=g&&(m=g),4&p.__u||h.__k===p.__k?s=Z(p,s,e):"function"==typeof p.type&&void 0!==f?s=f:g&&(s=g.nextSibling),p.__u&=-7);return n.__e=m,s}function Z(e,t,n){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=Z(o[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=U(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function Y(e,t,n,o){var i,r,a=e.key,l=e.type,s=t[n];if(null===s&&null==e.key||s&&a==s.key&&l===s.type&&!(2&s.__u))return n;if(o>(null==s||2&s.__u?0:1))for(i=n-1,r=n+1;i>=0||r<t.length;){if(i>=0){if((s=t[i])&&!(2&s.__u)&&a==s.key&&l===s.type)return i;i--}if(r<t.length){if((s=t[r])&&!(2&s.__u)&&a==s.key&&l===s.type)return r;r++}}return-1}function X(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||L.test(t)?n:n+"px"}function K(e,t,n,o,i){var r;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||X(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||X(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(A,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.t=o.t:(n.t=_,e.addEventListener(t,r?E:T,r)):e.removeEventListener(t,r?E:T,r);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function Q(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=_++;else if(t.u<n.t)return;return n(k.event?k.event(t):t)}}}function J(e,t,n,o,i,r,a,l,s,c){var d,u,h,p,g,m,f,v,y,b,w,x,C,S,M,I,P,A=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(s=!!(32&n.__u),r=[l=t.__e=n.__e]),(d=k.__b)&&d(t);e:if("function"==typeof A)try{if(v=t.props,y="prototype"in A&&A.prototype.render,b=(d=A.contextType)&&o[d.__c],w=d?b?b.props.value:d.__:o,n.__c?f=(u=t.__c=n.__c).__=u.__E:(y?t.__c=u=new A(v,w):(t.__c=u=new F(v,w),u.constructor=A,u.render=re),b&&b.sub(u),u.props=v,u.state||(u.state={}),u.context=w,u.__n=o,h=u.__d=!0,u.__h=[],u._sb=[]),y&&null==u.__s&&(u.__s=u.state),y&&null!=A.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=O({},u.__s)),O(u.__s,A.getDerivedStateFromProps(v,u.__s))),p=u.props,g=u.state,u.__v=t,h)y&&null==A.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),y&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(y&&null==A.getDerivedStateFromProps&&v!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,w),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,w)||t.__v==n.__v)){for(t.__v!=n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,w),y&&null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,g,m)}))}if(u.context=w,u.props=v,u.__P=e,u.__e=!1,C=k.__r,S=0,y){for(u.state=u.__s,u.__d=!1,C&&C(t),d=u.render(u.props,u.state,u.context),M=0;M<u._sb.length;M++)u.__h.push(u._sb[M]);u._sb=[]}else do{u.__d=!1,C&&C(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++S<25);u.state=u.__s,null!=u.getChildContext&&(o=O(O({},o),u.getChildContext())),y&&!h&&null!=u.getSnapshotBeforeUpdate&&(m=u.getSnapshotBeforeUpdate(p,g)),I=d,null!=d&&d.type===$&&null==d.key&&(I=te(d.props.children)),l=q(e,D(I)?I:[I],t,n,o,i,r,a,l,s,c),u.base=t.__e,t.__u&=-161,u.__h.length&&a.push(u),f&&(u.__E=u.__=null)}catch(e){if(t.__v=null,s||null!=r)if(e.then){for(t.__u|=s?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;r[r.indexOf(l)]=null,t.__e=l}else for(P=r.length;P--;)H(r[P]);else t.__e=n.__e,t.__k=n.__k;k.__e(e,t,n)}else null==r&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=ne(n.__e,t,n,o,i,r,a,s,c);return(d=k.diffed)&&d(t),128&t.__u?void 0:l}function ee(e,t,n){for(var o=0;o<n.length;o++)oe(n[o],n[++o],n[++o]);k.__c&&k.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){k.__e(e,t.__v)}}))}function te(e){return"object"!=typeof e||null==e?e:D(e)?e.map(te):O({},e)}function ne(e,t,n,o,i,r,a,l,s){var c,d,u,h,p,g,m,f=n.props,v=t.props,y=t.type;if("svg"==y?i="http://www.w3.org/2000/svg":"math"==y?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=r)for(c=0;c<r.length;c++)if((p=r[c])&&"setAttribute"in p==!!y&&(y?p.localName==y:3==p.nodeType)){e=p,r[c]=null;break}if(null==e){if(null==y)return document.createTextNode(v);e=document.createElementNS(i,y,v.is&&v),l&&(k.__m&&k.__m(t,r),l=!1),r=null}if(null===y)f===v||l&&e.data===v||(e.data=v);else{if(r=r&&x.call(e.childNodes),f=n.props||N,!l&&null!=r)for(f={},c=0;c<e.attributes.length;c++)f[(p=e.attributes[c]).name]=p.value;for(c in f)if(p=f[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in v)){if("value"==c&&"defaultValue"in v||"checked"==c&&"defaultChecked"in v)continue;K(e,c,null,p,i)}for(c in v)p=v[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?g=p:"checked"==c?m=p:l&&"function"!=typeof p||f[c]===p||K(e,c,p,f[c],i);if(d)l||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),q("template"===t.type?e.content:e,D(h)?h:[h],t,n,o,"foreignObject"==y?"http://www.w3.org/1999/xhtml":i,r,a,r?r[0]:n.__k&&U(n,0),l,s),null!=r)for(c=r.length;c--;)H(r[c]);l||(c="value","progress"==y&&null==g?e.removeAttribute("value"):void 0!==g&&(g!==e[c]||"progress"==y&&!g||"option"==y&&g!==f[c])&&K(e,c,g,f[c],i),c="checked",void 0!==m&&m!==e[c]&&K(e,c,m,f[c],i))}return e}function oe(e,t,n){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(e){k.__e(e,n)}}function ie(e,t,n){var o,i;if(k.unmount&&k.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||oe(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){k.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&ie(o[i],t,n||"function"!=typeof e.type);n||H(e.__e),e.__c=e.__=e.__e=void 0}function re(e,t,n){return this.constructor(e,n)}x=R.slice,k={__e:function(e,t,n,o){for(var i,r,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},C=0,F.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=O({},this.state),"function"==typeof e&&(e=e(O({},n),this.props)),e&&O(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),G(this))},F.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),G(this))},F.prototype.render=$,S=[],I="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,P=function(e,t){return e.__v.__b-t.__v.__b},V.__r=0,A=/(PointerCapture)$|Capture$/i,_=0,T=Q(!1),E=Q(!0),z=0;var ae,le,se,ce,de='/*! tailwindcss v4.0.6 | MIT License | https://tailwindcss.com */\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-400: oklch(70.4% 0.191 22.216);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-red-950: oklch(25.8% 0.092 26.042);\n    --color-orange-50: oklch(98% 0.016 73.684);\n    --color-orange-100: oklch(95.4% 0.038 75.164);\n    --color-orange-200: oklch(90.1% 0.076 70.697);\n    --color-orange-300: oklch(83.7% 0.128 66.29);\n    --color-orange-400: oklch(75% 0.183 55.934);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-600: oklch(64.6% 0.222 41.116);\n    --color-orange-700: oklch(55.3% 0.195 38.402);\n    --color-orange-800: oklch(47% 0.157 37.304);\n    --color-orange-900: oklch(40.8% 0.123 38.172);\n    --color-orange-950: oklch(26.6% 0.079 36.259);\n    --color-amber-50: oklch(98.7% 0.022 95.277);\n    --color-amber-100: oklch(96.2% 0.059 95.617);\n    --color-amber-200: oklch(92.4% 0.12 95.746);\n    --color-amber-300: oklch(87.9% 0.169 91.605);\n    --color-amber-400: oklch(82.8% 0.189 84.429);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-amber-600: oklch(66.6% 0.179 58.318);\n    --color-amber-700: oklch(55.5% 0.163 48.998);\n    --color-amber-800: oklch(47.3% 0.137 46.201);\n    --color-amber-900: oklch(41.4% 0.112 45.904);\n    --color-amber-950: oklch(27.9% 0.077 45.635);\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-200: oklch(94.5% 0.129 101.54);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-700: oklch(55.4% 0.135 66.442);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-yellow-950: oklch(28.6% 0.066 53.813);\n    --color-lime-50: oklch(98.6% 0.031 120.757);\n    --color-lime-100: oklch(96.7% 0.067 122.328);\n    --color-lime-200: oklch(93.8% 0.127 124.321);\n    --color-lime-300: oklch(89.7% 0.196 126.665);\n    --color-lime-400: oklch(84.1% 0.238 128.85);\n    --color-lime-500: oklch(76.8% 0.233 130.85);\n    --color-lime-600: oklch(64.8% 0.2 131.684);\n    --color-lime-700: oklch(53.2% 0.157 131.589);\n    --color-lime-800: oklch(45.3% 0.124 130.933);\n    --color-lime-900: oklch(40.5% 0.101 131.063);\n    --color-lime-950: oklch(27.4% 0.072 132.109);\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-300: oklch(87.1% 0.15 154.449);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-green-950: oklch(26.6% 0.065 152.934);\n    --color-emerald-50: oklch(97.9% 0.021 166.113);\n    --color-emerald-100: oklch(95% 0.052 163.051);\n    --color-emerald-200: oklch(90.5% 0.093 164.15);\n    --color-emerald-300: oklch(84.5% 0.143 164.978);\n    --color-emerald-400: oklch(76.5% 0.177 163.223);\n    --color-emerald-500: oklch(69.6% 0.17 162.48);\n    --color-emerald-600: oklch(59.6% 0.145 163.225);\n    --color-emerald-700: oklch(50.8% 0.118 165.612);\n    --color-emerald-800: oklch(43.2% 0.095 166.913);\n    --color-emerald-900: oklch(37.8% 0.077 168.94);\n    --color-emerald-950: oklch(26.2% 0.051 172.552);\n    --color-teal-50: oklch(98.4% 0.014 180.72);\n    --color-teal-100: oklch(95.3% 0.051 180.801);\n    --color-teal-200: oklch(91% 0.096 180.426);\n    --color-teal-300: oklch(85.5% 0.138 181.071);\n    --color-teal-400: oklch(77.7% 0.152 181.912);\n    --color-teal-500: oklch(70.4% 0.14 182.503);\n    --color-teal-600: oklch(60% 0.118 184.704);\n    --color-teal-700: oklch(51.1% 0.096 186.391);\n    --color-teal-800: oklch(43.7% 0.078 188.216);\n    --color-teal-900: oklch(38.6% 0.063 188.416);\n    --color-teal-950: oklch(27.7% 0.046 192.524);\n    --color-cyan-50: oklch(98.4% 0.019 200.873);\n    --color-cyan-100: oklch(95.6% 0.045 203.388);\n    --color-cyan-200: oklch(91.7% 0.08 205.041);\n    --color-cyan-300: oklch(86.5% 0.127 207.078);\n    --color-cyan-400: oklch(78.9% 0.154 211.53);\n    --color-cyan-500: oklch(71.5% 0.143 215.221);\n    --color-cyan-600: oklch(60.9% 0.126 221.723);\n    --color-cyan-700: oklch(52% 0.105 223.128);\n    --color-cyan-800: oklch(45% 0.085 224.283);\n    --color-cyan-900: oklch(39.8% 0.07 227.392);\n    --color-cyan-950: oklch(30.2% 0.056 229.695);\n    --color-sky-50: oklch(97.7% 0.013 236.62);\n    --color-sky-100: oklch(95.1% 0.026 236.824);\n    --color-sky-200: oklch(90.1% 0.058 230.902);\n    --color-sky-300: oklch(82.8% 0.111 230.318);\n    --color-sky-400: oklch(74.6% 0.16 232.661);\n    --color-sky-500: oklch(68.5% 0.169 237.323);\n    --color-sky-600: oklch(58.8% 0.158 241.966);\n    --color-sky-700: oklch(50% 0.134 242.749);\n    --color-sky-800: oklch(44.3% 0.11 240.79);\n    --color-sky-900: oklch(39.1% 0.09 240.876);\n    --color-sky-950: oklch(29.3% 0.066 243.157);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-blue-950: oklch(28.2% 0.091 267.935);\n    --color-indigo-50: oklch(96.2% 0.018 272.314);\n    --color-indigo-100: oklch(93% 0.034 272.788);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-300: oklch(78.5% 0.115 274.713);\n    --color-indigo-400: oklch(67.3% 0.182 276.935);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-800: oklch(39.8% 0.195 277.366);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-indigo-950: oklch(25.7% 0.09 281.288);\n    --color-violet-50: oklch(96.9% 0.016 293.756);\n    --color-violet-100: oklch(94.3% 0.029 294.588);\n    --color-violet-200: oklch(89.4% 0.057 293.283);\n    --color-violet-300: oklch(81.1% 0.111 293.571);\n    --color-violet-400: oklch(70.2% 0.183 293.541);\n    --color-violet-500: oklch(60.6% 0.25 292.717);\n    --color-violet-600: oklch(54.1% 0.281 293.009);\n    --color-violet-700: oklch(49.1% 0.27 292.581);\n    --color-violet-800: oklch(43.2% 0.232 292.759);\n    --color-violet-900: oklch(38% 0.189 293.745);\n    --color-violet-950: oklch(28.3% 0.141 291.089);\n    --color-purple-50: oklch(97.7% 0.014 308.299);\n    --color-purple-100: oklch(94.6% 0.033 307.174);\n    --color-purple-200: oklch(90.2% 0.063 306.703);\n    --color-purple-300: oklch(82.7% 0.119 306.383);\n    --color-purple-400: oklch(71.4% 0.203 305.504);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-purple-600: oklch(55.8% 0.288 302.321);\n    --color-purple-700: oklch(49.6% 0.265 301.924);\n    --color-purple-800: oklch(43.8% 0.218 303.724);\n    --color-purple-900: oklch(38.1% 0.176 304.987);\n    --color-purple-950: oklch(29.1% 0.149 302.717);\n    --color-fuchsia-50: oklch(97.7% 0.017 320.058);\n    --color-fuchsia-100: oklch(95.2% 0.037 318.852);\n    --color-fuchsia-200: oklch(90.3% 0.076 319.62);\n    --color-fuchsia-300: oklch(83.3% 0.145 321.434);\n    --color-fuchsia-400: oklch(74% 0.238 322.16);\n    --color-fuchsia-500: oklch(66.7% 0.295 322.15);\n    --color-fuchsia-600: oklch(59.1% 0.293 322.896);\n    --color-fuchsia-700: oklch(51.8% 0.253 323.949);\n    --color-fuchsia-800: oklch(45.2% 0.211 324.591);\n    --color-fuchsia-900: oklch(40.1% 0.17 325.612);\n    --color-fuchsia-950: oklch(29.3% 0.136 325.661);\n    --color-pink-50: oklch(97.1% 0.014 343.198);\n    --color-pink-100: oklch(94.8% 0.028 342.258);\n    --color-pink-200: oklch(89.9% 0.061 343.231);\n    --color-pink-300: oklch(82.3% 0.12 346.018);\n    --color-pink-400: oklch(71.8% 0.202 349.761);\n    --color-pink-500: oklch(65.6% 0.241 354.308);\n    --color-pink-600: oklch(59.2% 0.249 0.584);\n    --color-pink-700: oklch(52.5% 0.223 3.958);\n    --color-pink-800: oklch(45.9% 0.187 3.815);\n    --color-pink-900: oklch(40.8% 0.153 2.432);\n    --color-pink-950: oklch(28.4% 0.109 3.907);\n    --color-rose-50: oklch(96.9% 0.015 12.422);\n    --color-rose-100: oklch(94.1% 0.03 12.58);\n    --color-rose-200: oklch(89.2% 0.058 10.001);\n    --color-rose-300: oklch(81% 0.117 11.638);\n    --color-rose-400: oklch(71.2% 0.194 13.428);\n    --color-rose-500: oklch(64.5% 0.246 16.439);\n    --color-rose-600: oklch(58.6% 0.253 17.585);\n    --color-rose-700: oklch(51.4% 0.222 16.935);\n    --color-rose-800: oklch(45.5% 0.188 13.697);\n    --color-rose-900: oklch(41% 0.159 10.272);\n    --color-rose-950: oklch(27.1% 0.105 12.094);\n    --color-slate-50: oklch(98.4% 0.003 247.858);\n    --color-slate-100: oklch(96.8% 0.007 247.896);\n    --color-slate-200: oklch(92.9% 0.013 255.508);\n    --color-slate-300: oklch(86.9% 0.022 252.894);\n    --color-slate-400: oklch(70.4% 0.04 256.788);\n    --color-slate-500: oklch(55.4% 0.046 257.417);\n    --color-slate-600: oklch(44.6% 0.043 257.281);\n    --color-slate-700: oklch(37.2% 0.044 257.287);\n    --color-slate-800: oklch(27.9% 0.041 260.031);\n    --color-slate-900: oklch(20.8% 0.042 265.755);\n    --color-slate-950: oklch(12.9% 0.042 264.695);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-gray-950: oklch(13% 0.028 261.692);\n    --color-zinc-50: oklch(98.5% 0 0);\n    --color-zinc-100: oklch(96.7% 0.001 286.375);\n    --color-zinc-200: oklch(92% 0.004 286.32);\n    --color-zinc-300: oklch(87.1% 0.006 286.286);\n    --color-zinc-400: oklch(70.5% 0.015 286.067);\n    --color-zinc-500: oklch(55.2% 0.016 285.938);\n    --color-zinc-600: oklch(44.2% 0.017 285.786);\n    --color-zinc-700: oklch(37% 0.013 285.805);\n    --color-zinc-800: oklch(27.4% 0.006 286.033);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-zinc-950: oklch(14.1% 0.005 285.823);\n    --color-neutral-50: oklch(98.5% 0 0);\n    --color-neutral-100: oklch(97% 0 0);\n    --color-neutral-200: oklch(92.2% 0 0);\n    --color-neutral-300: oklch(87% 0 0);\n    --color-neutral-400: oklch(70.8% 0 0);\n    --color-neutral-500: oklch(55.6% 0 0);\n    --color-neutral-600: oklch(43.9% 0 0);\n    --color-neutral-700: oklch(37.1% 0 0);\n    --color-neutral-800: oklch(26.9% 0 0);\n    --color-neutral-900: oklch(20.5% 0 0);\n    --color-neutral-950: oklch(14.5% 0 0);\n    --color-stone-50: oklch(98.5% 0.001 106.423);\n    --color-stone-100: oklch(97% 0.001 106.424);\n    --color-stone-200: oklch(92.3% 0.003 48.717);\n    --color-stone-300: oklch(86.9% 0.005 56.366);\n    --color-stone-400: oklch(70.9% 0.01 56.259);\n    --color-stone-500: oklch(55.3% 0.013 58.071);\n    --color-stone-600: oklch(44.4% 0.011 73.639);\n    --color-stone-700: oklch(37.4% 0.01 67.558);\n    --color-stone-800: oklch(26.8% 0.007 34.298);\n    --color-stone-900: oklch(21.6% 0.006 56.043);\n    --color-stone-950: oklch(14.7% 0.004 49.25);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --breakpoint-sm: 40rem;\n    --breakpoint-md: 48rem;\n    --breakpoint-lg: 64rem;\n    --breakpoint-xl: 80rem;\n    --breakpoint-2xl: 96rem;\n    --container-3xs: 16rem;\n    --container-2xs: 18rem;\n    --container-xs: 20rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-xl: 36rem;\n    --container-2xl: 42rem;\n    --container-3xl: 48rem;\n    --container-4xl: 56rem;\n    --container-5xl: 64rem;\n    --container-6xl: 72rem;\n    --container-7xl: 80rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-base: 1rem;\n    --text-base--line-height: calc(1.5 / 1);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --text-7xl: 4.5rem;\n    --text-7xl--line-height: 1;\n    --text-8xl: 6rem;\n    --text-8xl--line-height: 1;\n    --text-9xl: 8rem;\n    --text-9xl--line-height: 1;\n    --font-weight-thin: 100;\n    --font-weight-extralight: 200;\n    --font-weight-light: 300;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --font-weight-extrabold: 800;\n    --font-weight-black: 900;\n    --tracking-tighter: -0.05em;\n    --tracking-tight: -0.025em;\n    --tracking-normal: 0em;\n    --tracking-wide: 0.025em;\n    --tracking-wider: 0.05em;\n    --tracking-widest: 0.1em;\n    --leading-tight: 1.25;\n    --leading-snug: 1.375;\n    --leading-normal: 1.5;\n    --leading-relaxed: 1.625;\n    --leading-loose: 2;\n    --radius-xs: 0.125rem;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --radius-4xl: 2rem;\n    --shadow-2xs: 0 1px rgb(0 0 0 / 0.05);\n    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n    --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);\n    --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);\n    --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / 0.15);\n    --drop-shadow-md: 0 3px 3px rgb(0 0 0 / 0.12);\n    --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / 0.15);\n    --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / 0.1);\n    --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / 0.15);\n    --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / 0.15);\n    --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);\n    --text-shadow-sm: 0px 1px 0px rgb(0 0 0 / 0.075), 0px 1px 1px rgb(0 0 0 / 0.075),\n      0px 2px 2px rgb(0 0 0 / 0.075);\n    --text-shadow-md: 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1),\n      0px 2px 4px rgb(0 0 0 / 0.1);\n    --text-shadow-lg: 0px 1px 2px rgb(0 0 0 / 0.1), 0px 3px 2px rgb(0 0 0 / 0.1),\n      0px 4px 8px rgb(0 0 0 / 0.1);\n    --ease-in: cubic-bezier(0.4, 0, 1, 1);\n    --ease-out: cubic-bezier(0, 0, 0.2, 1);\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --animate-bounce: bounce 1s infinite;\n    --blur-xs: 4px;\n    --blur-sm: 8px;\n    --blur-md: 12px;\n    --blur-lg: 16px;\n    --blur-xl: 24px;\n    --blur-2xl: 40px;\n    --blur-3xl: 64px;\n    --perspective-dramatic: 100px;\n    --perspective-near: 300px;\n    --perspective-normal: 500px;\n    --perspective-midrange: 800px;\n    --perspective-distant: 1200px;\n    --aspect-video: 16 / 9;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --default-font-feature-settings: initial;\n    --default-font-variation-settings: initial;\n    --default-mono-font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --default-mono-font-feature-settings: initial;\n    --default-mono-font-variation-settings: initial;\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    -moz-tab-size: 4;\n      -o-tab-size: 4;\n         tab-size: 4;\n    font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::-moz-placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n    ::placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    -webkit-appearance: button;\n       -moz-appearance: button;\n            appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .\\@container {\n    container-type: inline-size;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .collapse {\n    visibility: collapse;\n  }\n  .invisible {\n    visibility: hidden;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .visible\\! {\n    visibility: visible !important;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .sticky {\n    position: sticky;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .\\!top-auto {\n    top: auto !important;\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-6 {\n    top: calc(var(--spacing) * 6);\n  }\n  .\\!right-0 {\n    right: calc(var(--spacing) * 0) !important;\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-1 {\n    right: calc(var(--spacing) * 1);\n  }\n  .\\!bottom-0 {\n    bottom: calc(var(--spacing) * 0) !important;\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .bottom-4 {\n    bottom: calc(var(--spacing) * 4);\n  }\n  .\\!left-0 {\n    left: calc(var(--spacing) * 0) !important;\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-1 {\n    left: calc(var(--spacing) * 1);\n  }\n  .left-1\\/2 {\n    left: calc(1/2 * 100%);\n  }\n  .isolate {\n    isolation: isolate;\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .z-100 {\n    z-index: 100;\n  }\n  .col-start-1 {\n    grid-column-start: 1;\n  }\n  .row-start-1 {\n    grid-row-start: 1;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .my-2 {\n    margin-block: calc(var(--spacing) * 2);\n  }\n  .my-4 {\n    margin-block: calc(var(--spacing) * 4);\n  }\n  .mt-0 {\n    margin-top: calc(var(--spacing) * 0);\n  }\n  .mt-0\\.5 {\n    margin-top: calc(var(--spacing) * 0.5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-3 {\n    margin-top: calc(var(--spacing) * 3);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-5 {\n    margin-top: calc(var(--spacing) * 5);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-5 {\n    margin-right: calc(var(--spacing) * 5);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-block {\n    display: inline-block;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .list-item {\n    display: list-item;\n  }\n  .table {\n    display: table;\n  }\n  .h-1 {\n    height: calc(var(--spacing) * 1);\n  }\n  .h-1\\/2 {\n    height: calc(1/2 * 100%);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-3\\.5 {\n    height: calc(var(--spacing) * 3.5);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-7 {\n    height: calc(var(--spacing) * 7);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-9 {\n    height: calc(var(--spacing) * 9);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-18 {\n    height: calc(var(--spacing) * 18);\n  }\n  .h-\\[1px\\] {\n    height: 1px;\n  }\n  .h-\\[32px\\] {\n    height: 32px;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .max-h-48 {\n    max-height: calc(var(--spacing) * 48);\n  }\n  .max-h-60 {\n    max-height: calc(var(--spacing) * 60);\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .\\!w-full {\n    width: 100% !important;\n  }\n  .w-2 {\n    width: calc(var(--spacing) * 2);\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-3\\.5 {\n    width: calc(var(--spacing) * 3.5);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-9 {\n    width: calc(var(--spacing) * 9);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-18 {\n    width: calc(var(--spacing) * 18);\n  }\n  .w-32 {\n    width: calc(var(--spacing) * 32);\n  }\n  .w-36 {\n    width: calc(var(--spacing) * 36);\n  }\n  .w-\\[1px\\] {\n    width: 1px;\n  }\n  .w-auto {\n    width: auto;\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-\\[150px\\] {\n    max-width: 150px;\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-\\[8rem\\] {\n    min-width: 8rem;\n  }\n  .min-w-\\[32px\\] {\n    min-width: 32px;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .grow {\n    flex-grow: 1;\n  }\n  .border-collapse {\n    border-collapse: collapse;\n  }\n  .-translate-x-1 {\n    --tw-translate-x: calc(var(--spacing) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-x-1\\/2 {\n    --tw-translate-x: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-\\[1px\\] {\n    --tw-translate-x: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-y-\\[1px\\] {\n    --tw-translate-y: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .scale-1 {\n    --tw-scale-x: 1%;\n    --tw-scale-y: 1%;\n    --tw-scale-z: 1%;\n    scale: var(--tw-scale-x) var(--tw-scale-y);\n  }\n  .rotate-45 {\n    rotate: 45deg;\n  }\n  .transform {\n    transform: var(--tw-rotate-x) var(--tw-rotate-y) var(--tw-rotate-z) var(--tw-skew-x) var(--tw-skew-y);\n  }\n  .animate-pulse {\n    animation: var(--animate-pulse);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-grab {\n    cursor: grab;\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .touch-pan-y {\n    --tw-pan-y: pan-y;\n    touch-action: var(--tw-pan-x,) var(--tw-pan-y,) var(--tw-pinch-zoom,);\n  }\n  .resize {\n    resize: both;\n  }\n  .appearance-none {\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .grid-cols-6 {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-end {\n    align-items: flex-end;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-x-1 {\n    -moz-column-gap: calc(var(--spacing) * 1);\n         column-gap: calc(var(--spacing) * 1);\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-6 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .gap-y-4 {\n    row-gap: calc(var(--spacing) * 4);\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .divide-y {\n    :where(& > :not(:last-child)) {\n      --tw-divide-y-reverse: 0;\n      border-bottom-style: var(--tw-border-style);\n      border-top-style: var(--tw-border-style);\n      border-top-width: calc(1px * var(--tw-divide-y-reverse));\n      border-bottom-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n    }\n  }\n  .divide-gray-100 {\n    :where(& > :not(:last-child)) {\n      border-color: var(--color-gray-100);\n    }\n  }\n  .self-center {\n    align-self: center;\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-\\[3px\\] {\n    border-radius: 3px;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-l-md {\n    border-top-left-radius: var(--radius-md);\n    border-bottom-left-radius: var(--radius-md);\n  }\n  .rounded-r-md {\n    border-top-right-radius: var(--radius-md);\n    border-bottom-right-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-0 {\n    border-style: var(--tw-border-style);\n    border-width: 0px;\n  }\n  .border-1 {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-r-0 {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 0px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-none {\n    --tw-border-style: none;\n    border-style: none;\n  }\n  .border-\\[\\#cfd4da\\] {\n    border-color: #cfd4da;\n  }\n  .border-blue-300 {\n    border-color: var(--color-blue-300);\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-blue-600 {\n    border-color: var(--color-blue-600);\n  }\n  .border-gray-100 {\n    border-color: var(--color-gray-100);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-gray-400 {\n    border-color: var(--color-gray-400);\n  }\n  .border-gray-600 {\n    border-color: var(--color-gray-600);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-t-blue-500 {\n    border-top-color: var(--color-blue-500);\n  }\n  .border-r-blue-500 {\n    border-right-color: var(--color-blue-500);\n  }\n  .border-b-blue-500 {\n    border-bottom-color: var(--color-blue-500);\n  }\n  .border-b-transparent {\n    border-bottom-color: transparent;\n  }\n  .\\!bg-blue-700 {\n    background-color: var(--color-blue-700) !important;\n  }\n  .bg-\\[\\#f1f3f5\\] {\n    background-color: #f1f3f5;\n  }\n  .bg-\\[\\#f8f9fa\\] {\n    background-color: #f8f9fa;\n  }\n  .bg-black {\n    background-color: var(--color-black);\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-blue-600 {\n    background-color: var(--color-blue-600);\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-300 {\n    background-color: var(--color-gray-300);\n  }\n  .bg-gray-900 {\n    background-color: var(--color-gray-900);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-indigo-500 {\n    background-color: var(--color-indigo-500);\n  }\n  .bg-inherit {\n    background-color: inherit;\n  }\n  .bg-pink-500 {\n    background-color: var(--color-pink-500);\n  }\n  .bg-purple-500 {\n    background-color: var(--color-purple-500);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-teal-500 {\n    background-color: var(--color-teal-500);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n  }\n  .bg-yellow-500 {\n    background-color: var(--color-yellow-500);\n  }\n  .object-contain {\n    -o-object-fit: contain;\n       object-fit: contain;\n  }\n  .p-0 {\n    padding: calc(var(--spacing) * 0);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .p-\\[5px\\] {\n    padding: 5px;\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-4 {\n    padding-right: calc(var(--spacing) * 4);\n  }\n  .pr-7 {\n    padding-right: calc(var(--spacing) * 7);\n  }\n  .pr-9 {\n    padding-right: calc(var(--spacing) * 9);\n  }\n  .pb-2 {\n    padding-bottom: calc(var(--spacing) * 2);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-8 {\n    padding-left: calc(var(--spacing) * 8);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .align-bottom {\n    vertical-align: bottom;\n  }\n  .align-middle {\n    vertical-align: middle;\n  }\n  .align-top {\n    vertical-align: top;\n  }\n  .text-base {\n    font-size: var(--text-base);\n    line-height: var(--tw-leading, var(--text-base--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .text-\\[13px\\] {\n    font-size: 13px;\n  }\n  .leading-none {\n    --tw-leading: 1;\n    line-height: 1;\n  }\n  .leading-tight {\n    --tw-leading: var(--leading-tight);\n    line-height: var(--leading-tight);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .text-black {\n    color: var(--color-black);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-blue-700 {\n    color: var(--color-blue-700);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-gray-700 {\n    color: var(--color-gray-700);\n  }\n  .text-gray-800 {\n    color: var(--color-gray-800);\n  }\n  .text-gray-900 {\n    color: var(--color-gray-900);\n  }\n  .text-red-600 {\n    color: var(--color-red-600);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .uppercase {\n    text-transform: uppercase;\n  }\n  .\\!italic {\n    font-style: italic !important;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .placeholder-gray-500 {\n    &::-moz-placeholder {\n      color: var(--color-gray-500);\n    }\n    &::placeholder {\n      color: var(--color-gray-500);\n    }\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-25 {\n    opacity: 25%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .ring {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-2 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xs {\n    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.05));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .ring-blue-200 {\n    --tw-ring-color: var(--color-blue-200);\n  }\n  .ring-blue-500 {\n    --tw-ring-color: var(--color-blue-500);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-1 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-2 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 2px;\n  }\n  .-outline-offset-1 {\n    outline-offset: calc(1px * -1);\n  }\n  .-outline-offset-2 {\n    outline-offset: calc(2px * -1);\n  }\n  .outline-offset-2 {\n    outline-offset: 2px;\n  }\n  .outline-blue-500 {\n    outline-color: var(--color-blue-500);\n  }\n  .outline-gray-300 {\n    outline-color: var(--color-gray-300);\n  }\n  .blur {\n    --tw-blur: blur(8px);\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .filter\\! {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,) !important;\n  }\n  .backdrop-blur {\n    --tw-backdrop-blur: blur(8px);\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-filter {\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .\\[abi\\:nn180100\\] {\n    abi: nn180100;\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    -moz-user-select: none;\n         user-select: none;\n  }\n  .peer-checked\\:opacity-100 {\n    &:is(:where(.peer):checked ~ *) {\n      opacity: 100%;\n    }\n  }\n  .first\\:mt-0 {\n    &:first-child {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .checked\\:border-blue-600 {\n    &:checked {\n      border-color: var(--color-blue-600);\n    }\n  }\n  .checked\\:bg-blue-600 {\n    &:checked {\n      background-color: var(--color-blue-600);\n    }\n  }\n  .hover\\:border-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        border-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:border-b-gray-500 {\n    &:hover {\n      @media (hover: hover) {\n        border-bottom-color: var(--color-gray-500);\n      }\n    }\n  }\n  .hover\\:\\!bg-blue-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-700) !important;\n      }\n    }\n  }\n  .hover\\:bg-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:bg-blue-900 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-900);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-gray-400 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-400);\n      }\n    }\n  }\n  .hover\\:bg-transparent {\n    &:hover {\n      @media (hover: hover) {\n        background-color: transparent;\n      }\n    }\n  }\n  .hover\\:text-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:text-gray-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-600);\n      }\n    }\n  }\n  .hover\\:text-gray-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-700);\n      }\n    }\n  }\n  .hover\\:text-white {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-white);\n      }\n    }\n  }\n  .hover\\:ring {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-0 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-md {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:ring-transparent {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: transparent;\n      }\n    }\n  }\n  .focus\\:border-blue-500 {\n    &:focus {\n      border-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:border-transparent {\n    &:focus {\n      border-color: transparent;\n    }\n  }\n  .focus\\:ring-1 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-blue-500 {\n    &:focus {\n      --tw-ring-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .active\\:cursor-grabbing {\n    &:active {\n      cursor: grabbing;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:bg-gray-300 {\n    &:disabled {\n      background-color: var(--color-gray-300);\n    }\n  }\n  .disabled\\:opacity-40 {\n    &:disabled {\n      opacity: 40%;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .md\\:static {\n    @media (width >= 48rem) {\n      position: static;\n    }\n  }\n  .md\\:flex {\n    @media (width >= 48rem) {\n      display: flex;\n    }\n  }\n  .md\\:hidden {\n    @media (width >= 48rem) {\n      display: none;\n    }\n  }\n  .md\\:h-auto {\n    @media (width >= 48rem) {\n      height: auto;\n    }\n  }\n  .md\\:h-full {\n    @media (width >= 48rem) {\n      height: 100%;\n    }\n  }\n  .md\\:max-h-\\[80vh\\] {\n    @media (width >= 48rem) {\n      max-height: 80vh;\n    }\n  }\n  .md\\:w-\\[28rem\\] {\n    @media (width >= 48rem) {\n      width: 28rem;\n    }\n  }\n  .md\\:w-\\[275px\\] {\n    @media (width >= 48rem) {\n      width: 275px;\n    }\n  }\n  .md\\:max-w-\\[90vw\\] {\n    @media (width >= 48rem) {\n      max-width: 90vw;\n    }\n  }\n  .md\\:min-w-\\[275px\\] {\n    @media (width >= 48rem) {\n      min-width: 275px;\n    }\n  }\n  .md\\:flex-none {\n    @media (width >= 48rem) {\n      flex: none;\n    }\n  }\n  .md\\:flex-row {\n    @media (width >= 48rem) {\n      flex-direction: row;\n    }\n  }\n  .md\\:items-center {\n    @media (width >= 48rem) {\n      align-items: center;\n    }\n  }\n  .md\\:justify-center {\n    @media (width >= 48rem) {\n      justify-content: center;\n    }\n  }\n  .md\\:rounded-lg {\n    @media (width >= 48rem) {\n      border-radius: var(--radius-lg);\n    }\n  }\n  .md\\:border {\n    @media (width >= 48rem) {\n      border-style: var(--tw-border-style);\n      border-width: 1px;\n    }\n  }\n  .md\\:border-t-0 {\n    @media (width >= 48rem) {\n      border-top-style: var(--tw-border-style);\n      border-top-width: 0px;\n    }\n  }\n  .md\\:border-r {\n    @media (width >= 48rem) {\n      border-right-style: var(--tw-border-style);\n      border-right-width: 1px;\n    }\n  }\n  .md\\:border-l {\n    @media (width >= 48rem) {\n      border-left-style: var(--tw-border-style);\n      border-left-width: 1px;\n    }\n  }\n  .md\\:border-gray-200 {\n    @media (width >= 48rem) {\n      border-color: var(--color-gray-200);\n    }\n  }\n  .md\\:shadow-lg {\n    @media (width >= 48rem) {\n      --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!top-auto {\n    @container (width < 600px) {\n      top: auto !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!right-0 {\n    @container (width < 600px) {\n      right: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!bottom-0 {\n    @container (width < 600px) {\n      bottom: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!left-0 {\n    @container (width < 600px) {\n      left: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@min-\\[400px\\]\\:block {\n    @container (width >= 400px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[400px\\]\\:flex {\n    @container (width >= 400px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[400px\\]\\:hidden {\n    @container (width >= 400px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[500px\\]\\:block {\n    @container (width >= 500px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[500px\\]\\:hidden {\n    @container (width >= 500px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[600px\\]\\:block {\n    @container (width >= 600px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[600px\\]\\:flex {\n    @container (width >= 600px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[600px\\]\\:hidden {\n    @container (width >= 600px) {\n      display: none;\n    }\n  }\n  .dark\\:border-gray-600 {\n    @media (prefers-color-scheme: dark) {\n      border-color: var(--color-gray-600);\n    }\n  }\n  .dark\\:bg-gray-700 {\n    @media (prefers-color-scheme: dark) {\n      background-color: var(--color-gray-700);\n    }\n  }\n  .dark\\:bg-gray-800 {\n    @media (prefers-color-scheme: dark) {\n      background-color: var(--color-gray-800);\n    }\n  }\n  .dark\\:text-gray-200 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-200);\n    }\n  }\n  .dark\\:text-gray-300 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-300);\n    }\n  }\n  .dark\\:text-white {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-white);\n    }\n  }\n  .dark\\:hover\\:bg-gray-700 {\n    @media (prefers-color-scheme: dark) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-gray-700);\n        }\n      }\n    }\n  }\n}\n@import url(\'https://fonts.googleapis.com/css2?family=Open Sans:wght@400;600&amp;display=swap\');\n:host {\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-translate-z: 0;\n  --tw-rotate-x: rotateX(0);\n  --tw-rotate-y: rotateY(0);\n  --tw-rotate-z: rotateZ(0);\n  --tw-skew-x: skewX(0);\n  --tw-skew-y: skewY(0);\n  --tw-border-style: solid;\n  --tw-gradient-from: #0000;\n  --tw-gradient-via: #0000;\n  --tw-gradient-to: #0000;\n  --tw-gradient-from-position: 0%;\n  --tw-gradient-via-position: 50%;\n  --tw-gradient-to-position: 100%;\n  --tw-shadow: 0 0 #0000;\n  --tw-inset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-inset-ring-shadow: 0 0 #0000;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-outline-style: solid;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes ping {\n  75%, 100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n@keyframes pulse {\n  50% {\n    opacity: 0.5;\n  }\n}\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(-25%);\n    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n  }\n  50% {\n    transform: none;\n    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-scale-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateX(0);\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateY(0);\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateZ(0);\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewX(0);\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewY(0);\n}\n@property --tw-pan-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pan-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pinch-zoom {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-divide-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\n',ue=0,he=[],pe=k,ge=pe.__b,me=pe.__r,fe=pe.diffed,ve=pe.__c,ye=pe.unmount,be=pe.__;function we(e,t){pe.__h&&pe.__h(le,e,ue||t),ue=0;var n=le.__H||(le.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function xe(e){return ue=1,function(e,t,n){var o=we(ae++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Ne(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=le,!le.__f)){var i=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var a=o.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),r&&r.call(this,e,t,n)||a};le.__f=!0;var r=le.shouldComponentUpdate,a=le.componentWillUpdate;le.componentWillUpdate=function(e,t,n){if(this.__e){var o=r;r=void 0,i(e,t,n),r=o}a&&a.call(this,e,t,n)},le.shouldComponentUpdate=i}return o.__N||o.__}(Ne,e)}function ke(e,t){var n=we(ae++,3);!pe.__s&&ze(n.__H,t)&&(n.__=e,n.u=t,le.__H.__h.push(n))}function Ce(e,t){var n=we(ae++,4);!pe.__s&&ze(n.__H,t)&&(n.__=e,n.u=t,le.__h.push(n))}function Se(e){return ue=5,Me((function(){return{current:e}}),[])}function Me(e,t){var n=we(ae++,7);return ze(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ie(e,t){return ue=8,Me((function(){return e}),t)}function Pe(){for(var e;e=he.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Te),e.__H.__h.forEach(Ee),e.__H.__h=[]}catch(t){e.__H.__h=[],pe.__e(t,e.__v)}}pe.__b=function(e){le=null,ge&&ge(e)},pe.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),be&&be(e,t)},pe.__r=function(e){me&&me(e),ae=0;var t=(le=e.__c).__H;t&&(se===le?(t.__h=[],le.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(Te),t.__h.forEach(Ee),t.__h=[],ae=0)),se=le},pe.diffed=function(e){fe&&fe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==he.push(t)&&ce===pe.requestAnimationFrame||((ce=pe.requestAnimationFrame)||_e)(Pe)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),se=le=null},pe.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Te),e.__h=e.__h.filter((function(e){return!e.__||Ee(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],pe.__e(n,e.__v)}})),ve&&ve(e,t)},pe.unmount=function(e){ye&&ye(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Te(e)}catch(e){t=e}})),n.__H=void 0,t&&pe.__e(t,n.__v))};var Ae="function"==typeof requestAnimationFrame;function _e(e){var t,n=function(){clearTimeout(o),Ae&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Ae&&(t=requestAnimationFrame(n))}function Te(e){var t=le,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),le=t}function Ee(e){var t=le;e.__c=e.__(),le=t}function ze(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Ne(e,t){return"function"==typeof t?t(e):t}var Re=0;function Le(e,t,n,o,i,r){t||(t={});var a,l,s=t;if("ref"in s)for(l in s={},t)"ref"==l?a=t[l]:s[l]=t[l];var c={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Re,__i:-1,__u:0,__source:i,__self:r};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===s[l]&&(s[l]=a[l]);return k.vnode&&k.vnode(c),c}var De=(e=>(e[e.Degree0=0]="Degree0",e[e.Degree90=1]="Degree90",e[e.Degree180=2]="Degree180",e[e.Degree270=3]="Degree270",e))(De||{});function Oe(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function He(e){return{width:Math.ceil(e.width),height:Math.ceil(e.height)}}function Be(e){return{origin:Oe(e.origin),size:He(e.size)}}function je(e){const{width:t,height:n}=e;return{width:n,height:t}}function $e(e,t,n){return{width:(e=t%2==0?e:je(e)).width*n,height:e.height*n}}function Fe(e){const t=[e.p1.x,e.p2.x,e.p3.x,e.p4.x],n=[e.p1.y,e.p2.y,e.p3.y,e.p4.y];return{origin:{x:Math.min(...t),y:Math.min(...n)},size:{width:Math.max(...t)-Math.min(...t),height:Math.max(...n)-Math.min(...n)}}}function Ue(e){return{p1:{x:e.origin.x,y:e.origin.y},p2:{x:e.origin.x+e.size.width,y:e.origin.y},p3:{x:e.origin.x+e.size.width,y:e.origin.y+e.size.height},p4:{x:e.origin.x,y:e.origin.y+e.size.height}}}function We(e,t,n){let o=t.x,i=t.y;switch(n){case 0:o=t.x,i=t.y;break;case 1:o=e.height-t.y,i=t.x;break;case 2:o=e.width-t.x,i=e.height-t.y;break;case 3:o=t.y,i=e.width-t.x}return{x:o,y:i}}function Ge(e,t){return{x:e.x*t,y:e.y*t}}function Ve(e){if(0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const t=e.map((e=>e.x)),n=e.map((e=>e.y)),o=Math.min(...t),i=Math.min(...n);return{origin:{x:o,y:i},size:{width:Math.max(...t)-o,height:Math.max(...n)-i}}}function qe(e,t){return{origin:{x:e.origin.x-t,y:e.origin.y-t},size:{width:e.size.width+2*t,height:e.size.height+2*t}}}function Ze(e,t,n){let o=t.origin.x,i=t.origin.y,r=t.size;switch(n){case 0:break;case 1:o=e.height-t.origin.y-t.size.height,i=t.origin.x,r=je(t.size);break;case 2:o=e.width-t.origin.x-t.size.width,i=e.height-t.origin.y-t.size.height;break;case 3:o=t.origin.y,i=e.width-t.origin.x-t.size.width,r=je(t.size)}return{origin:{x:o,y:i},size:{width:r.width,height:r.height}}}function Ye(e,t){return{origin:{x:e.origin.x*t,y:e.origin.y*t},size:{width:e.size.width*t,height:e.size.height*t}}}function Xe(e,t,n,o){return Ye(Ze(e,t,n),o)}function Ke(e,t,n){let o=e.x,i=e.y;switch(t){case 0:o=e.x/n,i=e.y/n;break;case 1:o=e.y/n,i=-e.x/n;break;case 2:o=-e.x/n,i=-e.y/n;break;case 3:o=-e.y/n,i=e.x/n}return{x:o,y:i}}function Qe(e){if(0===e.length)return null;let t=e[0].origin.x,n=e[0].origin.y,o=e[0].origin.x+e[0].size.width,i=e[0].origin.y+e[0].size.height;for(const r of e)t=Math.min(t,r.origin.x),n=Math.min(n,r.origin.y),o=Math.max(o,r.origin.x+r.size.width),i=Math.max(i,r.origin.y+r.size.height);return{origin:{x:t,y:n},size:{width:o-t,height:i-n}}}function Je(e,t,n,o){const i=e.origin.x,r=e.origin.y,a=e.size.width,l=e.size.height,s=n/a,c=o/l,d=n/l,u=o/a;switch(t){case 0:return{a:s,b:0,c:0,d:c,e:-s*i,f:-c*r};case 3:return{a:0,b:-u,c:d,d:0,e:-d*r,f:u*(i+a)};case 2:return{a:-s,b:0,c:0,d:-c,e:s*(i+a),f:c*(r+l)};case 1:return{a:0,b:u,c:-d,d:0,e:d*(r+l),f:-u*i}}}class et{isEnabled(){return!1}debug(){}info(){}warn(){}error(){}perf(){}}class tt{isEnabled(){return!0}debug(e,t,...n){console.debug(`${e}.${t}`,...n)}info(e,t,...n){console.info(`${e}.${t}`,...n)}warn(e,t,...n){console.warn(`${e}.${t}`,...n)}error(e,t,...n){console.error(`${e}.${t}`,...n)}perf(e,t,n,o,...i){console.info(`${e}.${t}.${n}.${o}`,...i)}}class nt{constructor(e,t){this.logger=e,this.level=t}isEnabled(e){return this.level<={debug:0,info:1,warn:2,error:3}[e]}debug(e,t,...n){this.level<=0&&this.logger.debug(e,t,...n)}info(e,t,...n){this.level<=1&&this.logger.info(e,t,...n)}warn(e,t,...n){this.level<=2&&this.logger.warn(e,t,...n)}error(e,t,...n){this.level<=3&&this.logger.error(e,t,...n)}perf(e,t,n,o,...i){this.logger.perf(e,t,n,o,...i)}}class ot{constructor(){}isEnabled(){return!1}debug(e,t,...n){}info(e,t,...n){}warn(e,t,...n){}error(e,t,...n){}perf(e,t,n,o,i,...r){switch(o){case"Begin":globalThis.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r});break;case"End":globalThis.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r}),globalThis.performance.measure(`${e}.${t}.${n}.Measure.${i}`,`${e}.${t}.${n}.Begin.${i}`,`${e}.${t}.${n}.End.${i}`)}}}class it{constructor(e){this.loggers=e}isEnabled(e){return this.loggers.some((t=>t.isEnabled(e)))}debug(e,t,...n){for(const o of this.loggers)o.debug(e,t,...n)}info(e,t,...n){for(const o of this.loggers)o.info(e,t,...n)}warn(e,t,...n){for(const o of this.loggers)o.warn(e,t,...n)}error(e,t,...n){for(const o of this.loggers)o.error(e,t,...n)}perf(e,t,n,o,...i){for(const r of this.loggers)r.perf(e,t,n,o,...i)}}class rt extends Error{constructor(e){super(`Task aborted: ${JSON.stringify(e)}`),this.name="TaskAbortedError"}}class at extends Error{constructor(e){super(`Task rejected: ${JSON.stringify(e)}`),this.name="TaskRejectedError"}}class lt{constructor(){this.state={stage:0},this.resolvedCallbacks=[],this.rejectedCallbacks=[],this._promise=null,this.progressCbs=[]}toPromise(){return this._promise||(this._promise=new Promise(((e,t)=>{this.wait((t=>e(t)),(e=>{"abort"===e.type?t(new rt(e.reason)):t(new at(e.reason))}))}))),this._promise}wait(e,t){switch(this.state.stage){case 0:this.resolvedCallbacks.push(e),this.rejectedCallbacks.push(t);break;case 1:e(this.state.result);break;case 2:t({type:"reject",reason:this.state.reason});break;case 3:t({type:"abort",reason:this.state.reason})}}resolve(e){if(0===this.state.stage){this.state={stage:1,result:e};for(const t of this.resolvedCallbacks)try{t(e)}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}reject(e){if(0===this.state.stage){this.state={stage:2,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"reject",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}abort(e){if(0===this.state.stage){this.state={stage:3,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"abort",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}fail(e){"abort"===e.type?this.abort(e.reason):this.reject(e.reason)}onProgress(e){this.progressCbs.push(e)}progress(e){for(const t of this.progressCbs)t(e)}static all(e){const t=new lt;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0,i=!1;return e.forEach(((r,a)=>{r.wait((r=>{i||(n[a]=r,o++,o===e.length&&(i=!0,t.resolve(n)))}),(e=>{i||(i=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))}))})),t}static allSettled(e){const t=new lt;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0;return e.forEach(((i,r)=>{i.wait((i=>{n[r]={status:"resolved",value:i},o++,o===e.length&&t.resolve(n)}),(i=>{n[r]={status:"abort"===i.type?"aborted":"rejected",reason:i.reason},o++,o===e.length&&t.resolve(n)}))})),t}static race(e){const t=new lt;if(0===e.length)return t.reject("No tasks provided"),t;let n=!1;return e.forEach((e=>{e.wait((e=>{n||(n=!0,t.resolve(e))}),(e=>{n||(n=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))}))})),t}static withProgress(e,t){const n=lt.all(e);if(t){let n=0;e.forEach((o=>{o.wait((()=>{n++,t(n,e.length)}),(()=>{n++,t(n,e.length)}))}))}return n}}const st=Object.freeze(["­","​","⁠","\ufeff","￾","￿"]),ct=new RegExp(`[${st.join("")}]`,"g");function dt(e){return e.replace(ct,"")}var ut=(e=>(e[e.Unknown=0]="Unknown",e[e.XYZ=1]="XYZ",e[e.FitPage=2]="FitPage",e[e.FitHorizontal=3]="FitHorizontal",e[e.FitVertical=4]="FitVertical",e[e.FitRectangle=5]="FitRectangle",e))(ut||{}),ht=(e=>(e[e.Unknown=-1]="Unknown",e[e.Courier=0]="Courier",e[e.Courier_Bold=1]="Courier_Bold",e[e.Courier_BoldOblique=2]="Courier_BoldOblique",e[e.Courier_Oblique=3]="Courier_Oblique",e[e.Helvetica=4]="Helvetica",e[e.Helvetica_Bold=5]="Helvetica_Bold",e[e.Helvetica_BoldOblique=6]="Helvetica_BoldOblique",e[e.Helvetica_Oblique=7]="Helvetica_Oblique",e[e.Times_Roman=8]="Times_Roman",e[e.Times_Bold=9]="Times_Bold",e[e.Times_BoldItalic=10]="Times_BoldItalic",e[e.Times_Italic=11]="Times_Italic",e[e.Symbol=12]="Symbol",e[e.ZapfDingbats=13]="ZapfDingbats",e))(ht||{}),pt=(e=>(e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e))(pt||{}),gt=(e=>(e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",e))(gt||{}),mt=(e=>(e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity",e))(mt||{}),ft=(e=>(e[e.Unsupported=0]="Unsupported",e[e.Goto=1]="Goto",e[e.RemoteGoto=2]="RemoteGoto",e[e.URI=3]="URI",e[e.LaunchAppOrOpenFile=4]="LaunchAppOrOpenFile",e))(ft||{}),vt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.LINK=2]="LINK",e[e.FREETEXT=3]="FREETEXT",e[e.LINE=4]="LINE",e[e.SQUARE=5]="SQUARE",e[e.CIRCLE=6]="CIRCLE",e[e.POLYGON=7]="POLYGON",e[e.POLYLINE=8]="POLYLINE",e[e.HIGHLIGHT=9]="HIGHLIGHT",e[e.UNDERLINE=10]="UNDERLINE",e[e.SQUIGGLY=11]="SQUIGGLY",e[e.STRIKEOUT=12]="STRIKEOUT",e[e.STAMP=13]="STAMP",e[e.CARET=14]="CARET",e[e.INK=15]="INK",e[e.POPUP=16]="POPUP",e[e.FILEATTACHMENT=17]="FILEATTACHMENT",e[e.SOUND=18]="SOUND",e[e.MOVIE=19]="MOVIE",e[e.WIDGET=20]="WIDGET",e[e.SCREEN=21]="SCREEN",e[e.PRINTERMARK=22]="PRINTERMARK",e[e.TRAPNET=23]="TRAPNET",e[e.WATERMARK=24]="WATERMARK",e[e.THREED=25]="THREED",e[e.RICHMEDIA=26]="RICHMEDIA",e[e.XFAWIDGET=27]="XFAWIDGET",e[e.REDACT=28]="REDACT",e))(vt||{}),yt=(e=>(e[e.Normal=0]="Normal",e[e.Rollover=1]="Rollover",e[e.Down=2]="Down",e))(yt||{}),bt=(e=>(e[e.Unknown=-1]="Unknown",e[e.Comment=0]="Comment",e[e.Key=1]="Key",e[e.Note=2]="Note",e[e.Help=3]="Help",e[e.NewParagraph=4]="NewParagraph",e[e.Paragraph=5]="Paragraph",e[e.Insert=6]="Insert",e[e.Graph=7]="Graph",e[e.PushPin=8]="PushPin",e[e.Paperclip=9]="Paperclip",e[e.Tag=10]="Tag",e[e.Speaker=11]="Speaker",e[e.Mic=12]="Mic",e[e.Approved=13]="Approved",e[e.Experimental=14]="Experimental",e[e.NotApproved=15]="NotApproved",e[e.AsIs=16]="AsIs",e[e.Expired=17]="Expired",e[e.NotForPublicRelease=18]="NotForPublicRelease",e[e.Confidential=19]="Confidential",e[e.Final=20]="Final",e[e.Sold=21]="Sold",e[e.Departmental=22]="Departmental",e[e.ForComment=23]="ForComment",e[e.TopSecret=24]="TopSecret",e[e.Draft=25]="Draft",e[e.ForPublicRelease=26]="ForPublicRelease",e))(bt||{}),wt=(e=>(e[e.None=0]="None",e[e.Square=1]="Square",e[e.Circle=2]="Circle",e[e.Diamond=3]="Diamond",e[e.OpenArrow=4]="OpenArrow",e[e.ClosedArrow=5]="ClosedArrow",e[e.Butt=6]="Butt",e[e.ROpenArrow=7]="ROpenArrow",e[e.RClosedArrow=8]="RClosedArrow",e[e.Slash=9]="Slash",e[e.Unknown=10]="Unknown",e))(wt||{}),xt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.PUSHBUTTON=1]="PUSHBUTTON",e[e.CHECKBOX=2]="CHECKBOX",e[e.RADIOBUTTON=3]="RADIOBUTTON",e[e.COMBOBOX=4]="COMBOBOX",e[e.LISTBOX=5]="LISTBOX",e[e.TEXTFIELD=6]="TEXTFIELD",e[e.SIGNATURE=7]="SIGNATURE",e[e.XFA=8]="XFA",e[e.XFA_CHECKBOX=9]="XFA_CHECKBOX",e[e.XFA_COMBOBOX=10]="XFA_COMBOBOX",e[e.XFA_IMAGEFIELD=11]="XFA_IMAGEFIELD",e[e.XFA_LISTBOX=12]="XFA_LISTBOX",e[e.XFA_PUSHBUTTON=13]="XFA_PUSHBUTTON",e[e.XFA_SIGNATURE=14]="XFA_SIGNATURE",e[e.XFA_TEXTFIELD=15]="XFA_TEXTFIELD",e))(xt||{}),kt=(e=>(e[e.Color=0]="Color",e[e.InteriorColor=1]="InteriorColor",e))(kt||{}),Ct=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.SOLID=1]="SOLID",e[e.DASHED=2]="DASHED",e[e.BEVELED=3]="BEVELED",e[e.INSET=4]="INSET",e[e.UNDERLINE=5]="UNDERLINE",e[e.CLOUDY=6]="CLOUDY",e))(Ct||{}),St=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.PATH=2]="PATH",e[e.IMAGE=3]="IMAGE",e[e.SHADING=4]="SHADING",e[e.FORM=5]="FORM",e))(St||{});const Mt=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"}),It=Object.entries(Mt).reduce(((e,[t,n])=>(e[n]=Number(t),e)),{});function Pt(e){return Object.keys(Mt).filter((t=>!!(e&t))).map((e=>Mt[e]))}function At(e){return e.reduce(((e,t)=>e|It[t]),0)}var _t=(e=>(e[e.None=0]="None",e[e.MatchCase=1]="MatchCase",e[e.MatchWholeWord=2]="MatchWholeWord",e[e.MatchConsecutive=4]="MatchConsecutive",e))(_t||{}),Tt=(e=>(e[e.Display=0]="Display",e[e.Print=1]="Print",e))(Tt||{}),Et=(e=>(e[e.Ok=0]="Ok",e[e.Unknown=1]="Unknown",e[e.NotFound=2]="NotFound",e[e.WrongFormat=3]="WrongFormat",e[e.Password=4]="Password",e[e.Security=5]="Security",e[e.PageError=6]="PageError",e[e.XFALoad=7]="XFALoad",e[e.XFALayout=8]="XFALayout",e[e.Cancelled=9]="Cancelled",e[e.Initialization=10]="Initialization",e[e.NotReady=11]="NotReady",e[e.NotSupport=12]="NotSupport",e[e.LoadDoc=13]="LoadDoc",e[e.DocNotOpen=14]="DocNotOpen",e[e.CantCloseDoc=15]="CantCloseDoc",e[e.CantCreateNewDoc=16]="CantCreateNewDoc",e[e.CantImportPages=17]="CantImportPages",e[e.CantCreateAnnot=18]="CantCreateAnnot",e[e.CantSetAnnotRect=19]="CantSetAnnotRect",e[e.CantSetAnnotContent=20]="CantSetAnnotContent",e[e.CantRemoveInkList=21]="CantRemoveInkList",e[e.CantAddInkStoke=22]="CantAddInkStoke",e[e.CantReadAttachmentSize=23]="CantReadAttachmentSize",e[e.CantReadAttachmentContent=24]="CantReadAttachmentContent",e[e.CantFocusAnnot=25]="CantFocusAnnot",e[e.CantSelectText=26]="CantSelectText",e[e.CantSelectOption=27]="CantSelectOption",e[e.CantCheckField=28]="CantCheckField",e[e.CantSetAnnotString=29]="CantSetAnnotString",e))(Et||{});class zt{static create(){return new lt}static resolve(e){const t=new lt;return t.resolve(e),t}static reject(e){const t=new lt;return t.reject(e),t}static abort(e){const t=new lt;return t.reject(e),t}}function Nt(e){const t=e=>(e=>Math.max(0,Math.min(255,e)))(e).toString(16).padStart(2,"0");return`#${t(e.red)}${t(e.green)}${t(e.blue)}`}function Rt(e){/^#?[0-9a-f]{3}$/i.test(e)&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"#$1$1$2$2$3$3").toLowerCase());const[,t,n,o]=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e)??(()=>{throw new Error(`Invalid hex colour: "${e}"`)})();return{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16)}}function Lt(e){return(e=>Math.max(0,Math.min(255,e)))(e)/255}function Dt(e){return((e,t=255)=>Math.max(0,Math.min(t,e)))(Math.round(255*e))}function Ot(e){if(!(null==e?void 0:e.startsWith("D:"))||e.length<16)return;const t=+e.slice(2,6),n=+e.slice(6,8)-1,o=+e.slice(8,10),i=+e.slice(10,12),r=+e.slice(12,14),a=+e.slice(14,16);return new Date(Date.UTC(t,n,o,i,r,a))}function Ht(e=new Date){const t=(e,t=2)=>e.toString().padStart(t,"0");return`D:${e.getUTCFullYear()}${t(e.getUTCMonth()+1)}${t(e.getUTCDate())}${t(e.getUTCHours())}${t(e.getUTCMinutes())}${t(e.getUTCSeconds())}`}const Bt=Object.freeze([{id:pt.Left,label:"Left",css:"left"},{id:pt.Center,label:"Center",css:"center"},{id:pt.Right,label:"Right",css:"right"}]),jt=Bt.reduce(((e,t)=>(e[t.id]=t,e)),{});function $t(e){return function(e){return jt[e]??jt[pt.Left]}(e).css}Bt.reduce(((e,t)=>(e[t.css]=t.id,e)),{}),Bt.map((e=>({value:e.id,label:e.label})));var Ft=(e=>(e.Courier="Courier",e.Helvetica="Helvetica",e.Times="Times",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats",e.Unknown="Unknown",e))(Ft||{});const Ut=ht.Helvetica,Wt={id:ht.Helvetica,family:"Helvetica",bold:!1,italic:!1,label:"Helvetica",css:"Helvetica, Arial, sans-serif"},Gt=Object.freeze([{id:ht.Courier,family:"Courier",bold:!1,italic:!1,label:"Courier",css:"Courier, monospace"},{id:ht.Courier_Bold,family:"Courier",bold:!0,italic:!1,label:"Courier Bold",css:'"Courier-Bold", Courier, monospace'},{id:ht.Courier_BoldOblique,family:"Courier",bold:!0,italic:!0,label:"Courier Bold Oblique",css:'"Courier-BoldOblique", Courier, monospace'},{id:ht.Courier_Oblique,family:"Courier",bold:!1,italic:!0,label:"Courier Oblique",css:'"Courier-Oblique", Courier, monospace'},Wt,{id:ht.Helvetica_Bold,family:"Helvetica",bold:!0,italic:!1,label:"Helvetica Bold",css:'"Helvetica-Bold", Arial, sans-serif'},{id:ht.Helvetica_BoldOblique,family:"Helvetica",bold:!0,italic:!0,label:"Helvetica Bold Oblique",css:'"Helvetica-BoldOblique", Arial, sans-serif'},{id:ht.Helvetica_Oblique,family:"Helvetica",bold:!1,italic:!0,label:"Helvetica Oblique",css:'"Helvetica-Oblique", Arial, sans-serif'},{id:ht.Times_Roman,family:"Times",bold:!1,italic:!1,label:"Times Roman",css:'"Times New Roman", Times, serif'},{id:ht.Times_Bold,family:"Times",bold:!0,italic:!1,label:"Times Bold",css:'"Times New Roman Bold", Times, serif'},{id:ht.Times_BoldItalic,family:"Times",bold:!0,italic:!0,label:"Times Bold Italic",css:'"Times New Roman Bold Italic", Times, serif'},{id:ht.Times_Italic,family:"Times",bold:!1,italic:!0,label:"Times Italic",css:'"Times New Roman Italic", Times, serif'},{id:ht.Symbol,family:"Symbol",bold:!1,italic:!1,label:"Symbol",css:"Symbol"},{id:ht.ZapfDingbats,family:"ZapfDingbats",bold:!1,italic:!1,label:"Zapf Dingbats",css:"ZapfDingbats"}]),Vt=Gt.reduce(((e,t)=>(e[t.id]=t,e)),{}),qt=new Map;for(const e of Gt)qt.set(`${e.family}_${e.bold}_${e.italic}`,e.id);function Zt(e){return Vt[e]??Wt}function Yt(e){return Zt(e).bold}function Xt(e){return Zt(e).italic}function Kt(e,{bold:t,italic:n}){return qt.get(`${e}_${t}_${n}`)??Ut}Object.values(Ft).filter((e=>"Unknown"!==e)).map((e=>({value:e,label:e})));const Qt=[...new Set(Gt.map((e=>e.family)))];function Jt(e){switch(e){case"Courier":return"Courier";case"Helvetica":default:return"Helvetica";case"Times":return"Times";case"Symbol":return"Symbol";case"ZapfDingbats":return"ZapfDingbats"}}const en=Object.freeze([{id:mt.Normal,label:"Normal",css:"normal"},{id:mt.Multiply,label:"Multiply",css:"multiply"},{id:mt.Screen,label:"Screen",css:"screen"},{id:mt.Overlay,label:"Overlay",css:"overlay"},{id:mt.Darken,label:"Darken",css:"darken"},{id:mt.Lighten,label:"Lighten",css:"lighten"},{id:mt.ColorDodge,label:"Color Dodge",css:"color-dodge"},{id:mt.ColorBurn,label:"Color Burn",css:"color-burn"},{id:mt.HardLight,label:"Hard Light",css:"hard-light"},{id:mt.SoftLight,label:"Soft Light",css:"soft-light"},{id:mt.Difference,label:"Difference",css:"difference"},{id:mt.Exclusion,label:"Exclusion",css:"exclusion"},{id:mt.Hue,label:"Hue",css:"hue"},{id:mt.Saturation,label:"Saturation",css:"saturation"},{id:mt.Color,label:"Color",css:"color"},{id:mt.Luminosity,label:"Luminosity",css:"luminosity"}]),tn=en.reduce(((e,t)=>(e[t.id]=t,e)),{});function nn(e){return function(e){return tn[e]??tn[mt.Normal]}(e).css}en.reduce(((e,t)=>(e[t.css]=t.id,e)),{});const on=en.map((e=>({value:e.id,label:e.label})));function rn(e){if(e instanceof et)return{type:"noop"};if(e instanceof tt)return{type:"console"};if(e instanceof ot)return{type:"perf"};if(e instanceof nt){const t=e;return{type:"level",config:{level:t.level,logger:rn(t.logger)}}}if(e instanceof it){return{type:"all",config:{loggers:e.loggers.map(rn)}}}return{type:"noop"}}const an=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function ln(e){return an.test(e)}function sn(){var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.randomUUID))return globalThis.crypto.randomUUID();const t=function(e){var t;if("function"==typeof(null==(t=globalThis.crypto)?void 0:t.getRandomValues))return globalThis.crypto.getRandomValues(new Uint8Array(e));if("function"==typeof require)try{const{randomBytes:t}=require("crypto");return t(e)}catch{}const n=new Uint8Array(e);for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(16);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}function cn(){}class dn{constructor(){this.dependencyGraph=new Map}addNode(e,t=[]){this.dependencyGraph.set(e,new Set(t))}hasCircularDependencies(){const e=new Set,t=new Set,n=o=>{e.add(o),t.add(o);const i=this.dependencyGraph.get(o)||new Set;for(const o of i)if(e.has(o)){if(t.has(o))return!0}else if(n(o))return!0;return t.delete(o),!1};for(const t of this.dependencyGraph.keys())if(!e.has(t)&&n(t))return!0;return!1}resolveLoadOrder(){if(this.hasCircularDependencies())throw new Error("Circular dependencies detected");const e=[],t=new Set,n=new Set,o=i=>{if(n.has(i))throw new Error("Circular dependency");if(t.has(i))return;n.add(i);const r=this.dependencyGraph.get(i)||new Set;for(const e of r)o(e);n.delete(i),t.add(i),e.push(i)};for(const e of this.dependencyGraph.keys())t.has(e)||o(e);return e}}class un extends Error{constructor(e){super(e),this.name="PluginRegistrationError"}}class hn extends Error{constructor(e){super(e),this.name="PluginNotFoundError"}}class pn extends Error{constructor(e){super(e),this.name="CircularDependencyError"}}class gn extends Error{constructor(e){super(e),this.name="PluginConfigurationError"}}class mn{constructor(e,t){this.store=e,this.pluginId=t}getState(){return this.store.getState().plugins[this.pluginId]}dispatch(e){return this.store.dispatchToPlugin(this.pluginId,e)}subscribeToState(e){return this.store.subscribeToPlugin(this.pluginId,((t,n,o)=>{e(t,n,o)}))}onAction(e,t){return this.store.onAction(e,((e,n,o)=>{t(e,n.plugins[this.pluginId],o.plugins[this.pluginId])}))}}const fn="LOAD_DOCUMENT",vn="REFRESH_DOCUMENT",yn="REFRESH_PAGES",bn="SET_DOCUMENT",wn="SET_DOCUMENT_ERROR",xn="SET_SCALE",kn="SET_ROTATION",Cn="SET_PAGES",Sn=[fn,vn,bn,wn,xn,kn,Cn],Mn=e=>({type:Cn,payload:e});class In{constructor(e,t){this.initialCoreState=t,this.pluginReducers={},this.listeners=[],this.pluginListeners={},this.state={core:t,plugins:{}},this.coreReducer=e}addPluginReducer(e,t,n){this.state.plugins[e]=n,this.pluginReducers[e]=t}dispatchToCore(e){if(!this.coreReducer)return this.getState();const t=this.getState();this.state.core=this.coreReducer(this.state.core,e);const n=this.getState();return this.listeners.forEach((o=>o(e,n,t))),n}dispatchToPlugin(e,t,n=!0){const o=this.getState(),i=this.pluginReducers[e];if(!i)return o;const r=o.plugins[e],a=i(r,t);this.state.plugins[e]=a;const l=this.getState();return n&&this.listeners.forEach((e=>e(t,l,o))),this.pluginListeners[e]&&this.pluginListeners[e].forEach((e=>{e(t,a,r)})),a}dispatch(e){const t=this.getState();this.isCoreAction(e)&&(this.state.core=this.coreReducer(this.state.core,e));for(const n in this.pluginReducers){const o=this.pluginReducers[n],i=t.plugins[n];o&&(this.state.plugins[n]=o(i,e))}const n=this.getState();return this.listeners.forEach((o=>o(e,n,t))),n}getState(){return{core:{...this.state.core},plugins:{...this.state.plugins}}}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter((t=>t!==e))}}subscribeToPlugin(e,t){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return this.pluginListeners[e]||(this.pluginListeners[e]=[]),this.pluginListeners[e].push(t),()=>{this.pluginListeners[e]=this.pluginListeners[e].filter((e=>e!==t)),0===this.pluginListeners[e].length&&delete this.pluginListeners[e]}}onAction(e,t){return this.subscribe(((n,o,i)=>{n.type===e&&t(n,o,i)}))}getPluginStore(e){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return new mn(this,e)}isCoreAction(e){return Sn.includes(e.type)}destroy(){var e,t;this.listeners.length=0;for(const n in this.pluginListeners)null==(t=null==(e=this.pluginListeners[n])?void 0:e.splice)||t.call(e,0);this.pluginListeners={},this.pluginReducers={},this.state.plugins={},this.state.core={...this.initialCoreState}}}const Pn=e=>e.pages.map((t=>t.map((t=>({...t,rotatedSize:$e(t.size,e.rotation,1)}))))),An=(e,t)=>{switch(t.type){case fn:return{...e,loading:!0,error:null};case bn:case vn:return{...e,document:t.payload,pages:t.payload.pages.map((e=>[e])),loading:!1,error:null};case kn:return{...e,rotation:t.payload};case Cn:return{...e,pages:t.payload};case wn:return{...e,loading:!1,error:t.payload};case xn:return{...e,scale:t.payload};default:return e}};class _n{constructor(e,t){this.plugins=new Map,this.manifests=new Map,this.capabilities=new Map,this.status=new Map,this.configurations=new Map,this.engineInitialized=!1,this.initPromise=null,this.pendingRegistrations=[],this.processingRegistrations=[],this.initialized=!1,this.isInitializing=!1,this.pluginsReadyPromise=null,this.destroyed=!1,this.resolver=new dn,this.engine=e,this.initialCoreState=(e=>({scale:(null==e?void 0:e.scale)??1,rotation:(null==e?void 0:e.rotation)??De.Degree0,document:null,pages:[],loading:!1,error:null}))(t),this.store=new In(An,this.initialCoreState),this.logger=(null==t?void 0:t.logger)??new et}getLogger(){return this.logger}async ensureEngineInitialized(){if(!this.engineInitialized)if(this.engine.initialize){const e=this.engine.initialize();await e.toPromise(),this.engineInitialized=!0}else this.engineInitialized=!0}registerPlugin(e,t){if(this.initialized&&!this.isInitializing)throw new un("Cannot register plugins after initialization");this.validateManifest(e.manifest),this.store.addPluginReducer(e.manifest.id,e.reducer,"function"==typeof e.initialState?e.initialState(this.initialCoreState,{...e.manifest.defaultConfig,...t}):e.initialState),this.pendingRegistrations.push({package:e,config:t})}getStore(){return this.store}getEngine(){return this.engine}pluginsReady(){return this.pluginsReadyPromise||(this.pluginsReadyPromise=(async()=>{this.initialized||await this.initialize();const e=Array.from(this.plugins.values()).map((e=>"function"==typeof e.ready?e.ready():Promise.resolve()));await Promise.all(e)})()),this.pluginsReadyPromise}async initialize(){if(this.destroyed)throw new un("Registry has been destroyed");return this.initPromise||(this.initPromise=(async()=>{var e;if(this.initialized)throw new un("Registry is already initialized");this.isInitializing=!0;try{if(await this.ensureEngineInitialized(),this.destroyed)return;for(;this.pendingRegistrations.length>0;){if(this.destroyed)return;this.processingRegistrations=[...this.pendingRegistrations],this.pendingRegistrations=[];for(const e of this.processingRegistrations){const t=new Set,n=[...e.package.manifest.requires,...e.package.manifest.optional];for(const e of n){const n=this.processingRegistrations.find((t=>t.package.manifest.provides.includes(e)));n&&t.add(n.package.manifest.id)}this.resolver.addNode(e.package.manifest.id,[...t])}const e=this.resolver.resolveLoadOrder();for(const t of e){const e=this.processingRegistrations.find((e=>e.package.manifest.id===t));await this.initializePlugin(e.package.manifest,e.package.create,e.config)}this.processingRegistrations=[],this.resolver=new dn}for(const t of this.plugins.values())await(null==(e=t.postInitialize)?void 0:e.call(t).catch((e=>{console.error(`Error in postInitialize for plugin ${t.id}`,e),this.status.set(t.id,"error")})));this.initialized=!0}catch(e){if(e instanceof Error)throw new pn(`Failed to resolve plugin dependencies: ${e.message}`);throw e}finally{this.isInitializing=!1}})()),this.initPromise}async initializePlugin(e,t,n){const o={...e.defaultConfig,...n};this.validateConfig(e.id,o,e.defaultConfig);const i=t(this,o);this.validatePlugin(i);for(const t of e.requires)if(!this.capabilities.has(t))throw new un(`Missing required capability: ${t} for plugin ${e.id}`);for(const t of e.optional)this.capabilities.has(t)&&this.logger.debug("PluginRegistry","OptionalCapability",`Optional capability ${t} is available for plugin ${e.id}`);this.logger.debug("PluginRegistry","InitializePlugin",`Initializing plugin ${e.id}`,{provides:e.provides});for(const t of e.provides){if(this.capabilities.has(t))throw new un(`Capability ${t} is already provided by plugin ${this.capabilities.get(t)}`);this.capabilities.set(t,e.id)}this.plugins.set(e.id,i),this.manifests.set(e.id,e),this.status.set(e.id,"registered"),this.configurations.set(e.id,o);try{i.initialize&&await i.initialize(o),this.status.set(e.id,"active"),this.logger.info("PluginRegistry","PluginInitialized",`Plugin ${e.id} initialized successfully`)}catch(t){throw this.plugins.delete(e.id),this.manifests.delete(e.id),this.logger.error("PluginRegistry","InitializationFailed",`Plugin ${e.id} initialization failed`,{provides:e.provides,error:t}),e.provides.forEach((e=>this.capabilities.delete(e))),t}}getPluginConfig(e){const t=this.configurations.get(e);if(!t)throw new hn(`Configuration for plugin ${e} not found`);return t}validateConfig(e,t,n){const o=Object.keys(n).filter((e=>!t.hasOwnProperty(e)));if(o.length>0)throw new gn(`Missing required configuration keys for plugin ${e}: ${o.join(", ")}`)}async updatePluginConfig(e,t){const n=this.getPlugin(e);if(!n)throw new hn(`Plugin ${e} not found`);const o=this.manifests.get(e),i=this.configurations.get(e);if(!o||!i)throw new hn(`Plugin ${e} not found`);const r={...i,...t};this.validateConfig(e,r,o.defaultConfig),this.configurations.set(e,r),n.initialize&&await n.initialize(r)}registerPluginBatch(e){for(const t of e)this.registerPlugin(t.package,t.config)}async unregisterPlugin(e){const t=this.plugins.get(e);if(!t)throw new hn(`Plugin ${e} is not registered`);const n=this.manifests.get(e);if(!n)throw new hn(`Manifest for plugin ${e} not found`);for(const[t,o]of this.manifests.entries()){if(t===e)continue;if([...o.requires,...o.optional].some((e=>n.provides.includes(e))))throw new un(`Cannot unregister plugin ${e}: plugin ${t} depends on it`)}try{t.destroy&&await t.destroy();for(const e of n.provides)this.capabilities.delete(e);this.plugins.delete(e),this.manifests.delete(e),this.status.delete(e)}catch(t){if(t instanceof Error)throw new Error(`Failed to unregister plugin ${e}: ${t.message}`);throw t}}getPlugin(e){const t=this.plugins.get(e);return t||null}getCapabilityProvider(e){const t=this.capabilities.get(e);return t?this.getPlugin(t):null}hasCapability(e){return this.capabilities.has(e)}getAllPlugins(){return Array.from(this.plugins.values())}getPluginStatus(e){const t=this.status.get(e);if(!t)throw new hn(`Plugin ${e} not found`);return t}validatePlugin(e){if(!e.id)throw new un("Plugin must have an id")}validateManifest(e){if(!e.id)throw new un("Manifest must have an id");if(!e.name)throw new un("Manifest must have a name");if(!e.version)throw new un("Manifest must have a version");if(!Array.isArray(e.provides))throw new un("Manifest must have a provides array");if(!Array.isArray(e.requires))throw new un("Manifest must have a requires array");if(!Array.isArray(e.optional))throw new un("Manifest must have an optional array")}isDestroyed(){return this.destroyed}async destroy(){var e;if(this.destroyed)throw new un("Registry has already been destroyed");this.destroyed=!0;try{await this.initPromise}catch{}for(const t of Array.from(this.plugins.values()).reverse())await(null==(e=t.destroy)?void 0:e.call(t));this.store.destroy(),this.plugins.clear(),this.manifests.clear(),this.capabilities.clear(),this.status.clear(),this.pendingRegistrations.length=0,this.processingRegistrations.length=0}}function Tn(e,t){return{package:e,config:t}}function En(e){return"autoMountElements"in e&&"function"==typeof e.autoMountElements}class zn{constructor(e,t){if(this.id=e,this.registry=t,this.debouncedActions={},this.unsubscribeFromState=null,this.unsubscribeFromCoreStore=null,e!==this.constructor.id)throw new Error(`Plugin ID mismatch: ${e} !== ${this.constructor.id}`);this.engine=this.registry.getEngine(),this.logger=this.registry.getLogger(),this.coreStore=this.registry.getStore(),this.pluginStore=this.coreStore.getPluginStore(this.id),this.unsubscribeFromState=this.pluginStore.subscribeToState(((e,t,n)=>{this.onStoreUpdated(n,t)})),this.unsubscribeFromCoreStore=this.coreStore.subscribe(((e,t,n)=>{this.onCoreStoreUpdated(n,t)})),this.readyPromise=new Promise((e=>{this.readyResolve=e})),this.readyResolve()}provides(){if(!this._capability){const e=this.buildCapability();this._capability=Object.freeze(e)}return this._capability}get state(){return this.pluginStore.getState()}get coreState(){return this.coreStore.getState()}getState(){return this.pluginStore.getState()}getCoreState(){return this.coreStore.getState()}dispatchCoreAction(e){return this.coreStore.dispatchToCore(e)}dispatchToAllPlugins(e){return this.coreStore.dispatch(e)}dispatch(e){return this.pluginStore.dispatch(e)}debouncedDispatch(e,t=100){const n=Date.now();return n-(this.debouncedActions[e.type]||0)>=t&&(this.debouncedActions[e.type]=n,this.dispatch(e),!0)}subscribe(e){return this.pluginStore.subscribeToState(e)}subscribeToCoreStore(e){return this.coreStore.subscribe(e)}onStoreUpdated(e,t){}onCoreStoreUpdated(e,t){}destroy(){this.unsubscribeFromState&&(this.unsubscribeFromState(),this.unsubscribeFromState=null),this.unsubscribeFromCoreStore&&(this.unsubscribeFromCoreStore(),this.unsubscribeFromCoreStore=null)}ready(){return this.readyPromise}markReady(){this.readyResolve()}resetReady(){this.readyPromise=new Promise((e=>{this.readyResolve=e}))}}class Nn{constructor(e,t){this.handler=e,this.options=t,this.lastRun=0,this.handle=e=>{"debounce"===this.options.mode?this.debounce(e):this.throttle(e)}}debounce(e){this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.timeoutId=void 0}),this.options.wait)}throttle(e){if("debounce"===this.options.mode)return;const t=Date.now(),n=this.options.throttleMode||"leading-trailing";t-this.lastRun>=this.options.wait&&("leading-trailing"===n&&this.handler(e),this.lastRun=t),this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.lastRun=Date.now(),this.timeoutId=void 0}),this.options.wait-(t-this.lastRun))}destroy(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}function Rn(e,t,n){return e<t?t:e>n?n:e}function Ln(e,t,n){if(e===t)return!0;if(null==e||null==t)return e===t;const o=typeof e;if(o!==typeof t)return!1;if("object"===o){n||(n=new Set);const o=function(e,t){return`${Hn(e)}__${Hn(t)}`}(e,t);if(n.has(o))return!0;n.add(o);const i=Array.isArray(e),r=Array.isArray(t);return i&&r?function(e,t,n){if(e.length!==t.length)return!1;const o=new Array(t.length).fill(!1);e:for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<t.length;e++)if(!o[e]&&Ln(r,t[e],n)){o[e]=!0;continue e}return!1}return!0}(e,t,n):!i&&!r&&function(e,t,n){const o=Object.keys(e).sort(),i=Object.keys(t).sort();if(o.length!==i.length)return!1;for(let e=0;e<o.length;e++)if(o[e]!==i[e])return!1;for(const i of o){if(!Ln(e[i],t[i],n))return!1}return!0}(e,t,n)}return!1}let Dn=0;const On=new WeakMap;function Hn(e){return On.has(e)||On.set(e,++Dn),On.get(e)}function Bn(){const e=new Set;return{emit:(t=void 0)=>e.forEach((e=>e(t))),on:t=>(e.add(t),()=>e.delete(t)),off:t=>e.delete(t),clear:()=>e.clear()}}function jn(e,t=Ln){const n=new Set,o=new Map;let i=e;const r=(e,t)=>{let r=e,a=()=>{};if(t){const n=new Nn(e,t);r=n.handle,a=()=>n.destroy(),o.set(e,{wrapped:r,destroy:a})}return void 0!==i&&r(i),n.add(r),()=>{n.delete(r),a(),o.delete(e)}};return{get value(){return i},emit(e=void 0){void 0!==i&&t(i,e)||(i=e,(e=>{n.forEach((t=>t(e)))})(e))},on:r,off(e){const t=o.get(e);t?(n.delete(t.wrapped),t.destroy(),o.delete(e)):n.delete(e)},clear(){n.clear(),o.forEach((e=>e.destroy())),o.clear()},select:(e,t=Ln)=>(n,o)=>{let a;if(void 0!==i){const t=e(i);a=t,n(t)}return r((o=>{const i=e(o);void 0!==a&&t(a,i)||(a=i,n(i))}),o)}}}class $n{constructor(e){this.autoMountElements=[],this.package=e}addUtility(e){return this.autoMountElements.push({component:e,type:"utility"}),this}addWrapper(e){return this.autoMountElements.push({component:e,type:"wrapper"}),this}build(){return{...this.package,autoMountElements:()=>this.autoMountElements}}}function Fn(e){return new $n(e)}const Un=function(e){function t(e){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach((function(e){e.__e=!0,G(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+z++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}({registry:null,isInitializing:!0,pluginsReady:!1});function Wn({plugins:e,children:t}){const{utilities:n,wrappers:o}=Me((()=>{const t=[],n=[];for(const o of e){const e=o.package;if(En(e)){const o=e.autoMountElements()||[];for(const e of o)"utility"===e.type?t.push(e.component):"wrapper"===e.type&&n.push(e.component)}}return{utilities:t,wrappers:n}}),[e]);return Le($,{children:[o.reduce(((e,t)=>Le(t,{children:e})),t),n.map(((e,t)=>Le(e,{},`utility-${t}`)))]})}function Gn({engine:e,logger:t,onInitialized:n,plugins:o,children:i,autoMountDomElements:r=!0}){const[a,l]=xe(null),[s,c]=xe(!0),[d,u]=xe(!1),h=Se(n);ke((()=>{h.current=n}),[n]),ke((()=>{const n=new _n(e,{logger:t});n.registerPluginBatch(o);return(async()=>{var e;await n.initialize(),n.isDestroyed()||(await(null==(e=h.current)?void 0:e.call(h,n)),n.isDestroyed()||(n.pluginsReady().then((()=>{n.isDestroyed()||u(!0)})),l(n),c(!1)))})().catch(console.error),()=>{n.destroy(),l(null),c(!0),u(!1)}}),[e,o]);const p="function"==typeof i?i({registry:a,isInitializing:s,pluginsReady:d}):i;return Le(Un.Provider,{value:{registry:a,isInitializing:s,pluginsReady:d},children:d&&r?Le(Wn,{plugins:o,children:p}):p})}function Vn(){const e=function(e){var t=le.context[e.__c],n=we(ae++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(le)),t.props.value):e.__}(Un);if(void 0===e)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:t,isInitializing:n}=e;if(n)return e;if(null===t)throw new Error("PDF registry failed to initialize properly");return e}function qn(e){const{registry:t}=Vn();if(null===t)return{plugin:null,isLoading:!0,ready:new Promise((()=>{}))};const n=t.getPlugin(e);if(!n)throw new Error(`Plugin ${e} not found`);return{plugin:n,isLoading:!1,ready:n.ready()}}function Zn(e){const{plugin:t,isLoading:n,ready:o}=qn(e);if(!t)return{provides:null,isLoading:n,ready:o};if(!t.provides)throw new Error(`Plugin ${e} does not provide a capability`);return{provides:t.provides(),isLoading:n,ready:o}}const Yn="https://cdn.jsdelivr.net/npm/@embedpdf/pdfium@1.0.25/dist/pdfium.wasm";const Xn="viewport",Kn={id:Xn,name:"Viewport Plugin",version:"1.0.0",provides:["viewport"],requires:[],optional:[],defaultConfig:{enabled:!0,viewportGap:10,scrollEndDelay:300}},Qn="SET_VIEWPORT_METRICS",Jn="SET_VIEWPORT_SCROLL_METRICS",eo="SET_VIEWPORT_GAP",to="SET_SCROLL_ACTIVITY",no="SET_SMOOTH_SCROLL_ACTIVITY";function oo(e){return{type:no,payload:e}}const io={viewportGap:0,viewportMetrics:{width:0,height:0,scrollTop:0,scrollLeft:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,relativePosition:{x:0,y:0}},isScrolling:!1,isSmoothScrolling:!1},ro=class extends zn{constructor(e,t,n){var o;super(e,t),this.id=e,this.viewportResize$=jn(),this.viewportMetrics$=jn(),this.scrollMetrics$=jn(),this.scrollReq$=Bn(),this.scrollActivity$=jn(),this.rectProvider=null,n.viewportGap&&this.dispatch((o=n.viewportGap,{type:eo,payload:o})),this.scrollEndDelay=n.scrollEndDelay||100}buildCapability(){return{getViewportGap:()=>this.state.viewportGap,getMetrics:()=>this.state.viewportMetrics,getBoundingRect:()=>{var e;return(null==(e=this.rectProvider)?void 0:e.call(this))??{origin:{x:0,y:0},size:{width:0,height:0}}},scrollTo:e=>this.scrollTo(e),isScrolling:()=>this.state.isScrolling,isSmoothScrolling:()=>this.state.isSmoothScrolling,onScrollChange:this.scrollMetrics$.on,onViewportChange:this.viewportMetrics$.on,onViewportResize:this.viewportResize$.on,onScrollActivity:this.scrollActivity$.on}}setViewportResizeMetrics(e){this.dispatch(function(e){return{type:Qn,payload:e}}(e)),this.viewportResize$.emit(this.state.viewportMetrics)}setViewportScrollMetrics(e){e.scrollTop===this.state.viewportMetrics.scrollTop&&e.scrollLeft===this.state.viewportMetrics.scrollLeft||(this.dispatch(function(e){return{type:Jn,payload:e}}(e)),this.bumpScrollActivity(),this.scrollMetrics$.emit({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}))}onScrollRequest(e){return this.scrollReq$.on(e)}registerBoundingRectProvider(e){this.rectProvider=e}bumpScrollActivity(){this.debouncedDispatch({type:to,payload:!1},this.scrollEndDelay),this.debouncedDispatch(oo(!1),this.scrollEndDelay)}scrollTo(e){const{x:t,y:n,center:o,behavior:i="auto"}=e;if("smooth"===i&&this.dispatch(oo(!0)),o){const e=this.state.viewportMetrics,o=t-e.clientWidth/2,r=n-e.clientHeight/2;this.scrollReq$.emit({x:o,y:r,behavior:i})}else this.scrollReq$.emit({x:t,y:n,behavior:i})}onStoreUpdated(e,t){e!==t&&(this.viewportMetrics$.emit(t.viewportMetrics),e.isScrolling!==t.isScrolling&&this.scrollActivity$.emit(t.isScrolling))}async initialize(e){}async destroy(){super.destroy(),this.viewportMetrics$.clear(),this.viewportResize$.clear(),this.scrollMetrics$.clear(),this.scrollReq$.clear(),this.scrollActivity$.clear(),this.rectProvider=null,this.scrollEndTimer&&clearTimeout(this.scrollEndTimer)}};ro.id="viewport";let ao=ro;const lo={manifest:Kn,create:(e,t)=>new ao(Xn,e,t),reducer:(e=io,t)=>{switch(t.type){case eo:return{...e,viewportGap:t.payload};case Qn:return{...e,viewportMetrics:{width:t.payload.width,height:t.payload.height,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft,clientWidth:t.payload.clientWidth,clientHeight:t.payload.clientHeight,scrollWidth:t.payload.scrollWidth,scrollHeight:t.payload.scrollHeight,relativePosition:{x:t.payload.scrollWidth<=t.payload.clientWidth?0:t.payload.scrollLeft/(t.payload.scrollWidth-t.payload.clientWidth),y:t.payload.scrollHeight<=t.payload.clientHeight?0:t.payload.scrollTop/(t.payload.scrollHeight-t.payload.clientHeight)}}};case Jn:return{...e,viewportMetrics:{...e.viewportMetrics,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft},isScrolling:!0};case to:return{...e,isScrolling:t.payload};case no:return{...e,isSmoothScrolling:t.payload};default:return e}},initialState:io},so=()=>Zn(ao.id);function co(){const{plugin:e}=qn(ao.id),t=Se(null);return Ce((()=>{if(!e)return;const n=t.current;if(!n)return;e.registerBoundingRectProvider((()=>{const e=n.getBoundingClientRect();return{origin:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}}));const o=()=>{e.setViewportScrollMetrics({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})};n.addEventListener("scroll",o);const i=new ResizeObserver((()=>{e.setViewportResizeMetrics({width:n.offsetWidth,height:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight})}));i.observe(n);const r=e.onScrollRequest((({x:e,y:t,behavior:o="auto"})=>{requestAnimationFrame((()=>{n.scrollTo({left:e,top:t,behavior:o})}))}));return()=>{e.registerBoundingRectProvider(null),n.removeEventListener("scroll",o),i.disconnect(),r()}}),[e]),t}function uo({children:e,...t}){const[n,o]=xe(0),i=co(),{provides:r}=so();ke((()=>{r&&o(r.getViewportGap())}),[r]);const{style:a,...l}=t;return Le("div",{...l,ref:i,style:{width:"100%",height:"100%",overflow:"auto",..."object"==typeof a?a:{},padding:`${n}px`},children:e})}var ho=(e=>(e.Vertical="vertical",e.Horizontal="horizontal",e))(ho||{});class po{constructor(e){this.pageGap=e.pageGap??20,this.viewportGap=e.viewportGap??20,this.bufferSize=e.bufferSize??2}getVisibleRange(e,t,n){const o=this.getScrollOffset(e),i=o,r=o+this.getClientSize(e);let a=0;for(;a<t.length&&(t[a].offset+t[a].height)*n<=i;)a++;let l=a;for(;l<t.length&&t[l].offset*n<=r;)l++;return{start:Math.max(0,a-this.bufferSize),end:Math.min(t.length-1,l+this.bufferSize-1)}}handleScroll(e,t,n){const o=this.getVisibleRange(e,t,n),i=t.slice(o.start,o.end+1),r=this.calculatePageVisibility(i,e,n),a=r.map((e=>e.pageNumber)),l=t.slice(o.start,o.end+1).flatMap((e=>e.index)),s=this.determineCurrentPage(r),c=t[o.start],d=t[o.end],u=c?c.offset*n:0,h=d?(t[t.length-1].offset+t[t.length-1].height)*n-(d.offset+d.height)*n:0;return{currentPage:s,visiblePages:a,pageVisibilityMetrics:r,renderedPageIndexes:l,scrollOffset:{x:e.scrollLeft,y:e.scrollTop},startSpacing:u,endSpacing:h}}calculatePageVisibility(e,t,n){const o=[];return e.forEach((e=>{e.pageLayouts.forEach((i=>{const r=e.x*n,a=e.y*n,l=r+i.x*n,s=a+i.y*n,c=i.rotatedWidth*n,d=i.rotatedHeight*n,u=t.scrollLeft,h=t.scrollTop,p=u+t.clientWidth,g=h+t.clientHeight,m=Math.max(l,u),f=Math.max(s,h),v=Math.min(l+c,p),y=Math.min(s+d,g);if(m<v&&f<y){const e=v-m,t=y-f,r=c*d,a=e*t;o.push({pageNumber:i.pageNumber,viewportX:m-u,viewportY:f-h,visiblePercentage:a/r*100,original:{pageX:(m-l)/n,pageY:(f-s)/n,visibleWidth:e/n,visibleHeight:t/n,scale:1},scaled:{pageX:m-l,pageY:f-s,visibleWidth:e,visibleHeight:t,scale:n}})}}))})),o}determineCurrentPage(e){if(0===e.length)return 1;const t=Math.max(...e.map((e=>e.visiblePercentage))),n=e.filter((e=>e.visiblePercentage===t));return 1===n.length?n[0].pageNumber:n.sort(((e,t)=>e.pageNumber-t.pageNumber))[0].pageNumber}getRectLocationForPage(e,t){const n=t.find((t=>t.pageNumbers.includes(e)));if(!n)return null;const o=n.pageLayouts.find((t=>t.pageNumber===e));return o?{origin:{x:n.x+o.x,y:n.y+o.y},size:{width:o.width,height:o.height}}:null}getScrollPositionForPage(e,t,n,o,i){const r=this.getRectLocationForPage(e,t);if(!r)return null;const a=Ge(r.origin,n);if(i){const e=function(e,t,n,o){return Ge(We(e,t,n),o)}({width:r.size.width,height:r.size.height},{x:i.x,y:i.y},o,n);return{x:a.x+e.x+this.viewportGap,y:a.y+e.y+this.viewportGap}}return{x:a.x+this.viewportGap,y:a.y+this.viewportGap}}getRectPositionForPage(e,t,n,o,i){const r=this.getRectLocationForPage(e,t);if(!r)return null;const a=Ge(r.origin,n),l=Xe({width:r.size.width,height:r.size.height},i,o,n);return{origin:{x:a.x+l.origin.x,y:a.y+l.origin.y},size:l.size}}}class go extends po{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map(((e,n)=>{let o=0;const i=e.map((e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t})),r=e.reduce(((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0)),0),a=Math.max(...e.map((e=>e.rotatedSize.height))),l={id:`item-${n}`,x:0,y:t,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map((e=>e.index+1)),index:n};return t+=a+this.pageGap,l}))}getTotalContentSize(e){if(0===e.length)return{width:0,height:0};return{width:Math.max(...e.map((e=>e.width))),height:e[e.length-1].y+e[e.length-1].height}}getScrollOffset(e){return e.scrollTop}getClientSize(e){return e.clientHeight}}class mo extends po{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map(((e,n)=>{let o=0;const i=e.map((e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t})),r=e.reduce(((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0)),0),a=Math.max(...e.map((e=>e.rotatedSize.height))),l={id:`item-${n}`,x:t,y:0,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map((e=>e.index+1)),index:n};return t+=r+this.pageGap,l}))}getTotalContentSize(e){if(0===e.length)return{width:0,height:0};return{width:e[e.length-1].x+e[e.length-1].width,height:Math.max(...e.map((e=>e.height)))}}getScrollOffset(e){return e.scrollLeft}getClientSize(e){return e.clientWidth}}const fo="UPDATE_SCROLL_STATE",vo="UPDATE_TOTAL_PAGES";function yo(e){return{type:fo,payload:e}}const bo=class extends zn{constructor(e,t,n){var o,i,r,a;super(e,t),this.id=e,this.config=n,this.currentScale=1,this.currentRotation=De.Degree0,this.currentPage=1,this.layoutReady=!1,this.layout$=jn(),this.scroll$=jn(),this.state$=jn(),this.scrollerLayout$=jn(),this.pageChange$=jn(),this.layoutReady$=jn(),this.viewport=this.registry.getPlugin("viewport").provides(),this.strategyConfig={pageGap:(null==(o=this.config)?void 0:o.pageGap)??10,viewportGap:this.viewport.getViewportGap(),bufferSize:(null==(i=this.config)?void 0:i.bufferSize)??2},this.strategy=(null==(r=this.config)?void 0:r.strategy)===ho.Horizontal?new mo(this.strategyConfig):new go(this.strategyConfig),this.initialPage=null==(a=this.config)?void 0:a.initialPage,this.currentScale=this.coreState.core.scale,this.currentRotation=this.coreState.core.rotation,this.viewport.onViewportChange((e=>this.commitMetrics(this.computeMetrics(e))),{mode:"throttle",wait:100}),this.coreStore.onAction(bn,((e,t)=>{const n=t.core.pages.length;this.dispatch({type:vo,payload:n}),this.pageChange$.emit({pageNumber:this.currentPage,totalPages:n}),this.refreshAll(Pn(t.core),this.viewport.getMetrics())})),this.coreStore.onAction(kn,((e,t)=>this.refreshAll(Pn(t.core),this.viewport.getMetrics()))),this.coreStore.onAction(Cn,((e,t)=>this.refreshAll(Pn(t.core),this.viewport.getMetrics())))}computeLayout(e){const t=this.strategy.createVirtualItems(e);return{virtualItems:t,totalContentSize:this.strategy.getTotalContentSize(t)}}computeMetrics(e,t=this.state.virtualItems){return this.strategy.handleScroll(e,t,this.currentScale)}commit(e,t){this.dispatch(yo(e)),(null==t?void 0:t.layout)&&this.layout$.emit(t.layout),(null==t?void 0:t.metrics)&&(this.scroll$.emit(t.metrics),t.metrics.currentPage!==this.currentPage&&(this.currentPage=t.metrics.currentPage,this.pageChange$.emit({pageNumber:this.currentPage,totalPages:this.state.totalPages}))),this.scrollerLayout$.emit(this.getScrollerLayoutFromState())}commitMetrics(e){this.commit(e,{metrics:e})}refreshAll(e,t){const n=this.computeLayout(e),o=this.computeMetrics(t,n.virtualItems);this.commit({...n,...o},{layout:n,metrics:o})}getVirtualItemsFromState(){return this.state.virtualItems||[]}getScrollerLayoutFromState(){const e=this.coreState.core.scale;return((e,t)=>({startSpacing:e.startSpacing,endSpacing:e.endSpacing,totalWidth:e.totalContentSize.width*t,totalHeight:e.totalContentSize.height*t,pageGap:e.pageGap*t,strategy:e.strategy,items:e.renderedPageIndexes.map((n=>({...e.virtualItems[n],pageLayouts:e.virtualItems[n].pageLayouts.map((e=>({...e,rotatedWidth:e.rotatedWidth*t,rotatedHeight:e.rotatedHeight*t,width:e.width*t,height:e.height*t})))})))}))(this.state,e)}pushScrollLayout(){this.scrollerLayout$.emit(this.getScrollerLayoutFromState())}onStoreUpdated(e,t){this.pushScrollLayout()}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&(this.currentScale=t.core.scale,this.commitMetrics(this.computeMetrics(this.viewport.getMetrics()))),e.core.rotation!==t.core.rotation&&(this.currentRotation=t.core.rotation)}setScrollStrategy(e){if(e===ho.Horizontal&&this.strategy instanceof mo||e===ho.Vertical&&this.strategy instanceof go)return;this.strategy=e===ho.Horizontal?new mo(this.strategyConfig):new go(this.strategyConfig),this.dispatch(yo({strategy:e}));const t=Pn(this.coreState.core);this.refreshAll(t,this.viewport.getMetrics())}setLayoutReady(){this.layoutReady||(this.layoutReady=!0,this.layoutReady$.emit(!0))}buildCapability(){return{onStateChange:this.state$.on,onLayoutChange:this.layout$.on,onScroll:this.scroll$.on,onPageChange:this.pageChange$.on,onScrollerData:this.scrollerLayout$.on,onLayoutReady:this.layoutReady$.on,getCurrentPage:()=>this.currentPage,getTotalPages:()=>this.state.totalPages,scrollToPage:e=>{const{pageNumber:t,behavior:n="smooth",pageCoordinates:o,center:i=!1}=e,r=this.getVirtualItemsFromState(),a=this.strategy.getScrollPositionForPage(t,r,this.currentScale,this.currentRotation,o);a&&this.viewport.scrollTo({...a,behavior:n,center:i})},scrollToNextPage:(e="smooth")=>{const t=this.getVirtualItemsFromState(),n=t.findIndex((e=>e.pageNumbers.includes(this.currentPage)));if(n>=0&&n<t.length-1){const o=t[n+1],i=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);i&&this.viewport.scrollTo({...i,behavior:e})}},scrollToPreviousPage:(e="smooth")=>{const t=this.getVirtualItemsFromState(),n=t.findIndex((e=>e.pageNumbers.includes(this.currentPage)));if(n>0){const o=t[n-1],i=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);i&&this.viewport.scrollTo({...i,behavior:e})}},getMetrics:this.getMetrics.bind(this),getLayout:this.getLayout.bind(this),getRectPositionForPage:this.getRectPositionForPage.bind(this),getPageGap:()=>this.state.pageGap,getScrollerLayout:()=>this.getScrollerLayoutFromState(),setScrollStrategy:e=>this.setScrollStrategy(e)}}getMetrics(e){const t=e||this.viewport.getMetrics(),n=this.getVirtualItemsFromState();return this.strategy.handleScroll(t,n,this.currentScale)}getLayout(){return{virtualItems:this.state.virtualItems,totalContentSize:this.state.totalContentSize}}getRectPositionForPage(e,t,n,o){return this.strategy.getRectPositionForPage(e+1,this.state.virtualItems,n??this.currentScale,o??this.currentRotation,t)}async initialize(){}async destroy(){this.layout$.clear(),this.scroll$.clear(),this.pageChange$.clear(),this.state$.clear(),this.scrollerLayout$.clear(),this.layoutReady$.clear(),super.destroy()}};bo.id="scroll";let wo=bo;const xo="scroll",ko={currentPage:1,visiblePages:[],pageVisibilityMetrics:[],renderedPageIndexes:[],scrollOffset:{x:0,y:0},startSpacing:0,endSpacing:0},Co={manifest:{id:xo,name:"Scroll Plugin",version:"1.0.0",provides:["scroll"],requires:["viewport"],optional:[],defaultConfig:{enabled:!0,pageGap:10}},create:(e,t)=>new wo(xo,e,t),reducer:(e,t)=>{switch(t.type){case vo:return{...e,totalPages:t.payload};case xn:return{...e,scale:t.payload};case fo:return{...e,...t.payload};case"SET_DESIRED_SCROLL_POSITION":return{...e,desiredScrollPosition:t.payload};default:return e}},initialState:(e,t)=>((e,t)=>({virtualItems:[],totalPages:e.pages.length,totalContentSize:{width:0,height:0},desiredScrollPosition:{x:0,y:0},strategy:t.strategy??ho.Vertical,pageGap:t.pageGap??10,scale:e.scale,...ko}))(e,t)},So=()=>Zn(wo.id);function Mo({renderPage:e,overlayElements:t,...n}){const{provides:o}=So(),{plugin:i}=qn(wo.id),{registry:r}=Vn(),[a,l]=xe((()=>(null==o?void 0:o.getScrollerLayout())??null));if(ke((()=>{if(o)return o.onScrollerData(l)}),[o]),ke((()=>{i&&i.setLayoutReady()}),[i]),!a)return null;if(!r)return null;const s=r.getStore().getState();return Le("div",{...n,style:{width:`${a.totalWidth}px`,height:`${a.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...a.strategy===ho.Horizontal&&{display:"flex",flexDirection:"row"}},children:[Le("div",{style:{...a.strategy===ho.Horizontal?{width:a.startSpacing,height:"100%",flexShrink:0}:{height:a.startSpacing,width:"100%"}}}),Le("div",{style:{gap:a.pageGap,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",...a.strategy===ho.Horizontal?{flexDirection:"row",minHeight:"100%"}:{flexDirection:"column",minWidth:"fit-content"}},children:a.items.map((t=>Le("div",{style:{display:"flex",justifyContent:"center",gap:a.pageGap},children:t.pageLayouts.map((t=>Le("div",{style:{width:`${t.rotatedWidth}px`,height:`${t.rotatedHeight}px`},children:e({...t,rotation:s.core.rotation,scale:s.core.scale,document:s.core.document})},t.pageNumber)))},t.pageNumbers[0])))}),Le("div",{style:{...a.strategy===ho.Horizontal?{width:a.endSpacing,height:"100%",flexShrink:0}:{height:a.endSpacing,width:"100%"}}}),t]})}var Io=(e=>(e.None="none",e.Odd="odd",e.Even="even",e))(Io||{});const Po="SET_SPREAD_MODE";function Ao(e){return{type:Po,payload:e}}const _o=class extends zn{constructor(e,t,n){super(e,t),this.spreadEmitter$=jn(),this.resetReady(),this.dispatch(Ao(n.defaultSpreadMode??Io.None));t.getPlugin("loader").provides().onDocumentLoaded((e=>this.documentLoaded(e)))}async initialize(e){e.defaultSpreadMode&&this.dispatch(Ao(e.defaultSpreadMode))}documentLoaded(e){this.dispatchCoreAction(Mn(this.getSpreadPagesObjects(e.pages))),this.markReady()}getSpreadPagesObjects(e){if(!e.length)return[];switch(this.state.spreadMode){case Io.None:return e.map((e=>[e]));case Io.Odd:return Array.from({length:Math.ceil(e.length/2)},((t,n)=>e.slice(2*n,2*n+2)));case Io.Even:return[[e[0]],...Array.from({length:Math.ceil((e.length-1)/2)},((t,n)=>e.slice(1+2*n,1+2*n+2)))];default:return e.map((e=>[e]))}}setSpreadMode(e){const t=this.state.spreadMode,n=this.coreState.core.document;if(!n)throw new Error("Document not loaded");t!==e&&(this.dispatch(Ao(e)),this.dispatchCoreAction(Mn(this.getSpreadPagesObjects(n.pages))),this.notifySpreadChange(e))}notifySpreadChange(e){this.spreadEmitter$.emit(e)}buildCapability(){return{onSpreadChange:this.spreadEmitter$.on,setSpreadMode:e=>this.setSpreadMode(e),getSpreadMode:()=>this.state.spreadMode,getSpreadPagesObjects:e=>this.getSpreadPagesObjects(e)}}async destroy(){this.spreadEmitter$.clear()}};_o.id="spread";let To=_o;const Eo="spread",zo={id:Eo,name:"Spread Plugin",version:"1.0.0",provides:["spread"],requires:["loader"],optional:[],defaultConfig:{enabled:!0}},No={spreadMode:Io.None},Ro={manifest:zo,create:(e,t)=>new To(Eo,e,t),reducer:(e=No,t)=>t.type===Po?{...e,spreadMode:t.payload}:e,initialState:No};class Lo{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentUrl(t,n);return new Promise(((e,t)=>{i.wait((t=>e(t)),(e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))}))}))}}class Do{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentBuffer(t,n);return new Promise(((e,t)=>{i.wait((t=>e(t)),(e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))}))}))}}class Oo{constructor(){this.strategies=new Map,this.strategyResolvers=[];const e=new Do;this.registerStrategy("url",new Lo),this.registerStrategy("buffer",e),this.addStrategyResolver((e=>function(e){return"url"===e.type}(e)?this.strategies.get("url"):this.strategies.get("buffer")))}registerStrategy(e,t){this.strategies.set(e,t)}getStrategy(e){return this.strategies.get(e)}addStrategyResolver(e){this.strategyResolvers.push(e)}async loadDocument(e){try{const t=this.resolveStrategy(e);if(!t)throw new Error("No suitable strategy found for the given options");return await t.load(e)}catch(e){throw console.error("Error loading document:",e),e}}resolveStrategy(e){for(const t of this.strategyResolvers){const n=t(e);if(n)return n}}}const Ho=class extends zn{constructor(e,t){super(e,t),this.id=e,this.loaderHandlers$=jn(),this.documentLoadedHandlers$=jn(),this.openFileRequest$=Bn(),this.documentLoader=new Oo}buildCapability(){return{onLoaderEvent:this.loaderHandlers$.on,onDocumentLoaded:this.documentLoadedHandlers$.on,onOpenFileRequest:this.openFileRequest$.on,openFileDialog:()=>this.openFileRequest$.emit("open"),loadDocument:e=>this.loadDocument(e),registerStrategy:(e,t)=>this.documentLoader.registerStrategy(e,t),getDocument:()=>this.loadedDocument,addStrategyResolver:e=>this.documentLoader.addStrategyResolver(e)}}async initialize(e){e.defaultStrategies&&Object.entries(e.defaultStrategies).forEach((([e,t])=>{this.documentLoader.registerStrategy(e,t)})),e.loadingOptions&&(this.loadingOptions=e.loadingOptions)}async postInitialize(){this.loadingOptions&&await this.loadDocument(this.loadingOptions)}async loadDocument(e){try{this.loaderHandlers$.emit({type:"start",documentId:e.pdfFile.id}),this.dispatchCoreAction({type:fn});const t=await this.documentLoader.loadDocument({...e,engine:this.engine});return this.dispatchCoreAction((e=>({type:bn,payload:e}))(t)),this.loadedDocument=t,this.loaderHandlers$.emit({type:"complete",documentId:e.pdfFile.id}),this.documentLoadedHandlers$.emit(t),t}catch(t){const n={type:"error",documentId:e.pdfFile.id,error:t instanceof Error?t:new Error(String(t))};throw this.loaderHandlers$.emit(n),t}}async destroy(){this.loaderHandlers$.clear(),this.documentLoadedHandlers$.clear(),this.openFileRequest$.clear(),super.destroy()}};Ho.id="loader";let Bo=Ho;const jo="loader";const $o=Fn({manifest:{id:jo,name:"Loader Plugin",version:"1.0.0",provides:["loader"],requires:[],optional:[],metadata:{name:"Loader Plugin",description:"A plugin for loading PDF documents",version:"1.0.0",author:"EmbedPDF",license:"MIT"},defaultConfig:{enabled:!0}},create:e=>new Bo(jo,e),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:e}=Zn(Bo.id),t=Se(null);return ke((()=>{if(!e)return;return e.onOpenFileRequest((e=>{"open"===e&&t.current&&t.current.click()}))}),[e]),Le($,{children:Le("input",{ref:t,type:"file",accept:"application/pdf",style:{display:"none"},onChange:async t=>{var n;const o=null==(n=t.currentTarget.files)?void 0:n[0];o&&e&&await e.loadDocument({type:"buffer",pdfFile:{id:Math.random().toString(36).substring(2,15),name:o.name,content:await o.arrayBuffer()}})}})})})).build();class Fo{constructor(e,t){this.children=[],this.updateCallbacks=[],this.hadUpdateBeforeListeners=!1,this.componentConfig=e;const n=e.props||{};if("function"==typeof n){const t=n(e.initialState);this.props={...t,id:e.id}}else this.props={...n,id:e.id};this.type=e.type,this.registry=t}addChild(e,t,n=0,o){this.children.push({id:e,component:t,priority:n,className:o}),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.priority-t.priority))}removeChild(e){this.children=this.children.filter((t=>t.component!==e))}clearChildren(){this.children=[]}get getRenderType(){return this.componentConfig.render||this.type}getRenderer(){return this.registry[this.getRenderType]}getChildren(){return this.children}getChildContext(e){const t=this.componentConfig.getChildContext;return"function"==typeof t?{...e,...t(this.props)}:t&&"object"==typeof t?{...e,...t}:e}update(e){const{id:t,...n}=e;this.props={...this.props,...n},0===this.updateCallbacks.length&&(this.hadUpdateBeforeListeners=!0),this.notifyUpdate()}onUpdate(e){return this.updateCallbacks.push(e),this.hadUpdateBeforeListeners}offUpdate(e){this.updateCallbacks=this.updateCallbacks.filter((t=>t!==e))}notifyUpdate(){this.updateCallbacks.forEach((e=>e()))}}const Uo="UI_INIT_COMPONENTS",Wo="UI_SET_HEADER_VISIBLE",Go="UI_TOGGLE_PANEL",Vo="UI_SHOW_COMMAND_MENU",qo="UI_HIDE_COMMAND_MENU",Zo="UI_UPDATE_COMPONENT_STATE",Yo=e=>({type:qo,payload:e}),Xo={panel:{},header:{},groupedItems:{},divider:{},iconButton:{},tabButton:{},selectButton:{},custom:{},floating:{},commandMenu:{}};function Ko(e,t){const n=e=>"function"==typeof e?e(t):e;return"group"===e.type?{...e,label:n(e.label)??""}:{...e,icon:n(e.icon)??"",iconProps:n(e.iconProps)??{},label:n(e.label)??"",visible:n(e.visible)??!0,active:n(e.active)??!1,disabled:n(e.disabled)??!1}}function Qo(e,t){const n=Ko(e,t);return"group"!==n.type&&!!n.active}function Jo(e,t){const n=Ko(e,t);return"group"!==n.type&&!!n.disabled}function ei(e,t){const n=Ko(e,t);return"group"===n.type?{}:n.iconProps??{}}const ti=class e{constructor(e={},t){this.registry={},this.shortcutMap={},this.eventController=function(){const e=new Map;return{emit(t,n){const o=e.get(t);o&&o.forEach((e=>e(n)))},on(t,n){return e.has(t)||e.set(t,new Set),e.get(t).add(n),()=>this.off(t,n)},off(t,n){const o=e.get(t);o&&(o.delete(n),0===o.size&&e.delete(t))}}}(),this.pluginRegistry=t,this.registerItems(e),this.setupKeyboardListeners()}get state(){return this.pluginRegistry.getStore().getState()}registerItem(e){this.registry[e.id]&&console.warn(`Menu item with ID ${e.id} already exists and will be overwritten`),this.registry[e.id]=e,"shortcut"in e&&e.shortcut&&(this.shortcutMap[this.normalizeShortcut(e.shortcut)]=e.id)}registerItems(e){Object.values(e).forEach((e=>{this.registerItem(e)}))}resolve(e){return Ko(this.registry[e],this.state)}getMenuItem(e){const t=this.resolve(e);if(t)return{item:t,isGroup:"group"===t.type,isMenu:"menu"===t.type,isAction:"action"===t.type}}getAction(e){const t=this.getMenuItem(e);if(t&&t.isAction)return t.item}getMenuOrAction(e){const t=this.getMenuItem(e);if(t)return t.item}getAllItems(){return{...this.registry}}getItemsByIds(e){return e.map((e=>this.resolve(e))).filter((e=>void 0!==e))}getChildItems(e,t={}){var n;const o=this.resolve(e);if(!o||!("children"in o)||!(null==(n=o.children)?void 0:n.length))return[];const i=this.getItemsByIds(o.children);if(!t.flatten)return i;const r=[];for(const e of i)if("group"===e.type)r.push(e);else if("menu"===e.type){const t=this.getChildItems(e.id,{flatten:!0});r.push(...t)}else r.push(e);return r}executeCommand(t,n={}){var o;const i=this.getMenuItem(t);if(!i)return void console.warn(`Menu item '${t}' not found`);if("group"===i.item.type)return void console.warn(`Cannot execute group '${t}'`);const{item:r}=i;r.disabled?console.warn(`Menu item '${t}' is disabled`):i.isAction?(r.action(this.pluginRegistry,this.state),this.eventController.emit(e.EVENTS.COMMAND_EXECUTED,{command:r,source:n.source||"api"})):"children"in r&&(null==(o=r.children)?void 0:o.length)&&this.handleSubmenu(r,n)}executeShortcut(t){const n=this.normalizeShortcut(t),o=this.shortcutMap[n];return!!o&&(this.executeCommand(o,{source:"shortcut"}),this.eventController.emit(e.EVENTS.SHORTCUT_EXECUTED,{shortcut:n,itemId:o}),!0)}on(e,t){return this.eventController.on(e,t)}off(e,t){this.eventController.off(e,t)}handleSubmenu(t,n){this.eventController.emit(e.EVENTS.MENU_REQUESTED,{menuId:t.id,triggerElement:n.triggerElement,position:n.position,flatten:n.flatten||!1})}setupKeyboardListeners(){if("undefined"==typeof window)return;document.addEventListener("keydown",(e=>{const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return;const n=this.buildShortcutString(e);n&&this.executeShortcut(n)&&e.preventDefault()}))}buildShortcutString(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("Meta");const n=e.key;if(!["Control","Shift","Alt","Meta"].includes(n)){const e=1===n.length?n.toUpperCase():n;return[...t,e].join("+")}return null}normalizeShortcut(e){return e.split("+").map((e=>e.trim())).join("+")}capabilities(){return{registerItem:this.registerItem.bind(this),registerItems:this.registerItems.bind(this),executeCommand:this.executeCommand.bind(this),getAction:this.getAction.bind(this),getMenuOrAction:this.getMenuOrAction.bind(this),getChildItems:this.getChildItems.bind(this),getItemsByIds:this.getItemsByIds.bind(this),getAllItems:this.getAllItems.bind(this)}}};ti.EVENTS={COMMAND_EXECUTED:"menu:command_executed",MENU_REQUESTED:"menu:requested",SHORTCUT_EXECUTED:"menu:shortcut_executed"};let ni=ti;const oi=class extends zn{constructor(e,t,n){super(e,t),this.componentRenderers={},this.components={},this.mapStateCallbacks={},this.globalStoreSubscription=()=>{},this.config=n,this.menuManager=new ni(n.menuItems||{},this.registry),this.setupCommandEventHandlers(),this.globalStoreSubscription=this.registry.getStore().subscribe(((e,t)=>{this.onGlobalStoreChange(t)}))}async initialize(){this.buildComponents(),this.linkGroupedItems(),this.setInitialStateUIComponents()}setupCommandEventHandlers(){this.menuManager.on(ni.EVENTS.MENU_REQUESTED,(e=>{var t;const{menuId:n,triggerElement:o,position:i,flatten:r}=e;if((null==(t=this.state.commandMenu.commandMenu)?void 0:t.activeCommand)===n)return this.dispatch(Yo({id:"commandMenu"}));this.dispatch({type:Vo,payload:{id:"commandMenu",commandId:n,triggerElement:o,position:i,flatten:r}})})),this.menuManager.on(ni.EVENTS.COMMAND_EXECUTED,(e=>{this.logger.debug("UIPlugin","CommandExecuted",`Command executed: ${e.command.id}`,{commandId:e.command.id,source:e.source})}))}addComponent(e,t){this.components[e]&&this.logger.warn("UIPlugin","ComponentAlreadyExists",`Component with ID ${e} already exists and will be overwritten`);const n=new Fo(t,this.componentRenderers);return this.components[e]=n,"function"==typeof t.mapStateToProps&&(this.mapStateCallbacks[e]=t.mapStateToProps),n}buildComponents(){Object.entries(this.config.components).forEach((([e,t])=>{this.addComponent(e,t)}))}linkGroupedItems(){Object.values(this.components).forEach((e=>{var t;if(ri(e)){const n=e.componentConfig;null==(t=n.slots)||t.forEach((t=>{const o=this.components[t.componentId];o?e.addChild(t.componentId,o,t.priority,t.className):this.logger.warn("UIPlugin","ChildComponentNotFound",`Child component ${t.componentId} not found for GroupedItems ${n.id}`)}))}}))}setInitialStateUIComponents(){const e=Xo;Object.entries(this.config.components).forEach((([t,n])=>{n.initialState?e[n.type][t]=n.initialState:e[n.type][t]={}})),this.dispatch({type:Uo,payload:e})}onGlobalStoreChange(e){for(const[t,n]of Object.entries(this.components)){const o=this.mapStateCallbacks[t];if(!o)continue;const{id:i,...r}=n.props,a=o(e,r);Ln(r,{...r,...a})||n.update(a)}}addSlot(e,t,n,o){const i=this.components[e];if(!i)return void this.logger.error("UIPlugin","ParentComponentNotFound",`Parent component ${e} not found`);if(!ri(i))return void this.logger.error("UIPlugin","ParentComponentDoesNotSupportSlots",`Parent component ${e} does not support slots`);const r=this.components[t];if(!r)return void this.logger.error("UIPlugin","ChildComponentNotFound",`Child component ${t} not found`);const a=i.getChildren();let l=n;if(void 0===l){l=(a.length>0?Math.max(...a.map((e=>e.priority))):0)+10}i.addChild(t,r,l,o)}buildCapability(){return{registerComponentRenderer:(e,t)=>{this.componentRenderers[e]=t},getComponent:e=>this.components[e],registerComponent:this.addComponent.bind(this),getCommandMenu:()=>Object.values(this.components).find((e=>function(e){return"commandMenu"===e.type}(e))),hideCommandMenu:()=>this.debouncedDispatch(Yo({id:"commandMenu"}),100),getFloatingComponents:e=>Object.values(this.components).filter((e=>si(e))).filter((t=>!e||t.props.scrollerPosition===e)),getHeadersByPlacement:e=>Object.values(this.components).filter((e=>ai(e))).filter((t=>t.props.placement===e)),getPanelsByLocation:e=>Object.values(this.components).filter((e=>li(e))).filter((t=>t.props.location===e)),addSlot:this.addSlot.bind(this),togglePanel:e=>{this.dispatch((e=>({type:Go,payload:e}))(e))},setHeaderVisible:e=>{this.dispatch((e=>({type:Wo,payload:e}))(e))},updateComponentState:e=>{this.dispatch((e=>({type:Zo,payload:e}))(e))},...this.menuManager.capabilities()}}async destroy(){this.globalStoreSubscription(),this.components={},this.componentRenderers={},this.mapStateCallbacks={}}};oi.id="ui";let ii=oi;function ri(e){return function(e){return"groupedItems"===e.type}(e)||ai(e)||li(e)||si(e)||function(e){return"custom"===e.type}(e)}function ai(e){return"header"===e.type}function li(e){return"panel"===e.type}function si(e){return"floating"===e.type}const ci="ui",di={manifest:{id:ci,name:"UI Plugin",version:"1.0.0",provides:["ui"],requires:[],optional:[],defaultConfig:{enabled:!0,components:{}}},create:(e,t)=>new ii(ci,e,t),reducer:(e=Xo,t)=>{switch(t.type){case Uo:return{...e,...t.payload};case Go:{const n=e.panel[t.payload.id]||{},{open:o,visibleChild:i}=t.payload,r=n.visibleChild;let a=n.open,l=n.visibleChild;return i===r?a=void 0!==o?o:!n.open:(l=i,a=!0),{...e,panel:{...e.panel,[t.payload.id]:{...n,open:a,visibleChild:l}}}}case Wo:return{...e,header:{...e.header,[t.payload.id]:{...e.header[t.payload.id],visible:t.payload.visible,visibleChild:t.payload.visibleChild}}};case Vo:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{activeCommand:t.payload.commandId,triggerElement:t.payload.triggerElement,position:t.payload.position,open:!0,flatten:t.payload.flatten}}};case qo:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{...e.commandMenu[t.payload.id],open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1}}};case Zo:{const{componentType:n,componentId:o,patch:i}=t.payload;if(!e[n]||!e[n][o])return e;const r=e[n][o],a=Object.fromEntries(Object.entries(i).filter((([e])=>e in r)));return 0===Object.keys(a).length?e:{...e,[n]:{...e[n],[o]:{...r,...a}}}}default:return e}},initialState:Xo},ui=()=>Zn(ii.id);function hi({component:e,parentContext:t={}}){const[n,o]=xe({});ke((()=>{const t=()=>o({});return e.onUpdate(t)&&o({}),()=>e.offUpdate(t)}),[e]);const i=e.getChildContext(t),r=e.getRenderer();if(!r)throw new Error(`No renderer for type: ${e.getRenderType}`);return r(e.props,(function(t){const n=(null==t?void 0:t.context)?{...i,...t.context}:i;return e.getChildren().filter((({id:e})=>!(null==t?void 0:t.filter)||t.filter(e))).map((({component:e,id:t,className:o})=>o?Le("div",{className:o,children:Le(hi,{component:e,parentContext:n},t)}):Le(hi,{component:e,parentContext:n},t)))}),i)}function pi({children:e}){const{provides:t}=ui(),n=e=>e.map((e=>Le(hi,{component:e},e.props.id)));return e({headers:{top:n((null==t?void 0:t.getHeadersByPlacement("top"))||[]),bottom:n((null==t?void 0:t.getHeadersByPlacement("bottom"))||[]),left:n((null==t?void 0:t.getHeadersByPlacement("left"))||[]),right:n((null==t?void 0:t.getHeadersByPlacement("right"))||[])},panels:{left:n((null==t?void 0:t.getPanelsByLocation("left"))||[]),right:n((null==t?void 0:t.getPanelsByLocation("right"))||[])},floating:{insideScroller:n((null==t?void 0:t.getFloatingComponents("inside"))||[]),outsideScroller:n((null==t?void 0:t.getFloatingComponents("outside"))||[])},commandMenu:(null==t?void 0:t.getCommandMenu())?Le(hi,{component:t.getCommandMenu()}):null})}var gi=["id","children","onClick","active","disabled","className","tooltip","ref"];function mi(e){var t=e.id,n=e.children,o=e.onClick,i=e.active,r=void 0!==i&&i,a=e.disabled,l=void 0!==a&&a,s=e.className,c=void 0===s?"":s,d=e.tooltip,u=e.ref,g=p(e,gi);return B("button",h({id:t,ref:u,onClick:o,className:"flex h-[32px] w-auto min-w-[32px] items-center justify-center rounded-md p-[5px] transition-colors ".concat(r?"border-none bg-blue-50 text-blue-500 shadow ring ring-blue-500":"hover:bg-gray-100 hover:ring hover:ring-[#1a466b]"," ").concat(l?"cursor-not-allowed opacity-50 hover:bg-transparent hover:ring-0":"cursor-pointer"," ").concat(c," "),title:d},g),n)}const fi=Math.min,vi=Math.max,yi=Math.round,bi=Math.floor,wi=e=>({x:e,y:e}),xi={left:"right",right:"left",bottom:"top",top:"bottom"},ki={start:"end",end:"start"};function Ci(e,t,n){return vi(e,fi(t,n))}function Si(e,t){return"function"==typeof e?e(t):e}function Mi(e){return e.split("-")[0]}function Ii(e){return e.split("-")[1]}function Pi(e){return"x"===e?"y":"x"}function Ai(e){return"y"===e?"height":"width"}function _i(e){return["top","bottom"].includes(Mi(e))?"y":"x"}function Ti(e){return Pi(_i(e))}function Ei(e){return e.replace(/start|end/g,(e=>ki[e]))}function zi(e){return e.replace(/left|right|bottom|top/g,(e=>xi[e]))}function Ni(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ri(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function Li(e,t,n){let{reference:o,floating:i}=e;const r=_i(t),a=Ti(t),l=Ai(a),s=Mi(t),c="y"===r,d=o.x+o.width/2-i.width/2,u=o.y+o.height/2-i.height/2,h=o[l]/2-i[l]/2;let p;switch(s){case"top":p={x:d,y:o.y-i.height};break;case"bottom":p={x:d,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:u};break;case"left":p={x:o.x-i.width,y:u};break;default:p={x:o.x,y:o.y}}switch(Ii(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1)}return p}async function Di(e,t){var n;void 0===t&&(t={});const{x:o,y:i,platform:r,rects:a,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=Si(t,e),g=Ni(p),m=l[h?"floating"===u?"reference":"floating":u],f=Ri(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(m)))||n?m:m.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:s})),v="floating"===u?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),b=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},w=Ri(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:s}):v);return{top:(f.top-w.top+g.top)/b.y,bottom:(w.bottom-f.bottom+g.bottom)/b.y,left:(f.left-w.left+g.left)/b.x,right:(w.right-f.right+g.right)/b.x}}function Oi(){return"undefined"!=typeof window}function Hi(e){return $i(e)?(e.nodeName||"").toLowerCase():"#document"}function Bi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ji(e){var t;return null==(t=($i(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function $i(e){return!!Oi()&&(e instanceof Node||e instanceof Bi(e).Node)}function Fi(e){return!!Oi()&&(e instanceof Element||e instanceof Bi(e).Element)}function Ui(e){return!!Oi()&&(e instanceof HTMLElement||e instanceof Bi(e).HTMLElement)}function Wi(e){return!(!Oi()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Bi(e).ShadowRoot)}function Gi(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=Ki(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Vi(e){return["table","td","th"].includes(Hi(e))}function qi(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Zi(e){const t=Yi(),n=Fi(e)?Ki(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Yi(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Xi(e){return["html","body","#document"].includes(Hi(e))}function Ki(e){return Bi(e).getComputedStyle(e)}function Qi(e){return Fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ji(e){if("html"===Hi(e))return e;const t=e.assignedSlot||e.parentNode||Wi(e)&&e.host||ji(e);return Wi(t)?t.host:t}function er(e){const t=Ji(e);return Xi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ui(t)&&Gi(t)?t:er(t)}function tr(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=er(e),r=i===(null==(o=e.ownerDocument)?void 0:o.body),a=Bi(i);if(r){const e=nr(a);return t.concat(a,a.visualViewport||[],Gi(i)?i:[],e&&n?tr(e):[])}return t.concat(i,tr(i,[],n))}function nr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function or(e){const t=Ki(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=Ui(e),r=i?e.offsetWidth:n,a=i?e.offsetHeight:o,l=yi(n)!==r||yi(o)!==a;return l&&(n=r,o=a),{width:n,height:o,$:l}}function ir(e){return Fi(e)?e:e.contextElement}function rr(e){const t=ir(e);if(!Ui(t))return wi(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:r}=or(t);let a=(r?yi(n.width):n.width)/o,l=(r?yi(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const ar=wi(0);function lr(e){const t=Bi(e);return Yi()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ar}function sr(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),r=ir(e);let a=wi(1);t&&(o?Fi(o)&&(a=rr(o)):a=rr(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Bi(e))&&t}(r,n,o)?lr(r):wi(0);let s=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(r){const e=Bi(r),t=o&&Fi(o)?Bi(o):o;let n=e,i=nr(n);for(;i&&o&&t!==n;){const e=rr(i),t=i.getBoundingClientRect(),o=Ki(i),r=t.left+(i.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(o.paddingTop))*e.y;s*=e.x,c*=e.y,d*=e.x,u*=e.y,s+=r,c+=a,n=Bi(i),i=nr(n)}}return Ri({width:d,height:u,x:s,y:c})}function cr(e,t){const n=Qi(e).scrollLeft;return t?t.left+n:sr(ji(e)).left+n}function dr(e,t,n){void 0===n&&(n=!1);const o=e.getBoundingClientRect();return{x:o.left+t.scrollLeft-(n?0:cr(e,o)),y:o.top+t.scrollTop}}function ur(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=Bi(e),o=ji(e),i=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,l=0,s=0;if(i){r=i.width,a=i.height;const e=Yi();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,s=i.offsetTop)}return{width:r,height:a,x:l,y:s}}(e,n);else if("document"===t)o=function(e){const t=ji(e),n=Qi(e),o=e.ownerDocument.body,i=vi(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=vi(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+cr(e);const l=-n.scrollTop;return"rtl"===Ki(o).direction&&(a+=vi(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:a,y:l}}(ji(e));else if(Fi(t))o=function(e,t){const n=sr(e,!0,"fixed"===t),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=Ui(e)?rr(e):wi(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:i*r.x,y:o*r.y}}(t,n);else{const n=lr(e);o={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ri(o)}function hr(e,t){const n=Ji(e);return!(n===t||!Fi(n)||Xi(n))&&("fixed"===Ki(n).position||hr(n,t))}function pr(e,t,n){const o=Ui(t),i=ji(t),r="fixed"===n,a=sr(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const s=wi(0);if(o||!o&&!r)if(("body"!==Hi(t)||Gi(i))&&(l=Qi(t)),o){const e=sr(t,!0,r,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else i&&(s.x=cr(i));const c=!i||o||r?wi(0):dr(i,l);return{x:a.left+l.scrollLeft-s.x-c.x,y:a.top+l.scrollTop-s.y-c.y,width:a.width,height:a.height}}function gr(e){return"static"===Ki(e).position}function mr(e,t){if(!Ui(e)||"fixed"===Ki(e).position)return null;if(t)return t(e);let n=e.offsetParent;return ji(e)===n&&(n=n.ownerDocument.body),n}function fr(e,t){const n=Bi(e);if(qi(e))return n;if(!Ui(e)){let t=Ji(e);for(;t&&!Xi(t);){if(Fi(t)&&!gr(t))return t;t=Ji(t)}return n}let o=mr(e,t);for(;o&&Vi(o)&&gr(o);)o=mr(o,t);return o&&Xi(o)&&gr(o)&&!Zi(o)?n:o||function(e){let t=Ji(e);for(;Ui(t)&&!Xi(t);){if(Zi(t))return t;if(qi(t))return null;t=Ji(t)}return null}(e)||n}const vr={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const r="fixed"===i,a=ji(o),l=!!t&&qi(t.floating);if(o===a||l&&r)return n;let s={scrollLeft:0,scrollTop:0},c=wi(1);const d=wi(0),u=Ui(o);if((u||!u&&!r)&&(("body"!==Hi(o)||Gi(a))&&(s=Qi(o)),Ui(o))){const e=sr(o);c=rr(o),d.x=e.x+o.clientLeft,d.y=e.y+o.clientTop}const h=!a||u||r?wi(0):dr(a,s,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-s.scrollTop*c.y+d.y+h.y}},getDocumentElement:ji,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const r=[..."clippingAncestors"===n?qi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let o=tr(e,[],!1).filter((e=>Fi(e)&&"body"!==Hi(e))),i=null;const r="fixed"===Ki(e).position;let a=r?Ji(e):e;for(;Fi(a)&&!Xi(a);){const t=Ki(a),n=Zi(a);n||"fixed"!==t.position||(i=null),(r?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Gi(a)&&!n&&hr(e,a))?o=o.filter((e=>e!==a)):i=t,a=Ji(a)}return t.set(e,o),o}(t,this._c):[].concat(n),o],a=r[0],l=r.reduce(((e,n)=>{const o=ur(t,n,i);return e.top=vi(o.top,e.top),e.right=fi(o.right,e.right),e.bottom=fi(o.bottom,e.bottom),e.left=vi(o.left,e.left),e}),ur(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:fr,getElementRects:async function(e){const t=this.getOffsetParent||fr,n=this.getDimensions,o=await n(e.floating);return{reference:pr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=or(e);return{width:t,height:n}},getScale:rr,isElement:Fi,isRTL:function(e){return"rtl"===Ki(e).direction}};function yr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function br(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=o,c=ir(e),d=i||r?[...c?tr(c):[],...tr(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),r&&e.addEventListener("resize",n)}));const u=c&&l?function(e,t){let n,o=null;const i=ji(e);function r(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),r();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(l||t(),!h||!p)return;const g={rootMargin:-bi(u)+"px "+-bi(i.clientWidth-(d+h))+"px "+-bi(i.clientHeight-(u+p))+"px "+-bi(d)+"px",threshold:vi(0,fi(1,s))||1};let m=!0;function f(t){const o=t[0].intersectionRatio;if(o!==s){if(!m)return a();o?a(!1,o):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==o||yr(c,e.getBoundingClientRect())||a(),m=!1}try{o=new IntersectionObserver(f,{...g,root:i.ownerDocument})}catch(e){o=new IntersectionObserver(f,g)}o.observe(e)}(!0),r}(c,n):null;let h,p=-1,g=null;a&&(g=new ResizeObserver((e=>{let[o]=e;o&&o.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),c&&!s&&g.observe(c),g.observe(t));let m=s?sr(e):null;return s&&function t(){const o=sr(e);m&&!yr(m,o)&&n();m=o,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),r&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=g)||e.disconnect(),g=null,s&&cancelAnimationFrame(h)}}const wr=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:r,placement:a,middlewareData:l}=t,s=await async function(e,t){const{placement:n,platform:o,elements:i}=e,r=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=Mi(n),l=Ii(n),s="y"===_i(n),c=["left","top"].includes(a)?-1:1,d=r&&s?-1:1,u=Si(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof g&&(p="end"===l?-1*g:g),s?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:a}}}}},xr=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=Si(e,t),c={x:n,y:o},d=await Di(t,s),u=_i(Mi(i)),h=Pi(u);let p=c[h],g=c[u];if(r){const e="y"===h?"bottom":"right";p=Ci(p+d["y"===h?"top":"left"],p,p-d[e])}if(a){const e="y"===u?"bottom":"right";g=Ci(g+d["y"===u?"top":"left"],g,g-d[e])}const m=l.fn({...t,[h]:p,[u]:g});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[h]:r,[u]:a}}}}}},kr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:r,rects:a,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...f}=Si(e,t);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const v=Mi(i),y=_i(l),b=Mi(l)===l,w=await(null==s.isRTL?void 0:s.isRTL(c.floating)),x=h||(b||!m?[zi(l)]:function(e){const t=zi(e);return[Ei(e),t,Ei(t)]}(l)),k="none"!==g;!h&&k&&x.push(...function(e,t,n,o){const i=Ii(e);let r=function(e,t,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:a;default:return[]}}(Mi(e),"start"===n,o);return i&&(r=r.map((e=>e+"-"+i)),t&&(r=r.concat(r.map(Ei)))),r}(l,m,g,w));const C=[l,...x],S=await Di(t,f),M=[];let I=(null==(o=r.flip)?void 0:o.overflows)||[];if(d&&M.push(S[v]),u){const e=function(e,t,n){void 0===n&&(n=!1);const o=Ii(e),i=Ti(e),r=Ai(i);let a="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=zi(a)),[a,zi(a)]}(i,a,w);M.push(S[e[0]],S[e[1]])}if(I=[...I,{placement:i,overflows:M}],!M.every((e=>e<=0))){var P,A;const e=((null==(P=r.flip)?void 0:P.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:I},reset:{placement:t}};let n=null==(A=I.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var _;const e=null==(_=I.filter((e=>{if(k){const t=_i(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:_[0];e&&(n=e);break}case"initialPlacement":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}},Cr=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:r,platform:a,elements:l,middlewareData:s}=t,{element:c,padding:d=0}=Si(e,t)||{};if(null==c)return{};const u=Ni(d),h={x:n,y:o},p=Ti(i),g=Ai(p),m=await a.getDimensions(c),f="y"===p,v=f?"top":"left",y=f?"bottom":"right",b=f?"clientHeight":"clientWidth",w=r.reference[g]+r.reference[p]-h[p]-r.floating[g],x=h[p]-r.reference[p],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let C=k?k[b]:0;C&&await(null==a.isElement?void 0:a.isElement(k))||(C=l.floating[b]||r.floating[g]);const S=w/2-x/2,M=C/2-m[g]/2-1,I=fi(u[v],M),P=fi(u[y],M),A=I,_=C-m[g]-P,T=C/2-m[g]/2+S,E=Ci(A,T,_),z=!s.arrow&&null!=Ii(i)&&T!==E&&r.reference[g]/2-(T<A?I:P)-m[g]/2<0,N=z?T<A?T-A:T-_:0;return{[p]:h[p]+N,data:{[p]:E,centerOffset:T-E-N,...z&&{alignmentOffset:N}},reset:z}}}),Sr=(e,t,n)=>{const o=new Map,i={platform:vr,...n},r={...i.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=Li(c,o,s),h=o,p={},g=0;for(let n=0;n<l.length;n++){const{name:r,fn:m}=l[n],{x:f,y:v,data:y,reset:b}=await m({x:d,y:u,initialPlacement:o,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=v?v:u,p={...p,[r]:{...p[r],...y}},b&&g<=50&&(g++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:u}=Li(c,h,s))),n=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:r})};var Mr=function(){function e(){return o(this,e),n(this,e,arguments)}return c(e,F),r(e,[{key:"render",value:function(){return this.props.children}}])}();function Ir(e){var t=e.children,n=e.content,o=e.position,i=void 0===o?"top":o,r=e.className,a=void 0===r?"":r,s=e.delay,c=void 0===s?200:s,d=e.style,u=void 0===d?"dark":d,h=e.trigger,p=void 0===h?"hover":h,g=Se(null),m=Se(null),v=Se(null),y=f(xe(!1),2),b=y[0],w=y[1],x=Se(null);return ke((function(){var e;if(null!==(e=g.current)&&void 0!==e&&e.base&&m.current)return br(g.current.base,m.current,(function(){Sr(g.current.base,m.current,{placement:i,middleware:[wr(8),kr(),xr({padding:8}),Cr({element:v.current,padding:6})]}).then((function(e){var t,n=e.x,o=e.y,i=e.placement,r=e.middlewareData;Object.assign(m.current.style,{left:"".concat(n,"px"),top:"".concat(o,"px")});var a=null!==(t=r.arrow)&&void 0!==t?t:{},s=a.x,c=a.y,d={top:"bottom",bottom:"top",left:"right",right:"left"}[i.split("-")[0]];Object.assign(v.current.style,l({left:null!=s?"".concat(s,"px"):"",top:null!=c?"".concat(c,"px"):"",right:"",bottom:""},d,"-4px"))}))}))}),[i,b]),ke((function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.base,n=m.current;if(t&&n){var o=function(){x.current&&clearTimeout(x.current)},i=function(){o(),x.current=setTimeout((function(){return w(!0)}),c)},r=function(){o(),w(!1)},a=function(){return w((function(e){return!e}))};return"hover"===p?(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",r),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),t.addEventListener("pointerdown",r)):"click"===p&&t.addEventListener("click",a),"none"===p&&(x.current&&clearTimeout(x.current),w(!1)),function(){o(),"hover"===p?(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",r),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),t.removeEventListener("pointerdown",r)):"click"===p&&t.removeEventListener("click",a)}}}),[p,c]),B($,null,B("div",{ref:m,role:"tooltip",className:"z-100 pointer-events-none absolute select-none whitespace-nowrap rounded-lg px-3 py-2 text-sm shadow-md transition-opacity duration-150 ".concat("dark"===u?"bg-gray-900 text-white":"border border-gray-200 bg-white text-gray-900"," ").concat(b?"opacity-100":"opacity-0"," ").concat(a," "),style:{visibility:b?"visible":"hidden"}},n,B("div",{ref:v,className:"absolute h-2 w-2 rotate-45 bg-inherit ".concat("light"===u?"border border-gray-200":""," ")})),B(Mr,{ref:g},t))}function Pr(e){var t=e.open,n=e.trigger,o=e.children,i=e.placement,r=void 0===i?"bottom-start":i,a=e.offsetSkidding,l=void 0===a?-2:a,s=e.offsetDistance,c=void 0===s?5:s,d=e.delay,u=void 0===d?0:d,p=e.onShow,g=e.onHide,m=e.className,v=Se(null),y=f(xe({x:0,y:0}),2),b=y[0],w=y[1],x=function(e){return e&&{top:"top-start",bottom:"bottom-start",left:"left-start",right:"right-start"}[e]||e||"bottom-start"}(r);return ke((function(){var e=n,o=v.current;if(o&&(t?(o.style.display="block",null==p||p()):(u?setTimeout((function(){return o.style.display="none"}),u):o.style.display="none",null==g||g()),e&&t)){var i=br(e,o,(function(){Sr(e,o,{placement:x,strategy:"absolute",middleware:[wr({mainAxis:c,crossAxis:l}),kr(),xr({padding:8})]}).then((function(e){var t=e.x,n=e.y;w({x:t,y:n})}))}));return function(){return i()}}}),[t,n,r,l,c,u]),ke((function(){if(t){var e=v.current;if(e){var o=function(t){var o,i,r=null!==(o=null===(i=t.composedPath)||void 0===i?void 0:i.call(t))&&void 0!==o?o:[t.target];n&&r.includes(n)||r.includes(e)||null==g||g()};return window.addEventListener("pointerdown",o,!0),function(){return window.removeEventListener("pointerdown",o,!0)}}}}),[t,n,g]),B("div",{ref:v,style:h({},n&&{display:"none",left:"".concat(b.x,"px"),top:"".concat(b.y,"px")}),className:"absolute z-50 min-w-[8rem] divide-y divide-gray-100 rounded-lg border border-[#cfd4da] bg-white shadow-sm transition-opacity duration-150 focus:outline-none ".concat(t?"opacity-100":"opacity-0"," ").concat(!n&&"bottom-0 left-0 right-0"," ").concat(m," ")},B("div",{className:"flex flex-col py-2"},o))}var Ar=(e=>(e.Automatic="automatic",e.FitPage="fit-page",e.FitWidth="fit-width",e))(Ar||{}),_r=(e=>(e[e.Center=0]="Center",e[e.Top=1]="Top",e))(_r||{});const Tr="zoom",Er={id:Tr,name:"Zoom Plugin",version:"1.0.0",provides:["zoom"],requires:["viewport","scroll"],optional:["interaction-manager"],defaultConfig:{enabled:!0,defaultZoomLevel:Ar.Automatic,minZoom:.2,maxZoom:60,zoomStep:.1,zoomRanges:[{min:.2,max:.5,step:.05},{min:.5,max:1,step:.1},{min:1,max:2,step:.2},{min:2,max:4,step:.4},{min:4,max:10,step:.8},{min:10,max:20,step:1.6},{min:20,max:40,step:3.2},{min:40,max:60,step:6.4}],presets:[{name:"Fit Page",value:Ar.FitPage},{name:"Fit Width",value:Ar.FitWidth},{name:"Automatic",value:Ar.Automatic},{name:"25%",value:.25},{name:"50%",value:.5},{name:"100%",value:1},{name:"125%",value:1.25},{name:"150%",value:1.5},{name:"200%",value:2},{name:"400%",value:4},{name:"800%",value:8},{name:"1600%",value:16}]}},zr="SET_ZOOM_LEVEL",Nr="SET_INITIAL_ZOOM_LEVEL";const Rr={zoomLevel:Ar.Automatic,currentZoomLevel:1};const Lr=class extends zn{constructor(e,t,n){var o;super(e,t),this.zoom$=Bn(),this.state$=jn(),this.viewportPlugin=t.getPlugin("viewport"),this.viewport=this.viewportPlugin.provides(),this.scroll=t.getPlugin("scroll").provides();const i=t.getPlugin("interaction-manager");var r;this.interactionManager=(null==i?void 0:i.provides())??null,this.minZoom=n.minZoom??.25,this.maxZoom=n.maxZoom??10,this.zoomStep=n.zoomStep??.1,this.presets=n.presets??[],this.zoomRanges=this.normalizeRanges(n.zoomRanges??[]),this.dispatch((r=n.defaultZoomLevel,{type:Nr,payload:{zoomLevel:r}})),this.viewport.onViewportResize((()=>this.recalcAuto(_r.Top)),{mode:"debounce",wait:150}),this.coreStore.onAction(kn,(()=>this.recalcAuto(_r.Top))),this.coreStore.onAction(Cn,(()=>this.recalcAuto(_r.Top))),this.coreStore.onAction(bn,(()=>this.recalcAuto(_r.Top))),null==(o=this.interactionManager)||o.registerMode({id:"marqueeZoom",scope:"page",exclusive:!0,cursor:"zoom-in"}),this.resetReady()}buildCapability(){return{onZoomChange:this.zoom$.on,onStateChange:this.state$.on,zoomIn:()=>this.zoomIn(),zoomOut:()=>this.zoomOut(),zoomToArea:(e,t)=>this.zoomToArea(e,t),requestZoom:(e,t)=>this.handleRequest({level:e,center:t}),requestZoomBy:(e,t)=>{const n=this.state.currentZoomLevel,o=this.toZoom(n+e);return this.handleRequest({level:o,center:t})},enableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activate("marqueeZoom")},disableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activateDefaultMode()},toggleMarqueeZoom:()=>{var e,t,n;"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("marqueeZoom")},isMarqueeZoomActive:()=>{var e;return"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())},registerMarqueeOnPage:e=>this.registerMarqueeOnPage(e),getState:()=>this.state,getPresets:()=>this.presets}}zoomOut(){const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:-this.stepFor(e)})}zoomIn(){const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:this.stepFor(e)})}zoomToArea(e,t){this.handleZoomToArea(e,t)}async initialize(){}async destroy(){this.zoom$.clear()}normalizeRanges(e){return[...e].filter((e=>e.step>0&&e.max>e.min)).sort(((e,t)=>e.min-t.min))}stepFor(e){const t=this.zoomRanges.find((t=>e>=t.min&&e<t.max));return t?t.step:this.zoomStep}toZoom(e){return parseFloat(Rn(e,this.minZoom,this.maxZoom).toFixed(2))}handleRequest({level:e,delta:t=0,center:n,focus:o=_r.Center,align:i="keep"}){const r=this.viewport.getMetrics(),a=this.state.currentZoomLevel;if(0===r.clientWidth||0===r.clientHeight)return;const l="number"==typeof e?e:this.computeZoomForMode(e,r);if(!1===l)return;const s=Rn(l+t,this.minZoom,this.maxZoom),c=Math.floor(100*s)/100,d=n??{vx:r.clientWidth/2,vy:o===_r.Top?0:r.clientHeight/2},{desiredScrollLeft:u,desiredScrollTop:h}=this.computeScrollForZoomChange(r,a,c,d,i);isNaN(u)||isNaN(h)||this.viewportPlugin.setViewportScrollMetrics({scrollLeft:u,scrollTop:h}),this.dispatch({type:zr,payload:{zoomLevel:"number"==typeof e?c:e,currentZoomLevel:c}}),this.dispatchCoreAction({type:xn,payload:c}),this.markReady(),this.viewport.scrollTo({x:u,y:h,behavior:"instant"});const p={oldZoom:a,newZoom:c,level:e,center:d,desiredScrollLeft:u,desiredScrollTop:h,viewport:r};this.zoom$.emit(p)}computeZoomForMode(e,t){const n=Pn(this.coreState.core);if(!n.length)return!1;const o=this.scroll.getPageGap(),i=this.viewport.getViewportGap();if(0===t.clientWidth||0===t.clientHeight)return!1;const r=t.clientWidth-2*i,a=t.clientHeight-2*i;if(r<=0||a<=0)return!1;let l=0,s=0;switch(n.forEach((e=>{const t=e.reduce(((e,t,n)=>e+t.rotatedSize.width+(n?o:0)),0),n=Math.max(...e.map((e=>e.rotatedSize.height)));l=Math.max(l,t),s=Math.max(s,n)})),e){case Ar.FitWidth:return r/l;case Ar.FitPage:return Math.min(r/l,a/s);case Ar.Automatic:return Math.min(r/l,1);default:return 1}}computeScrollForZoomChange(e,t,n,o,i="keep"){const r=this.scroll.getLayout(),a=this.viewport.getViewportGap(),l=r.totalContentSize.width,s=r.totalContentSize.height,c=e.clientWidth-2*a,d=e.clientHeight-2*a,u=(e,t,n)=>t*n<e?(e-t*n)/2:0,h=u(c,l,t),p=u(d,s,t),g=u(c,l,n),m=u(d,s,n),f=(e.scrollLeft+o.vx-a-h)/t*n+a+g,v=(e.scrollTop+o.vy-a-p)/t*n+a+m,y="center"===i?f-e.clientWidth/2:f-o.vx,b="center"===i?v-e.clientHeight/2:v-o.vy;return{desiredScrollLeft:Math.max(0,y),desiredScrollTop:Math.max(0,b)}}handleZoomToArea(e,t){const n=this.coreState.core.rotation,o=this.viewport.getMetrics(),i=this.viewport.getViewportGap(),r=this.state.currentZoomLevel,a=o.clientWidth-2*i,l=o.clientHeight-2*i,s=this.scroll.getLayout(),c=s.virtualItems.find((t=>t.pageLayouts.some((t=>t.pageIndex===e))));if(!c)return;const d=c.pageLayouts.find((t=>t.pageIndex===e)),u=Ze({width:d.width,height:d.height},t,n),h=this.toZoom(Math.min(a/u.size.width,l/u.size.height)),p=c.x+d.x,g=c.y+d.y,m=p+u.origin.x+u.size.width/2,f=g+u.origin.y+u.size.height/2,v=(e,t,n)=>t*n<e?(e-t*n)/2:0,y=v(a,s.totalContentSize.width,r),b=v(l,s.totalContentSize.height,r),w=i+y+m*r-o.scrollLeft,x=i+b+f*r-o.scrollTop;this.handleRequest({level:h,center:{vx:w,vy:x},align:"center"})}recalcAuto(e){const t=this.state;t.zoomLevel!==Ar.Automatic&&t.zoomLevel!==Ar.FitPage&&t.zoomLevel!==Ar.FitWidth||this.handleRequest({level:t.zoomLevel,focus:e})}onStoreUpdated(e,t){this.state$.emit(t)}registerMarqueeOnPage(e){if(!this.interactionManager)return this.logger.warn("ZoomPlugin","MissingDependency","Interaction manager plugin not loaded, marquee zoom disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("ZoomPlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("ZoomPlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r,onSmallDrag:a}=e;let l=null,s=null;return{onPointerDown:(e,t)=>{var n;l=e,s={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(s),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!l)return;const n=Rn(e.x,0,t.width),o=Rn(e.y,0,t.height);s={origin:{x:Math.min(l.x,n),y:Math.min(l.y,o)},size:{width:Math.abs(n-l.x),height:Math.abs(o-l.y)}},null==i||i(s)},onPointerUp:(e,t)=>{var c;s&&(Math.max(s.size.width,s.size.height)*n>o?null==r||r(s):null==a||a()),l=null,s=null,null==i||i(null),null==(c=t.releasePointerCapture)||c.call(t)},onPointerCancel:(e,t)=>{var n;l=null,s=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;this.zoomToArea(e.pageIndex,t),null==(o=(n=e.callback).onCommit)||o.call(n,t)},onSmallDrag:()=>{var t,n;this.zoomIn(),null==(n=(t=e.callback).onSmallDrag)||n.call(t)}});return this.interactionManager.registerHandlers({modeId:"marqueeZoom",handlers:o,pageIndex:e.pageIndex})}};Lr.id="zoom";let Dr=Lr;const Or={manifest:Er,create:(e,t)=>new Dr(Tr,e,t),reducer:(e=Rr,t)=>{switch(t.type){case zr:return{...e,zoomLevel:t.payload.zoomLevel,currentZoomLevel:t.payload.currentZoomLevel};case Nr:return{...e,zoomLevel:t.payload.zoomLevel};default:return e}},initialState:Rr},Hr=()=>Zn(Dr.id);function Br({element:e,viewportProvides:t,zoomProvides:n}){if("undefined"==typeof window)return()=>{};let o,i=0,r={x:0,y:0};const a=()=>{e.style.transform="none",e.style.transformOrigin="0 0"},l=o=>{var a;i=n.getState().currentZoomLevel;const l=t.getBoundingRect();r={x:o.center.x-l.origin.x,y:o.center.y-l.origin.y};const s=e.getBoundingClientRect();e.style.transformOrigin=`${o.center.x-s.left}px ${o.center.y-s.top}px`,(null==(a=o.srcEvent)?void 0:a.cancelable)&&(o.srcEvent.preventDefault(),o.srcEvent.stopPropagation())},s=t=>{var n,o;o=t.scale,e.style.transform=`scale(${o})`,(null==(n=t.srcEvent)?void 0:n.cancelable)&&(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation())},c=e=>{const t=(e.scale-1)*i;n.requestZoomBy(t,{vx:r.x,vy:r.y}),a(),i=0};return(async()=>{try{const t=(await import("./hammer-e1aXHboh-6cda5c0f.js").then((e=>e.h))).default,n=(()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0;return e&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?t.TouchInput:e?t.TouchMouseInput:t.MouseInput})();o=new t(e,{touchAction:"pan-x pan-y",inputClass:n}),o.get("pinch").set({enable:!0,pointers:2,threshold:.1}),o.on("pinchstart",l),o.on("pinchmove",s),o.on("pinchend",c)}catch(e){console.warn("Failed to load HammerJS:",e)}})(),()=>{null==o||o.destroy(),a()}}function jr({children:e,style:t,...n}){const{elementRef:o}=function(){const{provides:e}=Zn("viewport"),{provides:t}=Hr(),n=Se(null);return ke((()=>{const o=n.current;if(o&&e&&t)return Br({element:o,viewportProvides:e,zoomProvides:t})}),[e,t]),{elementRef:n}}();return Le("div",{ref:o,...n,style:{...t,display:"block",width:"fit-content",overflow:"visible",boxSizing:"border-box",margin:"0px auto"},children:e})}const $r=({pageIndex:e,scale:t,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=Hr(),[a,l]=xe(null);return ke((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:l}})}),[r,e,t]),a?Le("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};var Fr={download:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),B("path",{d:"M7 11l5 5l5 -5"}),B("path",{d:"M12 4l0 12"}))},menu:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 8l16 0"}),B("path",{d:"M4 16l16 0"}))},fullscreen:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),B("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),B("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),B("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"}))},fullscreenExit:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 8v-2c0 -.551 .223 -1.05 .584 -1.412"}),B("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),B("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),B("path",{d:"M16 20h2c.545 0 1.04 -.218 1.4 -.572"}),B("path",{d:"M3 3l18 18"}))},save:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),B("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),B("path",{d:"M14 4l0 4l-6 0l0 -4"}))},print:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"}),B("path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"}),B("path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z"}))},settings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),B("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}))},viewSettings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),B("path",{d:"M12 10.5v1.5"}),B("path",{d:"M12 16v1.5"}),B("path",{d:"M15.031 12.25l-1.299 .75"}),B("path",{d:"M10.268 15l-1.3 .75"}),B("path",{d:"M15 15.803l-1.285 -.773"}),B("path",{d:"M10.285 12.97l-1.285 -.773"}),B("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),B("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}))},rotateClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5"}))},rotateCounterClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5"}))},singlePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M5 3m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"}))},doublePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"}))},zoomIn:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),B("path",{d:"M9 12h6"}),B("path",{d:"M12 9v6"}))},zoomOut:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),B("path",{d:"M9 12l6 0"}))},fitToWidth:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),B("path",{d:"M10 18h-7"}),B("path",{d:"M21 18h-7"}),B("path",{d:"M6 15l-3 3l3 3"}),B("path",{d:"M18 15l3 3l-3 3"}))},fitToPage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h6"}),B("path",{d:"M18 14v7"}),B("path",{d:"M18 3v7"}),B("path",{d:"M15 18l3 3l3 -3"}),B("path",{d:"M15 6l3 -3l3 3"}))},chevronRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M9 6l6 6l-6 6"}))},chevronLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 6l-6 6l6 6"}))},chevronDown:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 9l6 6l6 -6"}))},search:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),B("path",{d:"M21 21l-6 -6"}))},comment:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 11v.01"}),B("path",{d:"M8 11v.01"}),B("path",{d:"M16 11v.01"}),B("path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3z"}))},sidebar:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),B("path",{d:"M14 18v-12a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2z"}))},dots:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},vertical:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 7l4 -4l4 4"}),B("path",{d:"M8 17l4 4l4 -4"}),B("path",{d:"M12 3l0 18"}))},horizontal:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 8l-4 4l4 4"}),B("path",{d:"M17 8l4 4l-4 4"}),B("path",{d:"M3 12l18 0"}))},book:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),B("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),B("path",{d:"M3 6l0 13"}),B("path",{d:"M12 6l0 13"}),B("path",{d:"M21 6l0 13"}))},book2:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z"}),B("path",{d:"M19 16h-12a2 2 0 0 0 -2 2"}),B("path",{d:"M9 8h6"}))},squares:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z"}),B("path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3"}))},listTree:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M9 6h11"}),B("path",{d:"M12 12h8"}),B("path",{d:"M15 18h5"}),B("path",{d:"M5 6v.01"}),B("path",{d:"M8 12v.01"}),B("path",{d:"M11 18v.01"}))},paperclip:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"}))},copy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),B("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}))},underline:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 20h16",stroke:a}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M8 10h8",stroke:"#000000"}))},squiggly:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M8 10h8",stroke:"#000000"}),B("path",{d:"M4 20c1.5 -1.5 3.5 -1.5 5 0s3.5 1.5 5 0 3.5 -1.5 5 0",stroke:a}))},strikethrough:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M4 10h16",stroke:a}))},highlight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("rect",{x:"2",y:"6",width:"20",height:"16",rx:"2",fill:a,stroke:"none"}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M8 10h8",stroke:"#000000"}))},palette:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),B("path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},x:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M18 6l-12 12"}),B("path",{d:"M6 6l12 12"}))},fileImport:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),B("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))},hand:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),B("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),B("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),B("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"}))},zoomInArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 13v4"}),B("path",{d:"M13 15h4"}),B("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),B("path",{d:"M22 22l-3 -3"}),B("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),B("path",{d:"M3 11v-1"}),B("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),B("path",{d:"M10 3h1"}),B("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"}))},screenshot:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 19a2 2 0 0 1 -2 -2"}),B("path",{d:"M5 13v-2"}),B("path",{d:"M5 7a2 2 0 0 1 2 -2"}),B("path",{d:"M11 5h2"}),B("path",{d:"M17 5a2 2 0 0 1 2 2"}),B("path",{d:"M19 11v2"}),B("path",{d:"M19 17v4"}),B("path",{d:"M21 19h-4"}),B("path",{d:"M13 19h-2"}))},arrowBackUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M9 14l-4 -4l4 -4"}),B("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"}))},arrowForwardUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 14l4 -4l-4 -4"}),B("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"}))},trash:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 7l16 0"}),B("path",{d:"M10 11l0 6"}),B("path",{d:"M14 11l0 6"}),B("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),B("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))},deviceFloppy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),B("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),B("path",{d:"M14 4l0 4l-6 0l0 -4"}))},pencilMarker:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":i,class:e.className,role:"img","aria-label":e.title},B("g",{transform:"rotate(47.565 12.1875 10.75)"},B("path",{stroke:"#000000",d:"m14.18752,16.75l0,-12c0,-1.1 -0.9,-2 -2,-2s-2,0.9 -2,2l0,12l2,2l2,-2z"}),B("path",{stroke:"#000000",d:"m10.18752,6.75l4,0"})),B("path",{stroke:a,d:"m19.37499,20.125c0.56874,0.0625 -4.04999,-0.5625 -6.41249,-0.4375c-2.3625,0.125 -4.75833,1.22916 -6.85624,1.625c-1.76458,0.6875 -3.40416,-0.9375 -1.98125,-2.49999"}))},circle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}))},square:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}))},line:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M20 4l-16 16"}))},lineArrow:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M20 4l-16 16"}),B("path",{d:"M16 3h5v5"}))},polygon:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M13.163 2.168l8.021 5.828c.694 .504 .984 1.397 .719 2.212l-3.064 9.43a1.978 1.978 0 0 1 -1.881 1.367h-9.916a1.978 1.978 0 0 1 -1.881 -1.367l-3.064 -9.43a1.978 1.978 0 0 1 .719 -2.212l8.021 -5.828a1.978 1.978 0 0 1 2.326 0z"}))},zigzag:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{d:"M12 2.4L21.36 11.76L2.64 12.24L12 21.6"}))},text:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0"}),B("path",{d:"M14 19v-10.5a3.5 3.5 0 0 1 7 0v10.5"}),B("path",{d:"M14 13h7"}),B("path",{d:"M10 12v7"}))},italic:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M11 5l6 0"}),B("path",{d:"M7 19l6 0"}),B("path",{d:"M14 5l-4 14"}))},bold:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),B("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))},alignLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 6l16 0"}),B("path",{d:"M4 12l10 0"}),B("path",{d:"M4 18l14 0"}))},alignCenter:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 6l16 0"}),B("path",{d:"M8 12l8 0"}),B("path",{d:"M6 18l12 0"}))},alignRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 6l16 0"}),B("path",{d:"M10 12l10 0"}),B("path",{d:"M6 18l14 0"}))},alignTop:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),B("path",{d:"M11 13h2"}),B("path",{d:"M9 10h6"}),B("path",{d:"M10 7h4"}))},alignMiddle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),B("path",{d:"M11 15h2"}),B("path",{d:"M9 12h6"}),B("path",{d:"M10 9h4"}))},alignBottom:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),B("path",{d:"M11 17h2"}),B("path",{d:"M9 14h6"}),B("path",{d:"M10 11h4"}))},photo:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 8h.01"}),B("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),B("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),B("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}))},pointer:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"}))},redact:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 4h10"}),B("path",{d:"M12 4v8"}),B("defs",null,B("clipPath",{id:"stripeClip"},B("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2"}))),B("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2",fill:"none"}),B("g",{"clip-path":"url(#stripeClip)"},B("path",{d:"M-7 24l12 -12"}),B("path",{d:"M-3 24l12 -12"}),B("path",{d:"M1 24l12 -12"}),B("path",{d:"M5 24l12 -12"}),B("path",{d:"M9 24l12 -12"}),B("path",{d:"M13 24l12 -12"}),B("path",{d:"M17 24l12 -12"}),B("path",{d:"M21 24l12 -12"}),B("path",{d:"M25 24l12 -12"})))},redactArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 20h-1a2 2 0 0 1 -2 -2v-1"}),B("path",{d:"M3 13v-3"}),B("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),B("path",{d:"M10 3h3"}),B("path",{d:"M17 3h1a2 2 0 0 1 2 2v1"}),B("defs",null,B("clipPath",{id:"redactClip"},B("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2"}))),B("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2",fill:"none"}),B("g",{"clip-path":"url(#redactClip)"},B("path",{d:"M-2 24l14 -14"}),B("path",{d:"M2 24l14 -14"}),B("path",{d:"M6 24l14 -14"}),B("path",{d:"M10 24l15 -15"}),B("path",{d:"M14 24l15 -15"}),B("path",{d:"M18 24l15 -15"})))},check:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M5 12l5 5l10 -10"}))},signature:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 12c6-3 12 3 18 0"}),B("path",{d:"M3 17h18"}))}},Ur=["icon","title","size","strokeWidth","primaryColor","secondaryColor","className"];function Wr(e){var t=e.icon,n=e.title,o=e.size,i=void 0===o?24:o,r=e.strokeWidth,a=void 0===r?2:r,l=e.primaryColor,s=void 0===l?"currentColor":l,c=e.secondaryColor,d=e.className,u=p(e,Ur),g=Fr[t];return g?B(g,h({size:i,strokeWidth:a,primaryColor:s,secondaryColor:c,className:d,title:n},u)):(console.warn("Icon not found: ".concat(t)),null)}const Gr="START_SEARCH_SESSION",Vr="STOP_SEARCH_SESSION",qr="SET_SEARCH_FLAGS",Zr="SET_SHOW_ALL_RESULTS",Yr="START_SEARCH",Xr="SET_SEARCH_RESULTS",Kr="APPEND_SEARCH_RESULTS",Qr="SET_ACTIVE_RESULT_INDEX";function Jr(e){return{type:qr,payload:e}}function ea(e){return{type:Zr,payload:e}}function ta(e,t,n){return{type:Xr,payload:{results:e,total:t,activeResultIndex:n}}}function na(e){return{type:Qr,payload:e}}const oa=class extends zn{constructor(e,t){super(e,t),this.searchStop$=jn(),this.searchStart$=jn(),this.searchResult$=jn(),this.searchActiveResultChange$=jn(),this.searchResultState$=jn(),this.searchState$=jn(),this.loader=this.registry.getPlugin("loader").provides(),this.loader.onDocumentLoaded(this.handleDocumentLoaded.bind(this)),this.loader.onLoaderEvent(this.handleLoaderEvent.bind(this))}handleDocumentLoaded(e){this.currentDocument=e,this.state.active&&this.startSearchSession()}handleLoaderEvent(e){("error"===e.type||"start"===e.type&&this.currentDocument)&&(this.state.active&&this.stopSearchSession(),this.currentDocument=void 0)}async initialize(e){this.dispatch(Jr(e.flags||[])),this.dispatch(ea(void 0===e.showAllResults||e.showAllResults))}onStoreUpdated(e,t){this.searchResultState$.emit({results:t.results,activeResultIndex:t.activeResultIndex,showAllResults:t.showAllResults,active:t.active}),this.searchState$.emit(t)}buildCapability(){return{startSearch:this.startSearchSession.bind(this),stopSearch:this.stopSearchSession.bind(this),searchAllPages:this.searchAllPages.bind(this),nextResult:this.nextResult.bind(this),previousResult:this.previousResult.bind(this),goToResult:this.goToResult.bind(this),setShowAllResults:e=>this.dispatch(ea(e)),getShowAllResults:()=>this.state.showAllResults,onSearchResult:this.searchResult$.on,onSearchStart:this.searchStart$.on,onSearchStop:this.searchStop$.on,onActiveResultChange:this.searchActiveResultChange$.on,onSearchResultStateChange:this.searchResultState$.on,onStateChange:this.searchState$.on,getFlags:()=>this.state.flags,setFlags:e=>this.setFlags(e),getState:()=>this.state}}setFlags(e){this.dispatch(Jr(e)),this.state.active&&this.searchAllPages(this.state.query,!0)}notifySearchStart(){this.searchStart$.emit()}notifySearchStop(){this.searchStop$.emit()}notifyActiveResultChange(e){this.searchActiveResultChange$.emit(e)}startSearchSession(){this.currentDocument&&(this.dispatch({type:Gr}),this.notifySearchStart())}stopSearchSession(){var e,t;if(this.currentDocument&&this.state.active){try{null==(t=null==(e=this.currentTask)?void 0:e.abort)||t.call(e,{type:"abort",code:"cancelled",message:"search stopped"})}catch{}this.currentTask=void 0,this.dispatch({type:Vr}),this.notifySearchStop()}}searchAllPages(e,t=!1){var n,o;const i=e.trim();if(this.state.query===i&&!t)return zt.resolve({results:this.state.results,total:this.state.total});if(this.currentTask){try{null==(o=(n=this.currentTask).abort)||o.call(n,{type:"abort",code:"superseded",message:"new search"})}catch{}this.currentTask=void 0}if(this.dispatch({type:Yr,payload:i}),!i||!this.currentDocument)return this.dispatch(ta([],0,-1)),zt.resolve({results:[],total:0});this.state.active||this.startSearchSession();const r=this.currentTask=this.engine.searchAllPages(this.currentDocument,i,{flags:this.state.flags});return r.onProgress((e=>{var t,n;(null==(t=null==e?void 0:e.results)?void 0:t.length)&&(this.dispatch((n=e.results,{type:Kr,payload:{results:n}})),-1===this.state.activeResultIndex&&(this.dispatch(na(0)),this.notifyActiveResultChange(0)))})),r.wait((e=>{this.currentTask=void 0;const t=e.total>0?0:-1;this.dispatch(ta(e.results,e.total,t)),this.searchResult$.emit(e),e.total>0&&this.notifyActiveResultChange(0)}),(e=>{this.currentTask=void 0,console.error("Error during search:",e),this.dispatch(ta([],0,-1))})),r}nextResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex>=this.state.results.length-1?0:this.state.activeResultIndex+1;return this.goToResult(e)}previousResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex<=0?this.state.results.length-1:this.state.activeResultIndex-1;return this.goToResult(e)}goToResult(e){return 0===this.state.results.length||e<0||e>=this.state.results.length?-1:(this.dispatch(na(e)),this.notifyActiveResultChange(e),e)}async destroy(){this.state.active&&this.currentDocument&&this.stopSearchSession(),this.searchResult$.clear(),this.searchStart$.clear(),this.searchStop$.clear(),this.searchActiveResultChange$.clear(),this.searchResultState$.clear(),this.searchState$.clear()}};oa.id="search";let ia=oa;const ra="search",aa={flags:[],results:[],total:0,activeResultIndex:-1,showAllResults:!0,query:"",loading:!1,active:!1},la={manifest:{id:ra,name:"Search Plugin",version:"1.0.0",provides:["search"],requires:["loader"],optional:[],defaultConfig:{enabled:!0,flags:[]}},create:e=>new ia(ra,e),reducer:(e=aa,t)=>{switch(t.type){case Gr:return{...e,active:!0};case Vr:return{...e,results:[],total:0,activeResultIndex:-1,query:"",loading:!1,active:!1};case qr:return{...e,flags:t.payload};case Zr:return{...e,showAllResults:t.payload};case Yr:return{...e,loading:!0,query:t.payload,results:[],total:0,activeResultIndex:-1};case Kr:{const n=[...e.results,...t.payload.results],o=-1===e.activeResultIndex&&n.length>0?0:e.activeResultIndex;return{...e,results:n,total:n.length,activeResultIndex:o,loading:!0}}case Xr:return{...e,results:t.payload.results,total:t.payload.total,activeResultIndex:t.payload.activeResultIndex,loading:!1};case Qr:return{...e,activeResultIndex:t.payload};default:return e}},initialState:aa},sa=()=>Zn(ia.id);function ca({pageIndex:e,scale:t,style:n,highlightColor:o="#FFFF00",activeHighlightColor:i="#FFBF00",...r}){const{provides:a}=sa(),[l,s]=xe(null);if(ke((()=>null==a?void 0:a.onSearchResultStateChange((e=>{s(e)}))),[a]),!l)return null;return Le("div",{style:{...n},...r,children:l.results.map(((e,t)=>({result:e,originalIndex:t}))).filter((({result:t})=>t.pageIndex===e)).map((({result:e,originalIndex:n})=>e.rects.map((e=>Le("div",{style:{position:"absolute",top:e.origin.y*t,left:e.origin.x*t,width:e.size.width*t,height:e.size.height*t,backgroundColor:n===l.activeResultIndex?i:o,mixBlendMode:"multiply",transform:"scale(1.02)",transformOrigin:"center",transition:"opacity .3s ease-in-out",opacity:1}})))))})}const da="thumbnail",ua={id:da,name:"Thumbnail Plugin",version:"1.0.0",provides:["thumbnail"],requires:["render"],optional:[],defaultConfig:{enabled:!0,width:150,gap:10,buffer:3,labelHeight:16}},ha=class extends zn{constructor(e,t,n){super(e,t),this.cfg=n,this.thumbs=[],this.window=null,this.emitWindow=jn(),this.refreshPages$=Bn(),this.taskCache=new Map,this.renderCapability=this.registry.getPlugin("render").provides(),this.coreStore.onAction(bn,((e,t)=>{this.taskCache.clear(),this.setWindowState(t)})),this.coreStore.onAction(yn,(e=>{this.refreshPages$.emit(e.payload);for(const t of e.payload)this.taskCache.delete(t)}))}async initialize(){}onRefreshPages(e){return this.refreshPages$.on(e)}setWindowState(e){const t=e.core;if(!t.document)return;const n=this.cfg.width??120,o=this.cfg.labelHeight??16,i=this.cfg.gap??8;let r=0;this.thumbs=t.document.pages.map((e=>{const t=e.size.height/e.size.width,a=Math.round(n*t),l=a+o,s={pageIndex:e.index,width:n,height:a,wrapperHeight:l,top:r,labelHeight:o};return r+=l+i,s})),this.window={start:-1,end:-1,items:[],totalHeight:r-i},this.emitWindow.emit(this.window)}buildCapability(){return{onWindow:this.emitWindow.on,setViewport:(e,t)=>this.updateWindow(e,t),renderThumb:(e,t)=>this.renderThumb(e,t)}}updateWindow(e,t){const n=this.cfg.buffer??3;let o=0,i=this.thumbs.length-1,r=0;for(;o<=i;){const t=o+i>>1,n=this.thumbs[t];n.top+n.wrapperHeight<e?o=t+1:(r=t,i=t-1)}let a=r;const l=e+t;for(;a+1<this.thumbs.length&&this.thumbs[a].top<l;)a++;a=Math.min(this.thumbs.length-1,a+n);const s=Math.max(0,r-n);this.window&&s===this.window.start&&a===this.window.end||(this.window={start:s,end:a,items:this.thumbs.slice(s,a+1),totalHeight:this.window.totalHeight},this.emitWindow.emit(this.window))}renderThumb(e,t){if(this.taskCache.has(e))return this.taskCache.get(e);const n=this.coreState.core.document.pages[e],o=(this.cfg.width??120)/n.size.width,i=this.renderCapability.renderPageRect({pageIndex:e,rect:{origin:{x:0,y:0},size:n.size},options:{scaleFactor:o,dpr:t}});return this.taskCache.set(e,i),i.wait(cn,(()=>{this.taskCache.delete(e)})),i}};ha.id="thumbnail";let pa=ha;const ga={manifest:ua,create:(e,t)=>new pa(da,e,t),reducer:()=>{},initialState:{}},ma=()=>Zn(pa.id);function fa({style:e,selectedPage:t,scrollOptions:n={behavior:"smooth",block:"nearest",inline:"nearest"},...o}){const{provides:i}=ma(),r=Se(null),[a,l]=xe(null);return ke((()=>null==i?void 0:i.onWindow(l)),[i]),ke((()=>{const e=r.current;if(!e)return;const t=()=>null==i?void 0:i.setViewport(e.scrollTop,e.clientHeight);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}),[i]),ke((()=>{const e=r.current;e&&i&&0===(null==a?void 0:a.items.length)&&i.setViewport(e.scrollTop,e.clientHeight)}),[a,i]),ke((()=>{if(!t||!a)return;const e=a.items.find((e=>e.pageIndex+1===t));if(!e)return;const o=r.current;if(!o)return;e.top<o.scrollTop+8?o.scrollTo({top:e.top,...n}):e.top+e.wrapperHeight+e.labelHeight>o.scrollTop+o.clientHeight-8&&o.scrollTo({top:e.top+e.wrapperHeight+e.labelHeight-o.clientHeight,...n})}),[t,a,n]),Le("div",{ref:r,style:{overflowY:"auto",position:"relative",...e},...o,children:Le("div",{style:{height:(null==a?void 0:a.totalHeight)??0,position:"relative"},children:null==a?void 0:a.items.map((e=>o.children(e)))})})}function va({meta:e,style:t,...n}){const{provides:o}=ma(),{plugin:i}=qn(pa.id),[r,a]=xe(),l=Se(null),[s,c]=xe(0);ke((()=>{if(i)return i.onRefreshPages((t=>{t.includes(e.pageIndex)&&c((e=>e+1))}))}),[i]),ke((()=>{const t=null==o?void 0:o.renderThumb(e.pageIndex,window.devicePixelRatio);return null==t||t.wait((e=>{const t=URL.createObjectURL(e);l.current=t,a(t)}),cn),()=>{l.current?(URL.revokeObjectURL(l.current),l.current=null):null==t||t.abort({code:Et.Cancelled,message:"canceled render task"})}}),[o,e.pageIndex,s]);return r?Le("img",{src:r,onLoad:()=>{l.current&&(URL.revokeObjectURL(l.current),l.current=null)},style:t,...n}):null}function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=f(xe(e),2),o=n[0],i=n[1];return ke((function(){var n=window.setTimeout((function(){return i(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),o}var ba=function(e){var t=e.label,n=e.checked,o=e.onChange;return B("label",{className:"inline-flex cursor-pointer select-none items-center gap-2 text-xs font-medium text-gray-700"},B("input",{type:"checkbox",checked:n,onChange:function(e){return o(e.target.checked)},className:"peer h-4 w-4 shrink-0 appearance-none rounded-[3px] border border-gray-300 bg-white transition-all checked:border-blue-600 checked:bg-blue-600"}),B("svg",{viewBox:"0 0 24 24",className:"/* fine-tune centering */ pointer-events-none absolute h-3.5 w-3.5 translate-x-[1px] translate-y-[1px] text-white opacity-0 peer-checked:opacity-100",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"},B("polyline",{points:"20 6 9 17 4 12"})),t)};const wa="selection",xa={id:wa,name:"Selection Plugin",version:"1.0.0",provides:["selection"],requires:["interaction-manager"],optional:[],defaultConfig:{enabled:!0}},ka="CACHE_PAGE_GEOMETRY",Ca="SET_SELECTION",Sa="START_SELECTION",Ma="END_SELECTION",Ia="CLEAR_SELECTION",Pa="SET_RECTS",Aa="SET_SLICES",_a="RESET";function Ta(e,t){return e.rects[t]??[]}function Ea(e,t){return Qe(Ta(e,t))}function za(e,t){for(const n of e.runs){if(!(t.y>=n.rect.y&&t.y<=n.rect.y+n.rect.height&&t.x>=n.rect.x&&t.x<=n.rect.x+n.rect.width))continue;const e=n.glyphs.findIndex((e=>t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height));if(-1!==e)return n.charStart+e}return-1}function Na(e,t,n){if(!e||!t)return null;if(n<e.start.page||n>e.end.page)return null;const o=n===e.start.page?e.start.index:0,i=t.runs[t.runs.length-1],r=i.charStart+i.glyphs.length-1;return{from:o,to:n===e.end.page?e.end.index:r}}function Ra(e,t,n,o=!0){const i=[];for(const o of e.runs){const e=o.charStart,r=e+o.glyphs.length-1;if(r<t||e>n)continue;const a=Math.max(t,e)-e,l=Math.min(n,r)-e;let s=1/0,c=-1/0,d=1/0,u=-1/0,h=0;for(let e=a;e<=l;e++){const t=o.glyphs[e];2!==t.flags&&(s=Math.min(s,t.x),c=Math.max(c,t.x+t.width),d=Math.min(d,t.y),u=Math.max(u,t.y+t.height),h++)}s!==1/0&&h>0&&i.push({rect:{origin:{x:s,y:d},size:{width:c-s,height:u-d}},charCount:h})}return o?function(e){const t=[];let n=null,o=null;for(const i of e)n&&o?Ha(n,i)?o=La(o,i.rect):(t.push(o),o=i.rect):o=i.rect,n=i;o&&!Da(o)&&t.push(o);return t}(i):i.map((e=>e.rect))}function La(e,t){const n=Math.min(e.origin.x,t.origin.x),o=Math.min(e.origin.y,t.origin.y);return{origin:{x:n,y:o},size:{width:Math.max(e.origin.x+e.size.width,t.origin.x+t.size.width)-n,height:Math.max(e.origin.y+e.size.height,t.origin.y+t.size.height)-o}}}function Da(e){return e.size.width<=0||e.size.height<=0}function Oa(e,t){if(Da(e)||Da(t))return 0;const n=La(e,t);if(n.size.height===e.size.height||n.size.height===t.size.height)return 1;const o=function(e,t){const n=Math.max(e.origin.x,t.origin.x),o=Math.max(e.origin.y,t.origin.y),i=Math.min(e.origin.x+e.size.width,t.origin.x+t.size.width),r=Math.min(e.origin.y+e.size.height,t.origin.y+t.size.height);return{origin:{x:n,y:o},size:{width:Math.max(0,i-n),height:Math.max(0,r-o)}}}(e,t);return o.size.height/n.size.height}function Ha(e,t){const n=e.rect,o=t.rect;if(Oa(n,o)<.8)return!1;const i=1*n.size.width/e.charCount,r=1*o.size.width/t.charCount,a=n.origin.x-i,l=n.origin.x+n.size.width+i,s=o.origin.x-r;return a<o.origin.x+o.size.width+r&&l>s}const Ba=class extends zn{constructor(e,t){var n;super(e,t),this.enabledModes=new Set(["pointerMode"]),this.selecting=!1,this.pageCallbacks=new Map,this.selChange$=jn(),this.textRetrieved$=jn(),this.copyToClipboard$=Bn(),this.beginSelection$=Bn(),this.endSelection$=Bn(),this.interactionManagerCapability=null==(n=this.registry.getPlugin("interaction-manager"))?void 0:n.provides(),this.coreStore.onAction(bn,(e=>{this.dispatch({type:_a}),this.notifyAllPages()})),this.coreStore.onAction(yn,(e=>{const t=e.payload.map((e=>this.getNewPageGeometryAndCache(e)));lt.all(t).wait((()=>{e.payload.forEach((e=>{this.notifyPage(e)}))}),cn)}))}async initialize(){}async destroy(){this.selChange$.clear()}buildCapability(){return{getGeometry:e=>this.getOrLoadGeometry(e),getFormattedSelection:()=>function(e){const t=[],n=Object.keys(e.rects).map(Number);for(const o of n){const n=e.rects[o]||[];if(0===n.length)continue;const i=Ea(e,o);i&&t.push({pageIndex:o,rect:i,segmentRects:n})}return t}(this.state),getFormattedSelectionForPage:e=>function(e,t){const n=e.rects[t]||[];if(0===n.length)return null;const o=Ea(e,t);return o?{pageIndex:t,rect:o,segmentRects:n}:null}(this.state,e),getHighlightRectsForPage:e=>Ta(this.state,e),getHighlightRects:()=>this.state.rects,getBoundingRectForPage:e=>Ea(this.state,e),getBoundingRects:()=>function(e){const t=[],n=e.rects;for(const e in n){const o=Number(e),i=Qe(n[o]);i&&t.push({page:o,rect:i})}return t}(this.state),begin:(e,t)=>this.beginSelection(e,t),update:(e,t)=>this.updateSelection(e,t),end:()=>this.endSelection(),clear:()=>this.clearSelection(),onCopyToClipboard:this.copyToClipboard$.on,onSelectionChange:this.selChange$.on,onTextRetrieved:this.textRetrieved$.on,onBeginSelection:this.beginSelection$.on,onEndSelection:this.endSelection$.on,getSelectedText:()=>this.getSelectedText(),copyToClipboard:()=>this.copyToClipboard(),enableForMode:e=>this.enabledModes.add(e),isEnabledForMode:e=>this.enabledModes.has(e),getState:()=>this.state,registerSelectionOnPage:e=>this.registerSelectionOnPage(e)}}registerSelectionOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("SelectionPlugin","MissingDependency","Interaction manager plugin not loaded, text selection disabled"),()=>{};const{pageIndex:t,onRectsChange:n}=e;this.pageCallbacks.set(t,n);const o=this.getOrLoadGeometry(t);n({rects:Ta(this.state,t),boundingRect:Ea(this.state,t)});const i={onPointerDown:(e,n,o)=>{if(!this.enabledModes.has(o))return;this.clearSelection();const i=this.state.geometry[t];if(i){const n=za(i,e);-1!==n&&this.beginSelection(t,n)}},onPointerMove:(e,n,o)=>{var i,r;if(!this.enabledModes.has(o))return;const a=this.state.geometry[t];if(a){const n=za(a,e);-1!==n?null==(i=this.interactionManagerCapability)||i.setCursor("selection-text","text",10):null==(r=this.interactionManagerCapability)||r.removeCursor("selection-text"),this.selecting&&-1!==n&&this.updateSelection(t,n)}},onPointerUp:(e,t,n)=>{this.enabledModes.has(n)&&this.endSelection()},onHandlerActiveEnd:e=>{this.enabledModes.has(e)&&this.clearSelection()}},r=this.interactionManagerCapability.registerAlways({scope:{type:"page",pageIndex:t},handlers:i});return()=>{r(),this.pageCallbacks.delete(t),o.abort({code:Et.Cancelled,message:"Cleanup"})}}notifyPage(e){var t;const n=this.pageCallbacks.get(e);if(n){n("pointerMode"===(null==(t=this.interactionManagerCapability)?void 0:t.getActiveMode())?{rects:Ta(this.state,e),boundingRect:Ea(this.state,e)}:{rects:[],boundingRect:null})}}notifyAllPages(){this.pageCallbacks.forEach(((e,t)=>{this.notifyPage(t)}))}getNewPageGeometryAndCache(e){if(!this.coreState.core.document)return zt.reject({code:Et.NotFound,message:"Doc Not Found"});const t=this.coreState.core.document.pages.find((t=>t.index===e)),n=this.engine.getPageGeometry(this.coreState.core.document,t);return n.wait((t=>{this.dispatch(((e,t)=>({type:ka,payload:{page:e,geo:t}}))(e,t))}),cn),n}getOrLoadGeometry(e){const t=this.state.geometry[e];return t?zt.resolve(t):this.getNewPageGeometryAndCache(e)}beginSelection(e,t){this.selecting=!0,this.anchor={page:e,index:t},this.dispatch({type:Sa}),this.beginSelection$.emit({page:e,index:t})}endSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Ma}),this.endSelection$.emit()}clearSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Ia}),this.selChange$.emit(null),this.notifyAllPages()}updateSelection(e,t){if(!this.selecting||!this.anchor)return;const n=this.anchor,o=e>n.page||e===n.page&&t>=n.index,i={start:o?n:{page:e,index:t},end:o?{page:e,index:t}:n};this.dispatch({type:Ca,payload:i}),this.updateRectsAndSlices(i),this.selChange$.emit(i);for(let e=i.start.page;e<=i.end.page;e++)this.notifyPage(e)}updateRectsAndSlices(e){const t={},n={};for(let o=e.start.page;o<=e.end.page;o++){const i=this.state.geometry[o],r=Na(e,i,o);r&&(t[o]=Ra(i,r.from,r.to),n[o]={start:r.from,count:r.to-r.from+1})}this.dispatch((e=>({type:Pa,payload:e}))(t)),this.dispatch({type:Aa,payload:n})}getSelectedText(){if(!this.coreState.core.document||!this.state.selection)return zt.reject({code:Et.NotFound,message:"Doc Not Found or No Selection"});const e=this.state.selection,t=[];for(let n=e.start.page;n<=e.end.page;n++){const e=this.state.slices[n];e&&t.push({pageIndex:n,charIndex:e.start,charCount:e.count})}if(0===t.length)return zt.resolve([]);const n=this.engine.getTextSlices(this.coreState.core.document,t);return n.wait((e=>{this.textRetrieved$.emit(e)}),cn),n}copyToClipboard(){this.getSelectedText().wait((e=>{this.copyToClipboard$.emit(e.join("\n"))}),cn)}};Ba.id="selection";let ja=Ba;const $a={geometry:{},rects:{},slices:{},selection:null,active:!1,selecting:!1},Fa=()=>Zn(ja.id);function Ua({pageIndex:e,scale:t,background:n="rgba(33,150,243)"}){const{provides:o}=Fa(),[i,r]=xe([]),[a,l]=xe(null);return ke((()=>{if(o)return o.registerSelectionOnPage({pageIndex:e,onRectsChange:({rects:e,boundingRect:t})=>{r(e),l(t)}})}),[o,e]),a?Le("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,mixBlendMode:"multiply",isolation:"isolate"},children:i.map(((e,o)=>Le("div",{style:{position:"absolute",left:(e.origin.x-a.origin.x)*t,top:(e.origin.y-a.origin.y)*t,width:e.size.width*t,height:e.size.height*t,background:n,pointerEvents:"none"}},o)))}):null}const Wa=Fn({manifest:xa,create:e=>new ja(wa,e),reducer:(e=$a,t)=>{switch(t.type){case ka:{const{page:n,geo:o}=t.payload;return{...e,geometry:{...e.geometry,[n]:o}}}case Ca:return{...e,selection:t.payload,active:!0};case Sa:return{...e,selecting:!0,selection:null,rects:{}};case Ma:return{...e,selecting:!1};case Ia:return{...e,selecting:!1,selection:null,rects:{},active:!1};case Pa:return{...e,rects:t.payload};case Aa:return{...e,slices:t.payload};case _a:return $a;default:return e}},initialState:$a}).addUtility((function(){const{provides:e}=Fa();return ke((()=>{if(e)return e.onCopyToClipboard((e=>{navigator.clipboard.writeText(e)}))}),[e]),null})).build();function Ga(e,t,n,o,i,r){return r?e.origin.y+i>=n+o:e.origin.y+i+e.size.height+n+o<=t.scrollTop+t.clientHeight}function Va(e){var t=e.open,n=e.title,o=e.children,i=e.onClose,r=e.className,a=e.showCloseButton,l=void 0===a||a;e.maxWidth;var s=Se(null);ke((function(){if(t){var e=function(e){"Escape"===e.key&&(null==i||i())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[t,i]);return ke((function(){return document.body.style.overflow=t?"hidden":"",function(){document.body.style.overflow=""}}),[t]),t?Le("div",{ref:s,className:"fixed inset-0 z-50 bg-black/50 md:flex md:items-center md:justify-center",onClick:function(e){e.target===s.current&&(null==i||i())},children:Le("div",{className:"relative flex h-full w-full flex-col bg-white md:h-auto md:w-[28rem] md:max-w-[90vw] md:rounded-lg md:border md:border-gray-200 md:shadow-lg ".concat(r),onClick:function(e){return e.stopPropagation()},children:[(n||l)&&Le("div",{className:"flex flex-shrink-0 items-center justify-between border-b border-gray-200 px-6 py-4",children:[n&&Le("h2",{className:"text-lg font-semibold text-gray-900",children:n}),l&&Le(mi,{onClick:i,className:"p-1 hover:bg-gray-100",children:Le(Wr,{icon:"x",className:"h-5 w-5"})})]}),Le("div",{className:"flex-1 overflow-y-auto px-6 py-4 md:max-h-[80vh] md:flex-none",children:o})]})}):null}const qa="print",Za={id:qa,name:"Print Plugin",version:"1.0.0",provides:["print"],requires:["render"],optional:[],defaultConfig:{enabled:!0}},Ya=class extends zn{constructor(e,t,n){super(e,t),this.printReady$=Bn()}async initialize(e){}buildCapability(){return{print:this.print.bind(this)}}onPrintRequest(e){return this.printReady$.on(e)}print(e){const t=new lt;t.progress({stage:"preparing",message:"Preparing document..."});return this.preparePrintDocument(e).wait((n=>{t.progress({stage:"document-ready",message:"Document prepared successfully"}),this.printReady$.emit({options:e,buffer:n,task:t})}),t.fail),t}preparePrintDocument(e){const t=this.coreState.core.document;return t?this.engine.preparePrintDocument(t,e):zt.reject({code:Et.DocNotOpen,message:"Document not found"})}};Ya.id="print";let Xa=Ya;const Ka=()=>Zn(Xa.id);const Qa=Fn({manifest:Za,create:(e,t)=>new Xa(qa,e,t),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:e}=Ka(),{plugin:t}=qn(Xa.id),n=Se(null),o=Se(null);return ke((()=>{if(!e||!t)return;const i=t.onPrintRequest((({buffer:e,task:t})=>{const i=n.current;if(!i)return;o.current&&(URL.revokeObjectURL(o.current),o.current=null);const r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));o.current=r,i.onload=()=>{var n,o;i.src===r&&(t.progress({stage:"iframe-ready",message:"Ready to print"}),null==(n=i.contentWindow)||n.focus(),null==(o=i.contentWindow)||o.print(),t.progress({stage:"printing",message:"Print dialog opened"}),t.resolve(e))},i.src=r}));return()=>{i(),o.current&&URL.revokeObjectURL(o.current)}}),[e,t]),Le("iframe",{ref:n,style:{position:"absolute",display:"none"},title:"Print Document",src:"about:blank"})})).build(),Ja="bookmark",el={id:Ja,name:"Bookmark Plugin",version:"1.0.0",provides:["bookmark"],requires:[],optional:[],defaultConfig:{enabled:!0}},tl=class extends zn{constructor(e,t){super(e,t)}async initialize(e){}buildCapability(){return{getBookmarks:this.getBookmarks.bind(this)}}getBookmarks(){const e=this.coreState.core.document;if(!e)throw new Error("Document not open");return this.engine.getBookmarks(e)}};tl.id="bookmark";let nl=tl;const ol={manifest:el,create:e=>new nl(Ja,e),reducer:()=>{},initialState:{}},il=class extends zn{constructor(e,t){super(e,t)}async initialize(e){}buildCapability(){return{getAttachments:this.getAttachments.bind(this),downloadAttachment:this.downloadAttachment.bind(this)}}downloadAttachment(e){const t=this.coreState.core.document;return t?this.engine.readAttachmentContent(t,e):zt.reject({code:Et.NotFound,message:"Document not found"})}getAttachments(){const e=this.coreState.core.document;return e?this.engine.getAttachments(e):zt.reject({code:Et.NotFound,message:"Document not found"})}};il.id="attachment";let rl=il;const al="attachment",ll={manifest:{id:al,name:"Attachment Plugin",version:"1.0.0",provides:["attachment"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new rl(al,e),reducer:()=>{},initialState:{}};var sl=["commandId","onClick","active","iconProps","disabled"],cl=["commandId","onClick","active"],dl=function(e,t,n){var o=e.commandId,i=e.onClick,r=e.active,a=e.iconProps,l=e.disabled,s=void 0!==l&&l,c=p(e,sl),d=ui().provides,u=o?null==d?void 0:d.getMenuOrAction(o):null,g=Ie((function(e){if(e.preventDefault(),e.stopPropagation(),i)i();else if(o&&d&&u){var t=e.currentTarget;d.executeCommand(o,{source:"click",triggerElement:t,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right"})}}),[u,o,d,i]);return B(Ir,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:c.label||(null==u?void 0:u.label)||"",trigger:r?"none":"hover",delay:500},B(mi,{active:r,onClick:g,disabled:s,className:" ".concat("flyout"===(null==n?void 0:n.variant)?"w-full rounded-none px-2":""," ")},!(null!=u&&u.icon)&&c.img&&B("img",{src:c.img,alt:c.label,className:"h-5 w-5"}),(null==u?void 0:u.icon)&&B(Wr,h({icon:u.icon,className:"h-5 w-5"},a))))},ul=function(e,t){var n=e.commandId,o=e.onClick,i=e.active,r=p(e,cl),a=ui().provides,l=n?null==a?void 0:a.getMenuOrAction(n):null,s=Ie((function(e){e.preventDefault(),e.stopPropagation(),o?o():n&&a&&l&&a.executeCommand(n,{source:"click"})}),[l,n,a,o]);return B(mi,{key:r.id,className:"rounded-none px-2 py-1 text-sm hover:bg-transparent ".concat(i?"border-b-2 border-b-blue-500 text-blue-500":"border-b-2 border-b-transparent hover:border-b-gray-500"," hover:ring-transparent"),onClick:s},r.label)},hl=function(e,t,n){return B("div",{className:"horizontal"===(null==n?void 0:n.direction)?"h-6 w-[1px] bg-gray-300 self-center":"h-[1px] w-6 bg-gray-300 self-center"})},pl=function(e,t,n){return B("div",{style:{display:"flex",flexDirection:"horizontal"===(null==n?void 0:n.direction)?"row":"column",justifyContent:e.justifyContent||"start",gap:"".concat(e.gap||0,"px")}},t())},gl=function(e,t){var n=h(h(h({},"top"===e.placement?{borderBottom:"1px solid #cfd4da"}:"bottom"===e.placement?{borderTop:"1px solid #cfd4da"}:"left"===e.placement?{borderRight:"1px solid #cfd4da"}:{borderLeft:"1px solid #cfd4da"}),{},{width:"top"===e.placement||"bottom"===e.placement?"100%":"auto",height:"left"===e.placement||"right"===e.placement?"100%":"auto",zIndex:10,justifyContent:"space-between",display:"flex",flexDirection:"top"===e.placement||"bottom"===e.placement?"row":"column"},"top"===e.placement||"bottom"===e.placement?{paddingTop:"8px",paddingBottom:"8px",paddingLeft:"16px",paddingRight:"16px"}:{paddingLeft:"8px",paddingRight:"8px",paddingTop:"16px",paddingBottom:"16px"}),e.style);return void 0===e.visible||e.visible?B("div",{style:n,className:"header"},t(h({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))):null},ml=function(e,t){var n=ui().provides,o=e.tabsCommandId?null==n?void 0:n.getMenuOrAction(e.tabsCommandId):null,i=o&&"menu"===o.type?null==n?void 0:n.getItemsByIds(o.children):null;return B($,null,o&&i&&B("div",{role:"tablist",className:"mx-4 my-4 flex flex-shrink-0 overflow-hidden bg-white"},i.filter((function(e){return"action"===e.type})).map((function(e,t,o){var i=!!e.active,r=0===t,a=t===o.length-1;return B(Ir,{key:e.id,content:e.label,trigger:"hover",position:"bottom"},B("button",{role:"tab","aria-selected":i,tabIndex:i?0:-1,onClick:function(t){return null==n?void 0:n.executeCommand(e.id,{source:"click",triggerElement:t.currentTarget,position:"bottom"})},className:"relative flex h-7 flex-1 cursor-pointer items-center justify-center border outline-none transition-colors ".concat(r?"rounded-l-md":""," ").concat(a?"rounded-r-md":""," ").concat(a?"":"border-r-0"," ").concat(i?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-50"," ")},e.icon&&B(Wr,{icon:e.icon,className:"pointer-events-none block h-5 w-5"})))}))),t(h({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}})))},fl=function(e,t){var n=function(e){var t=f(xe(!1),2),n=t[0],o=t[1],i=Se(0),r=Se(0),a=Se(null),l=Se(!1);return ke((function(){e||(o(!1),l.current=!1)}),[e]),ke((function(){if(e){var t=a.current;if(t){var s=function(e){l.current=!0,i.current="touches"in e?e.touches[0].clientY:e.clientY,r.current=i.current},c=function(e){if(l.current){r.current="touches"in e?e.touches[0].clientY:e.clientY;var t=r.current-i.current;t<-2&&!n?(o(!0),l.current=!1):t>2&&n&&(o(!1),l.current=!1)}},d=function(){l.current=!1};return t.addEventListener("touchstart",s),t.addEventListener("touchmove",c),t.addEventListener("touchend",d),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",s),t.addEventListener("mousemove",c),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",d),t.removeEventListener("touchcancel",d),t.removeEventListener("mousedown",s),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",d),t.removeEventListener("mouseleave",d)}}}}),[e,n]),{elementRef:a,isFullscreen:n}}(e.open),o=n.elementRef,i=n.isFullscreen,r=ui().provides;if(!e.open)return null;var a="left"===e.location?"md:border-r":"md:border-l";return B("div",{className:"flex w-full flex-none shrink-0 flex-col border-t bg-white md:w-[275px] md:min-w-[275px] md:border-t-0 ".concat(a," absolute bottom-0 left-0 right-0 z-10 touch-pan-y border-[#cfd4da] transition-all duration-300 ease-in-out md:static md:h-full ").concat(i?"h-full":"h-1/2")},B("div",{className:"flex h-6 w-full cursor-grab items-center justify-center active:cursor-grabbing md:hidden",ref:o},B("div",{className:"h-1 w-12 rounded-full bg-gray-300"})),B("div",{className:"flex flex-row justify-end md:hidden"},B("button",{onClick:function(){null==r||r.togglePanel({id:e.id,visibleChild:e.visibleChild||"leftPanelMain",open:!e.open})},className:"mr-5 cursor-pointer"},B(Wr,{icon:"x",className:"h-5 w-5"}))),B("div",{className:"flex min-h-0 flex-1 flex-col"},t(h({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))))};function vl(e){var t=e.hit,n=e.onClick,o=e.active,i=t.context,r=i.before,a=i.match,l=i.after,s=i.truncatedLeft,c=i.truncatedRight,d=Se(null);return ke((function(){o&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[o]),B("button",{ref:d,onClick:function(){return n(t)},className:"shadow-xs w-full cursor-pointer overflow-hidden rounded border border-[#cfd4da] p-3 text-left text-xs leading-tight text-gray-600 ".concat(o?"border-blue-500 bg-blue-50":"hover:border-[#1a466b] hover:bg-gray-100")},s&&"… ",r,B("span",{className:"font-bold text-blue-500"},a),l,c&&" …")}var yl=function(e){var t=Se(null),n=f(xe(e.query||""),2),o=n[0],i=n[1],r=sa().provides,a=So().provides,l=ya(o,400);ke((function(){t.current&&t.current.focus()}),[r]),ke((function(){""===l?null==r||r.stopSearch():null==r||r.searchAllPages(l)}),[l,r]),ke((function(){void 0!==e.activeResultIndex&&c(e.activeResultIndex)}),[e.activeResultIndex,e.query,e.flags]);var s=function(t,n){n?null==r||r.setFlags([].concat(v(e.flags),[t])):null==r||r.setFlags(e.flags.filter((function(e){return e!==t})))},c=function(t){var n=e.results[t];if(n){var o=n.rects.reduce((function(e,t){return{x:Math.min(e.x,t.origin.x),y:Math.min(e.y,t.origin.y)}}),{x:1/0,y:1/0});null==a||a.scrollToPage({pageNumber:n.pageIndex+1,pageCoordinates:o,center:!0})}},d=e.results.reduce((function(e,t,n){var o,i;return(null!==(i=e[o=t.pageIndex])&&void 0!==i?i:e[o]=[]).push({hit:t,index:n}),e}),{});return B("div",{className:"flex h-full flex-col bg-white"},B("div",{className:"p-4"},B("div",{className:"relative"},B("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},B("svg",{className:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),B("input",{ref:t,type:"text",placeholder:"Search",autoFocus:!0,value:o,onInput:function(e){var t=e.target;i(t.value)},className:"w-full rounded-md border border-gray-300 py-1 pl-8 pr-9 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o&&B("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3",onClick:function(){i(""),t.current&&t.current.focus()}},B("svg",{className:"h-4 w-4 text-gray-500 hover:text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),B("div",{className:"mt-3 flex flex-row gap-4"},B(ba,{label:"Case sensitive",checked:e.flags.includes(_t.MatchCase),onChange:function(e){return s(_t.MatchCase,e)}}),B(ba,{label:"Whole word",checked:e.flags.includes(_t.MatchWholeWord),onChange:function(e){return s(_t.MatchWholeWord,e)}})),B("hr",{className:"mb-2 mt-5 border-gray-200"}),e.active&&B("div",{className:"flex h-[32px] flex-row items-center justify-between"},B("div",{className:"text-xs text-gray-500"},e.total," results found"),e.total>1&&B("div",{className:"flex flex-row"},B(mi,{onClick:function(){null==r||r.previousResult()}},B(Wr,{icon:"chevronLeft",className:"h-4 w-4"})),B(mi,{onClick:function(){null==r||r.nextResult()}},B(Wr,{icon:"chevronRight",className:"h-4 w-4"}))))),B("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto px-4"},Object.entries(d).map((function(t){var n=f(t,2),o=n[0],i=n[1];return B("div",{key:o,className:"mt-2 first:mt-0"},B("div",{className:"bg-white/80 py-2 text-xs text-gray-500 backdrop-blur"},"Page ",Number(o)+1),B("div",{className:"flex flex-col gap-2"},i.map((function(t){var n=t.hit,o=t.index;return B(vl,{key:o,hit:n,active:o===e.activeResultIndex,onClick:function(){null==r||r.goToResult(o)}})}))))})),B("div",null)))},bl=function(e,t,n){var o=Hr().provides,i=ui().provides;if(!i)return null;var r=e.commandZoomMenu?i.getMenuOrAction(e.commandZoomMenu):null,a=e.commandZoomIn?i.getMenuOrAction(e.commandZoomIn):null,l=e.commandZoomOut?i.getMenuOrAction(e.commandZoomOut):null,s=f(xe(!1),2);s[0],s[1];var c=Se(null),d=Math.round(100*e.zoomLevel),u=function(e,t){t&&i.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",flatten:!0})};return ke((function(){c.current&&console.log(c.current)}),[c.current]),B("div",{className:"flex flex-row items-center rounded-md bg-[#f1f3f5]"},B("form",{onSubmit:function(e){e.preventDefault();var t=e.target,n=new FormData(t).get("zoom");null==o||o.requestZoom(parseFloat(n)/100)},className:"block"},B("input",{name:"zoom",type:"text",inputMode:"numeric",pattern:"\\d*",className:"h-6 w-8 border-0 bg-transparent p-0 text-right text-sm","aria-label":"Set zoom",autoFocus:!1,value:d,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),B("span",{className:"text-sm"},"%")),B(Ir,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom Options",trigger:e.zoomMenuActive?"none":"hover"},B(mi,{className:"p-1",onClick:function(e){return u(e,r)},active:e.zoomMenuActive},B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 9l6 6l6 -6"})))),B(Ir,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom Out",trigger:"hover"},B(mi,{className:"p-1",onClick:function(e){return u(e,l)}},(null==l?void 0:l.icon)&&B(Wr,{icon:l.icon,className:"h-5 w-5"}))),B(Ir,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom In",trigger:"hover"},B(mi,{className:"p-1",onClick:function(e){return u(e,a)}},(null==a?void 0:a.icon)&&B(Wr,{icon:a.icon,className:"h-5 w-5"}))))},wl=function(e,t){var n=Fa().provides,o=So().provides,i=so().provides;if(!(e.open&&n&&o&&i))return null;var r=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40;if(!e.length)return null;var r=n.getMetrics(),a=n.getViewportGap(),l=1===e.length?{first:e[0],last:e[0]}:{first:e[0],last:e[e.length-1]},s=t.getRectPositionForPage(l.first.page,l.first.rect),c=t.getRectPositionForPage(l.last.page,l.last.rect);if(!s||!c)return null;var d=Ga(c,r,i,o,a,!1),u=Ga(s,r,i,o,a,!0);return d?{left:c.origin.x+c.size.width/2,top:c.origin.y+c.size.height+o}:u?{left:s.origin.x+s.size.width/2,top:s.origin.y-o-i}:null}(n.getBoundingRects(),o,i,10,42);return r?B("div",{style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),transform:"translate(-50%, 0%)",zIndex:2e3},className:"absolute rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"},t()):null},xl=function(e,t){var n=so().provides,o=f(xe(!1),2),i=o[0],r=o[1],a=f(xe(!1),2),l=a[0],s=a[1],c=Se(),d=Ie((function(){c.current&&clearTimeout(c.current),c.current=setTimeout((function(){l||r(!1)}),4e3)}),[l]);ke((function(){if(n)return n.onScrollChange((function(e){(e.scrollTop>0||e.scrollLeft>0)&&(r(!0),d())}))}),[n,d]),ke((function(){return function(){c.current&&clearTimeout(c.current)}}),[]);return B("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",onMouseEnter:function(){s(!0),r(!0)},onMouseLeave:function(){s(!1),d()}},B("div",{className:"rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1 transition-opacity duration-200 ".concat(i?"opacity-100":"opacity-0")},t()))},kl=function(e){var t=So().provides,n=ui().provides,o=1===e.currentPage,i=e.currentPage===e.pageCount,r=e.nextPageCommandId?null==n?void 0:n.getMenuOrAction(e.nextPageCommandId):null,a=e.previousPageCommandId?null==n?void 0:n.getMenuOrAction(e.previousPageCommandId):null,l=function(e,t){t&&n&&n.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget})};return B("div",{className:"flex flex-row items-center justify-between gap-3 rounded-md"},B(Ir,{position:"top",content:"Previous Page",trigger:o?"none":"hover"},B(mi,{className:"p-1 ".concat(o?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,a)},disabled:o},(null==a?void 0:a.icon)&&B(Wr,{icon:a.icon,className:"h-5 w-5"}))),B("form",{className:"flex flex-row items-center gap-3",onSubmit:function(e){e.preventDefault();var n=e.target,o=new FormData(n).get("page"),i=parseInt(o);!isNaN(i)&&i>=1&&(null==t||t.scrollToPage({pageNumber:i}))}},B("input",{name:"page",type:"text",inputMode:"numeric",pattern:"\\d*",className:"border-1 h-8 w-8 rounded-md border-gray-600 bg-white p-0 text-center text-sm","aria-label":"Set page",value:e.currentPage,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),B("span",{className:"text-sm"},e.pageCount)),B(Ir,{position:"top",content:"Next Page",trigger:i?"none":"hover"},B(mi,{className:"p-1 ".concat(i?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,r)},disabled:i},(null==r?void 0:r.icon)&&B(Wr,{icon:r.icon,className:"h-5 w-5"}))))},Cl=function(e){var t=e.activeCommand,n=e.open,o=e.position,i=e.triggerElement,r=e.flatten,a=ui().provides,l=f(xe([]),2),s=l[0],c=l[1],d=Se(null);if(ke((function(){n||c([])}),[n]),ke((function(){t&&(d.current!==t?c([]):d.current=null)}),[t]),!a)return null;var u=t?null==a?void 0:a.getChildItems(t,{flatten:r}):null,p=s.length>0&&t?a.getMenuOrAction(t):void 0,g=function(e){t&&c((function(e){return[].concat(v(e),[t])})),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})},m=function(e,t){if("group"===e.type){var n=e,o=a.getItemsByIds(n.children);return B($,{key:e.id},B("div",{className:"px-4 py-3 text-xs font-medium uppercase text-gray-600"},n.label),o.map((function(e,t){return B($,{key:e.id},m(e,t))})),B("hr",{className:"my-2 border-gray-200"}))}var i=e.dividerBefore&&0!==t?B("hr",{className:"my-2 border-gray-200"}):null;return B($,{key:e.id},i,B("button",{disabled:!!e.disabled,onClick:function(){return function(e){"action"===e.type?(a.hideCommandMenu(),a.executeCommand(e.id)):"menu"===e.type&&g(e.id)}(e)},className:"flex cursor-pointer flex-row items-center justify-between gap-2 px-4 py-1 ".concat("menu"===e.type?"menu-item":""," ").concat(e.active&&!e.disabled?"bg-blue-500 text-white":"text-gray-500 hover:bg-blue-900 hover:text-white"," ").concat(e.disabled?"pointer-events-none cursor-not-allowed opacity-50":""," ")},B("div",{className:"flex flex-row items-center gap-2"},B("div",{className:"flex h-6 w-6 items-center justify-center"},e.icon&&B(Wr,h({icon:e.icon,className:"h-6 w-6"},e.iconProps))),B("div",{className:"text-sm"},e.label)),B("div",{className:"flex items-center"},e.shortcutLabel&&B("div",{className:"mr-2 text-sm"},"(",e.shortcutLabel,")"),"menu"===e.type&&B(Wr,{icon:"chevronRight",className:"h-6 w-6"}))))},y=B($,null,s.length>0&&B("div",{onClick:function(){if(0!==s.length){var e=s[s.length-1];c((function(e){return e.slice(0,-1)})),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})}},className:"flex cursor-pointer flex-row items-center gap-2 px-4 py-1 pb-2 text-sm font-medium text-gray-500 hover:bg-gray-100"},B(Wr,{icon:"chevronLeft",className:"h-6 w-6 text-gray-500"})," ",null==p?void 0:p.label),null==u?void 0:u.map((function(e,t){return m(e,t)})));return n?B(Pr,{trigger:i,open:n,placement:o||"bottom",className:"@max-[600px]:!bottom-0 @max-[600px]:!top-auto @max-[600px]:!left-0 @max-[600px]:!right-0",onShow:function(){},onHide:function(){a.hideCommandMenu()}},y):null},Sl=function(e,t){var n=So().provides;return B(fa,{className:"flex-1",selectedPage:e.currentPage},(function(t){return B("div",{key:t.pageIndex,className:"absolute flex w-full cursor-pointer flex-col items-center",style:{height:t.wrapperHeight,top:t.top},onClick:function(){null==n||n.scrollToPage({pageNumber:t.pageIndex+1})}},B("div",{style:{width:t.width,height:t.height},className:"outline outline-2 -outline-offset-2 ".concat(e.currentPage===t.pageIndex+1?"outline-blue-500":"outline-gray-300")},B(va,{meta:t,className:"h-full w-full object-contain"})),B("div",{className:"flex items-center justify-center text-xs text-gray-500",style:{height:t.labelHeight}},t.pageIndex+1))}))},Ml=function(e,t){var n=Zn(nl.id).provides,o=So().provides,i=f(xe([]),2),r=i[0],a=i[1],l=f(xe(new Set),2),s=l[0],c=l[1];ke((function(){if(n){var e=n.getBookmarks();return e.wait((function(e){var t=e.bookmarks;a(t);var n=t.map((function(e,t){return"bookmark-".concat(t)}));c(new Set(n))}),cn),function(){e.abort({code:Et.Cancelled,message:"Bookmark task cancelled"})}}}),[n,e.document]);var d=function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="bookmark-".concat(n),l=t.children&&t.children.length>0,u=s.has(a);return B("div",{key:a,className:"outline-item"},B("div",{className:"flex cursor-pointer items-center py-1 pr-4 text-sm text-gray-700 hover:bg-gray-100",style:{paddingLeft:"".concat(16*r+8,"px")},onClick:function(){return function(t){if(o&&t.target&&"action"===t.target.type){var n=t.target.action;if(1===n.type&&n.destination){var i=n.destination;if(i.zoom.mode===ut.XYZ){var r,a=null===(r=e.document)||void 0===r?void 0:r.pages.find((function(e){return e.index===i.pageIndex}));if(!a)return;o.scrollToPage({pageNumber:i.pageIndex+1,pageCoordinates:i.zoom.params?{x:i.zoom.params.x,y:a.size.height-i.zoom.params.y}:void 0,behavior:"smooth"})}else i.zoom.mode===ut.FitPage&&o.scrollToPage({pageNumber:i.pageIndex+1,behavior:"smooth"})}}}(t)}},l&&B("button",{className:"mr-1 flex h-4 w-4 items-center justify-center rounded hover:bg-gray-200",onClick:function(e){e.stopPropagation(),function(e){c((function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}(a)}},B(Wr,{icon:u?"chevronDown":"chevronRight",className:"h-3 w-3 text-gray-500"})),!l&&B("div",{className:"mr-1 w-4"}),B("span",{className:"flex-1 truncate",title:t.title},t.title)),l&&u&&B("div",{className:"outline-children"},null===(i=t.children)||void 0===i?void 0:i.map((function(e,t){return d(e,"".concat(n,"-").concat(t),r+1)}))))};return 0===r.length?B("div",{className:"flex h-full items-center justify-center p-6"},B("div",{className:"text-center text-gray-500"},B("div",{className:"text-sm"},"No outline available"),B("div",{className:"mt-1 text-xs"},"This document doesn't contain bookmarks"))):B("div",{className:"flex h-full flex-col bg-white"},B("div",{className:"flex-1 overflow-y-auto"},B("div",{className:"outline-tree"},r.map((function(e,t){return d(e,t)})))))},Il=function(e,t){var n=Zn(rl.id).provides,o=f(xe([]),2),i=o[0],r=o[1];ke((function(){if(n){var e=n.getAttachments();return e.wait((function(e){r(e)}),cn),function(){e.abort({code:Et.Cancelled,message:"Bookmark task cancelled"})}}}),[n,e.document]);var a=function(e){if(n){var t=n.downloadAttachment(e);return t.wait((function(e){console.log(e)}),cn),function(){t.abort({code:Et.Cancelled,message:"Attachment task cancelled"})}}};return B("div",null,i.map((function(e){return B("div",{key:e.name,onClick:function(){return a(e)}},e.name)})))},Pl=function(e,t){var n=e.activeCommandId,o=e.menuCommandId,i=e.active,r=ui().provides;if(!r)return null;var a=r.getMenuOrAction(n),l=Ie((function(e){if(e.preventDefault(),e.stopPropagation(),r&&o){var t=e.currentTarget;r.executeCommand(o,{source:"click",triggerElement:t})}}),[o,r]);return B("div",{style:{maxWidth:"100px",width:"100px"}},B(mi,{className:"col-start-1 row-start-1 !w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-2 text-[13px] text-gray-900 ".concat(i?"text-blue-500 outline outline-2 -outline-offset-2 outline-blue-500":"outline outline-1 -outline-offset-1 outline-gray-300"," flex flex-row items-center justify-between gap-2 hover:ring-transparent"),onClick:l},B("span",{className:"min-w-0 flex-1 truncate text-left"},null==a?void 0:a.label),B(Wr,{icon:"chevronDown",className:"h-4 w-4 text-gray-500"})))},Al=function(e){var t=ui().provides,n=So().provides,o=Ka().provides,i=f(xe("all"),2),r=i[0],a=i[1],l=f(xe(""),2),s=l[0],c=l[1],d=f(xe(!0),2),u=d[0],h=d[1],p=f(xe(!1),2),g=p[0],m=p[1],v=f(xe(""),2),y=v[0],b=v[1];if(!t)return null;if(!e.open)return null;var w=null==n?void 0:n.getMetrics(),x=(null==w?void 0:w.currentPage)||1,k=(null==n?void 0:n.getTotalPages())||0,C=function(){t.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!1}})},S=("custom"!==r||s.trim().length>0)&&!g;return B(Va,{open:e.open,title:"Print Settings",onClose:C,maxWidth:"28rem"},B("div",{className:"space-y-6"},B("div",null,B("label",{className:"mb-3 block text-sm font-medium text-gray-700"},"Pages to print"),B("div",{className:"space-y-2"},B("label",{className:"flex items-center"},B("input",{type:"radio",name:"pageRange",value:"all",checked:"all"===r,onChange:function(){return a("all")},disabled:g,className:"mr-2"}),B("span",{className:"text-sm"},"All pages")),B("label",{className:"flex items-center"},B("input",{type:"radio",name:"pageRange",value:"current",checked:"current"===r,onChange:function(){return a("current")},disabled:g,className:"mr-2"}),B("span",{className:"text-sm"},"Current page (",x,")")),B("label",{className:"flex items-start"},B("input",{type:"radio",name:"pageRange",value:"custom",checked:"custom"===r,onChange:function(){return a("custom")},disabled:g,className:"mr-2 mt-0.5"}),B("div",{className:"flex-1"},B("span",{className:"mb-1 block text-sm"},"Specify pages"),B("input",{type:"text",placeholder:"e.g., 1-3, 5, 8-10",value:s,onInput:function(e){return c(e.target.value)},disabled:"custom"!==r||g,className:"w-full rounded-md border px-3 py-1 text-sm ".concat("custom"!==r||g?"bg-gray-100 text-gray-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-1")}),"custom"===r&&s.trim()&&k>0&&B("p",{className:"mt-1 text-xs text-gray-500"},"Total pages in document: ",k))))),B("div",null,B("label",{className:"flex items-center"},B("input",{type:"checkbox",checked:u,onChange:function(e){return h(e.target.checked)},disabled:g,className:"mr-2"}),B("span",{className:"text-sm font-medium text-gray-700"},"Include annotations"))),g&&B("div",{className:"flex items-center space-x-3 rounded-md bg-blue-50 p-3"},B("div",{className:"flex-shrink-0"},B("svg",{className:"h-5 w-5 animate-spin text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},B("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),B("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),B("div",{className:"text-sm text-blue-700"},y)),B("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},B(mi,{onClick:C,disabled:g,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Cancel"),B(mi,{onClick:function(){var e;"current"===r?e=String(x):"custom"===r&&(e=s.trim()||void 0);var t={includeAnnotations:u,pageRange:e};try{m(!0),b("Preparing document...");var n=null==o?void 0:o.print(t);n&&(n.onProgress((function(e){b(e.message)})),n.wait((function(){m(!1),b(""),C()}),(function(e){console.error("Print failed:",e),m(!1),b("")})))}catch(e){console.error("Print failed:",e),m(!1),b("")}},disabled:!S,className:"flex items-center space-x-2 rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},g&&B("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},B("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),B("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),B("span",null,g?"Printing...":"Print")))))};const _l="annotation",Tl={id:_l,name:"Annotation Plugin",version:"1.0.0",provides:["annotation"],requires:["interaction-manager","selection"],optional:["history"],defaultConfig:{enabled:!0,autoCommit:!0,annotationAuthor:"Guest"}},El="ANNOTATION/SET_ANNOTATIONS",zl="ANNOTATION/SELECT_ANNOTATION",Nl="ANNOTATION/DESELECT_ANNOTATION",Rl="ANNOTATION/UPDATE_TOOL_DEFAULTS",Ll="ANNOTATION/ADD_COLOR_PRESET",Dl="ANNOTATION/CREATE_ANNOTATION",Ol="ANNOTATION/PATCH_ANNOTATION",Hl="ANNOTATION/DELETE_ANNOTATION",Bl="ANNOTATION/COMMIT",jl="ANNOTATION/PURGE_ANNOTATION",$l="ANNOTATION/SET_ACTIVE_VARIANT",Fl=()=>({type:Nl}),Ul=(e,t)=>({type:Dl,payload:{pageIndex:e,annotation:t}}),Wl=(e,t,n)=>({type:Ol,payload:{pageIndex:e,id:t,patch:n}}),Gl=(e,t)=>({type:Hl,payload:{pageIndex:e,id:t}}),Vl=e=>({type:jl,payload:{uid:e}}),ql=(e,t)=>t?`${e}#${t}`:`${e}`,Zl=e=>{const[t,n]=e.split("#");return{subtype:Number(t),intent:n}};function Yl(e){return function(e){return e.subtype===vt.HIGHLIGHT}(e)||function(e){return e.subtype===vt.UNDERLINE}(e)||function(e){return e.subtype===vt.STRIKEOUT}(e)||function(e){return e.subtype===vt.SQUIGGLY}(e)}const Xl=e=>e.selectedUid?e.byUid[e.selectedUid]:null;function Kl(e,t,n){const o=ql(t,n??void 0),i=ql(t),r=e.toolDefaults[o]??e.toolDefaults[i];if(!r)throw new Error(`No tool defaults found for subtype ${t}${n?` and intent ${n}`:""}`);return r}function Ql(e){const t=e=>{const t=9*e,n=Math.PI/6;return{x:-t*Math.cos(n),y:t*Math.sin(n)}};return{getSvgPath:n=>{const{x:o,y:i}=t(n);return e?`M 0 0 L ${o} ${i} L ${o} ${-i} Z`:`M ${o} ${i} L 0 0 L ${o} ${-i}`},getLocalPoints:e=>{const{x:n,y:o}=t(e);return[{x:0,y:0},{x:n,y:o},{x:n,y:-o}]},getRotation:e=>e,filled:e}}function Jl(e,t){const n=t=>t*e/2;return{getSvgPath:e=>{const t=n(e);return`M ${-t} 0 L ${t} 0`},getLocalPoints:e=>{const t=n(e);return[{x:-t,y:0},{x:t,y:0}]},getRotation:t,filled:!1}}const es=Ql(!1),ts=Ql(!0),ns={[wt.OpenArrow]:es,[wt.ClosedArrow]:ts,[wt.ROpenArrow]:{...es,getRotation:e=>e+Math.PI},[wt.RClosedArrow]:{...ts,getRotation:e=>e+Math.PI},[wt.Circle]:{getSvgPath:e=>{const t=5*e/2;return`M ${t} 0 A ${t} ${t} 0 1 1 ${-t} 0 A ${t} ${t} 0 1 1 ${t} 0`},getLocalPoints:e=>{const t=5*e/2;return[{x:-t,y:-t},{x:t,y:t}]},getRotation:()=>0,filled:!0},[wt.Square]:{getSvgPath:e=>{const t=6*e/2;return`M ${-t} ${-t} L ${t} ${-t} L ${t} ${t} L ${-t} ${t} Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:-t,y:-t},{x:t,y:-t},{x:t,y:t},{x:-t,y:t}]},getRotation:e=>e,filled:!0},[wt.Diamond]:{getSvgPath:e=>{const t=6*e/2;return`M 0 ${-t} L ${t} 0 L 0 ${t} L ${-t} 0 Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:0,y:-t},{x:t,y:0},{x:0,y:t},{x:-t,y:0}]},getRotation:e=>e,filled:!0},[wt.Butt]:Jl(6,(e=>e+Math.PI/2)),[wt.Slash]:Jl(18,(e=>e+Math.PI/1.5))};function os(e,t,n){if(!e||0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const o=[...e],i=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),r=(e,n,i)=>{if(!e)return;const r=ns[e];if(!r)return;const a=r.getLocalPoints(t),l=r.getRotation(i),s=a.map((e=>function(e,t,n){const o=Math.cos(t),i=Math.sin(t),r=e.x*o-e.y*i,a=e.x*i+e.y*o;return{x:r+n.x,y:a+n.y}}(e,l,n)));o.push(...s)};if(e.length>=2){const t=i(e[1],e[0]);r(null==n?void 0:n.start,e[0],t);const o=e.length-1,a=i(e[o-1],e[o]);r(null==n?void 0:n.end,e[o],a)}if(o.length<=1){const n=e[0]||{x:0,y:0},o=t;return{origin:{x:n.x-o,y:n.y-o},size:{width:2*o,height:2*o}}}return qe(Ve(o),t/2+1.2*t)}const is=(e,t)=>qe(Ve(e),t/2);function rs(e){switch(e.type){case vt.HIGHLIGHT:case vt.UNDERLINE:case vt.STRIKEOUT:case vt.SQUIGGLY:case vt.SQUARE:case vt.CIRCLE:return e.rect;case vt.INK:{const t=e.inkList.flatMap((e=>e.points));return is(t,e.strokeWidth)}case vt.LINE:return os([e.linePoints.start,e.linePoints.end],e.strokeWidth,e.lineEndings);case vt.POLYLINE:return os(e.vertices,e.strokeWidth,e.lineEndings);case vt.POLYGON:return is(e.vertices,e.strokeWidth);default:return e.rect}}const as=Object.freeze(Object.defineProperty({__proto__:null,LINE_ENDING_HANDLERS:ns,createEnding:function(e,t,n,o,i){if(!e)return null;const r=ns[e];if(!r)return null;const a=r.getRotation(n);return{d:r.getSvgPath(t),transform:`translate(${o} ${i}) rotate(${(e=>180*e/Math.PI)(a)})`,filled:r.filled}},deriveRect:rs,lineRectWithEndings:os},Symbol.toStringTag,{value:"Module"})),ls=class extends zn{constructor(e,t,n){super(e,t),this.ANNOTATION_HISTORY_TOPIC="annotations",this.state$=jn(),this.modeByVariant=new Map,this.variantByMode=new Map,this.pendingContexts=new Map,this.activeVariantChange$=jn(),this.activeTool$=jn({variantKey:null,defaults:null}),this.config=n;const o=t.getPlugin("selection");this.selection=(null==o?void 0:o.provides())??null;const i=t.getPlugin("history");this.history=(null==i?void 0:i.provides())??null;const r=t.getPlugin("interaction-manager");this.interactionManager=(null==r?void 0:r.provides())??null,this.coreStore.onAction(bn,((e,t)=>{const n=t.core.document;n&&this.getAllAnnotations(n)}))}async initialize(){var e,t,n;for(const[e,t]of Object.entries(this.state.toolDefaults))this.registerTool(e,t);null==(e=this.history)||e.onHistoryChange((e=>{e===this.ANNOTATION_HISTORY_TOPIC&&!1!==this.config.autoCommit&&this.commit()})),null==(t=this.interactionManager)||t.onModeChange((e=>{const t=this.variantByMode.get(e.activeMode)??null;t!==this.state.activeVariant&&(this.dispatch((e=>({type:$l,payload:e}))(t)),this.activeVariantChange$.emit(t))})),null==(n=this.selection)||n.onEndSelection((()=>{var e,t,n;if(!this.state.activeVariant)return;const o=this.state.toolDefaults[this.state.activeVariant];if(!o||!Yl(o))return;const i=null==(e=this.selection)?void 0:e.getFormattedSelection(),r=null==(t=this.selection)?void 0:t.getSelectedText();if(i&&r){for(const e of i){const t=e.rect,n=e.segmentRects,i=o.subtype,a=o.color,l=o.opacity,s=o.blendMode??mt.Normal;r.wait((o=>{this.createAnnotation(e.pageIndex,{type:i,rect:t,segmentRects:n,color:a,opacity:l,flags:["print"],blendMode:s,pageIndex:e.pageIndex,id:sn(),author:this.config.annotationAuthor,custom:{text:o.join("\n")}})}),cn)}null==(n=this.selection)||n.clear()}}))}registerTool(e,t){var n,o;const i=t.interaction.mode,r={id:i,scope:"page",exclusive:t.interaction.exclusive,cursor:t.interaction.cursor};null==(n=this.interactionManager)||n.registerMode(r),t.textSelection&&(null==(o=this.selection)||o.enableForMode(i)),this.modeByVariant.set(e,i),this.variantByMode.set(i,e)}buildCapability(){return{getPageAnnotations:e=>this.getPageAnnotations(e),getSelectedAnnotation:()=>Xl(this.state),selectAnnotation:(e,t)=>{this.selectAnnotation(e,t)},deselectAnnotation:()=>{this.dispatch(Fl())},getActiveVariant:()=>this.state.activeVariant,setActiveVariant:e=>{var t,n;if(e!==this.state.activeVariant)if(e){const n=this.modeByVariant.get(e);if(!n)throw new Error(`Mode missing for variant ${e}`);null==(t=this.interactionManager)||t.activate(n)}else null==(n=this.interactionManager)||n.activateDefaultMode()},getSubtypeAndIntentByVariant:e=>Zl(e),getToolDefaults:e=>{const t=this.state.toolDefaults[e];if(!t)throw new Error(`No defaults found for variant: ${e}`);return t},getToolDefaultsBySubtypeAndIntent:(e,t)=>Kl(this.state,e,t),getToolDefaultsBySubtype:e=>Kl(this.state,e),setToolDefaults:(e,t)=>{this.dispatch(((e,t)=>({type:Rl,payload:{variantKey:e,patch:t}}))(e,t))},getColorPresets:()=>[...this.state.colorPresets],addColorPreset:e=>this.dispatch((e=>({type:Ll,payload:e}))(e)),createAnnotation:(e,t,n)=>this.createAnnotation(e,t,n),updateAnnotation:(e,t,n)=>this.updateAnnotation(e,t,n),deleteAnnotation:(e,t)=>this.deleteAnnotation(e,t),renderAnnotation:e=>this.renderAnnotation(e),onStateChange:this.state$.on,onActiveVariantChange:this.activeVariantChange$.on,onActiveToolChange:this.activeTool$.on,commit:()=>this.commit(),getSignatureUrl:()=>this.config.signatureUrl}}createActiveTool(e,t){return null===e?{variantKey:null,defaults:null}:{variantKey:e,defaults:t[e]}}emitActiveTool(e){const t=this.createActiveTool(e.activeVariant,e.toolDefaults);this.activeTool$.emit(t)}onStoreUpdated(e,t){this.state$.emit(t),e.activeVariant===t.activeVariant&&e.toolDefaults[e.activeVariant??vt.HIGHLIGHT]===t.toolDefaults[t.activeVariant??vt.HIGHLIGHT]||this.emitActiveTool(t)}getAllAnnotations(e){this.engine.getAllAnnotations(e).wait((e=>this.dispatch((e=>({type:El,payload:e}))(e))),cn)}getPageAnnotations(e){const{pageIndex:t}=e,n=this.coreState.core.document;if(!n)return zt.reject({code:Et.NotFound,message:"Document not found"});const o=n.pages.find((e=>e.index===t));return o?this.engine.getPageAnnotations(n,o):zt.reject({code:Et.NotFound,message:"Page not found"})}renderAnnotation({pageIndex:e,annotation:t,options:n}){const o=this.coreState.core;if(!o.document)throw new Error("document does not open");const i=o.document.pages.find((t=>t.index===e));if(!i)throw new Error("page does not exist");return this.engine.renderPageAnnotation(o.document,i,t,n)}selectAnnotation(e,t){this.dispatch(((e,t)=>({type:zl,payload:{pageIndex:e,id:t}}))(e,t))}createAnnotation(e,t,n){const o=t.id,i=()=>{this.dispatch(Ul(e,{...t,author:t.author??this.config.annotationAuthor,flags:["print"]})),n&&this.pendingContexts.set(o,n)};if(!this.history)return i(),void(this.config.autoCommit&&this.commit());const r={execute:i,undo:()=>{this.pendingContexts.delete(o),this.dispatch(Fl()),this.dispatch(Gl(e,o))}};this.history.register(r,this.ANNOTATION_HISTORY_TOPIC)}buildPatch(e,t){if("rect"in t)return t;const n={...e,...t};return{...t,rect:rs(n)}}updateAnnotation(e,t,n){const o=this.state.byUid[t].object,i=this.buildPatch(o,{...n,author:n.author??this.config.annotationAuthor});if(!this.history)return this.dispatch(Wl(e,t,i)),void(!1!==this.config.autoCommit&&this.commit());const r=Object.fromEntries(Object.keys(n).map((e=>[e,o[e]]))),a={execute:()=>this.dispatch(Wl(e,t,i)),undo:()=>this.dispatch(Wl(e,t,r))};this.history.register(a,this.ANNOTATION_HISTORY_TOPIC)}deleteAnnotation(e,t){if(!this.history)return this.dispatch(Fl()),this.dispatch(Gl(e,t)),void(!1!==this.config.autoCommit&&this.commit());const n=this.state.byUid[t].object,o={execute:()=>{this.dispatch(Fl()),this.dispatch(Gl(e,t))},undo:()=>this.dispatch(Ul(e,n))};this.history.register(o,this.ANNOTATION_HISTORY_TOPIC)}commit(){const e=new lt;if(!this.state.hasPendingChanges)return zt.resolve(!0);const t=this.coreState.core.document;if(!t)return zt.reject({code:Et.NotFound,message:"Document not found"});const n=[],o=[],i=[];for(const[e,r]of Object.entries(this.state.byUid)){if("synced"===r.commitState)continue;const a=t.pages.find((e=>e.index===r.object.pageIndex));if(a)switch(r.commitState){case"new":const l=this.pendingContexts.get(r.object.id),s=this.engine.createPageAnnotation(t,a,r.object,l);s.wait((()=>{this.pendingContexts.delete(r.object.id)}),cn),n.push(s);break;case"dirty":o.push(this.engine.updatePageAnnotation(t,a,r.object));break;case"deleted":i.push({ta:r,uid:e})}}const r=[];for(const{ta:e,uid:n}of i){const o=t.pages.find((t=>t.index===e.object.pageIndex));if("deleted"===e.commitState&&e.object.id){const i=new lt;this.engine.removePageAnnotation(t,o,e.object).wait((()=>{this.dispatch(Vl(n)),i.resolve(!0)}),i.fail),r.push(i)}else this.dispatch(Vl(n))}const a=[...n,...o,...r];return lt.allSettled(a).wait((()=>{this.dispatch({type:Bl}),e.resolve(!0)}),e.fail),e}};ls.id="annotation";let ss=ls;const cs=["#E44234","#FF8D00","#FFCD45","#5CC96E","#25D2D1","#597CE2","#C544CE","#7D2E25","#000000","#FFFFFF"],ds={manifest:Tl,create:(e,t)=>new ss(_l,e,t),reducer:(e,t)=>{switch(t.type){case El:{const n={...e.pages},o={...e.byUid};for(const[i,r]of Object.entries(t.payload)){const t=Number(i),a=e.pages[t]||[];for(const e of a)delete o[e];const l=r.map((e=>{const t=e.id;return o[t]={commitState:"synced",object:e},t}));n[t]=l}return{...e,pages:n,byUid:o}}case $l:return{...e,activeVariant:t.payload};case zl:return{...e,selectedUid:t.payload.id};case Nl:return{...e,selectedUid:null};case Ll:return e.colorPresets.includes(t.payload)?e:{...e,colorPresets:[...e.colorPresets,t.payload]};case Rl:{const{variantKey:n,patch:o}=t.payload,i=e.toolDefaults[n];return i?{...e,toolDefaults:{...e.toolDefaults,[n]:{...i,...o}}}:e}case Dl:{const{pageIndex:n,annotation:o}=t.payload,i=o.id;return{...e,pages:{...e.pages,[n]:[...e.pages[n]??[],i]},byUid:{...e.byUid,[i]:{commitState:"new",object:o}},hasPendingChanges:!0}}case Hl:{const{pageIndex:n,id:o}=t.payload;return e.byUid[o]?{...e,pages:{...e.pages,[n]:(e.pages[n]??[]).filter((e=>e!==o))},byUid:{...e.byUid,[o]:{...e.byUid[o],commitState:"deleted"}},hasPendingChanges:!0}:e}case Ol:return((e,t,n)=>{const o=e.byUid[t];return o?{...e,byUid:{...e.byUid,[t]:{...o,commitState:"synced"===o.commitState?"dirty":o.commitState,object:{...o.object,...n}}},hasPendingChanges:!0}:e})(e,t.payload.id,t.payload.patch);case Bl:{const t={};for(const[n,o]of Object.entries(e.byUid))t[n]={...o,commitState:"dirty"===o.commitState||"new"===o.commitState?"synced":o.commitState};return{...e,byUid:t,hasPendingChanges:!1}}case jl:{const{uid:n}=t.payload,{[n]:o,...i}=e.byUid;return{...e,byUid:i}}default:return e}},initialState:(e,t)=>{return n=t,{pages:{},byUid:{},selectedUid:null,activeVariant:null,toolDefaults:{[ql(vt.HIGHLIGHT)]:{name:"Highlight",subtype:vt.HIGHLIGHT,interaction:{mode:"highlight",exclusive:!1},textSelection:!0,color:"#FFCD45",opacity:1,blendMode:mt.Multiply},[ql(vt.UNDERLINE)]:{name:"Underline",subtype:vt.UNDERLINE,interaction:{mode:"underline",exclusive:!1},textSelection:!0,color:"#E44234",opacity:1,blendMode:mt.Normal},[ql(vt.STRIKEOUT)]:{name:"Strikeout",subtype:vt.STRIKEOUT,interaction:{mode:"strikeout",exclusive:!1},textSelection:!0,color:"#E44234",opacity:1,blendMode:mt.Normal},[ql(vt.SQUIGGLY)]:{name:"Squiggly",subtype:vt.SQUIGGLY,interaction:{mode:"squiggly",exclusive:!1},textSelection:!0,color:"#E44234",opacity:1,blendMode:mt.Normal},[ql(vt.INK)]:{name:"Ink",subtype:vt.INK,interaction:{mode:"ink",exclusive:!0,cursor:"crosshair"},color:"#E44234",opacity:1,strokeWidth:11,blendMode:mt.Normal},[ql(vt.INK,"InkHighlight")]:{name:"Ink Highlight",subtype:vt.INK,intent:"InkHighlight",interaction:{mode:"inkHighlight",exclusive:!0,cursor:"crosshair"},color:"#E44234",opacity:1,strokeWidth:11,blendMode:mt.Multiply},[ql(vt.CIRCLE)]:{name:"Circle",subtype:vt.CIRCLE,interaction:{mode:"circle",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:Ct.SOLID},[ql(vt.SQUARE)]:{name:"Square",subtype:vt.SQUARE,interaction:{mode:"square",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:Ct.SOLID},[ql(vt.LINE)]:{name:"Line",subtype:vt.LINE,interaction:{mode:"line",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:Ct.SOLID},[ql(vt.LINE,"LineArrow")]:{name:"Line Arrow",subtype:vt.LINE,interaction:{mode:"lineArrow",exclusive:!0,cursor:"crosshair"},color:"transparent",intent:"LineArrow",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:Ct.SOLID,lineEndings:{start:wt.None,end:wt.OpenArrow}},[ql(vt.POLYLINE)]:{name:"Polyline",subtype:vt.POLYLINE,interaction:{mode:"polyline",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:Ct.SOLID},[ql(vt.POLYGON)]:{name:"Polygon",subtype:vt.POLYGON,interaction:{mode:"polygon",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:Ct.SOLID},[ql(vt.FREETEXT)]:{name:"Free Text",subtype:vt.FREETEXT,interaction:{mode:"freeText",exclusive:!0,cursor:"crosshair"},backgroundColor:"transparent",opacity:1,fontSize:14,fontColor:"#E44234",content:"Insert text here",fontFamily:ht.Helvetica,textAlign:pt.Left,verticalAlign:gt.Top},[ql(vt.STAMP)]:{name:"Photo",subtype:vt.STAMP,interaction:{mode:"stamp",exclusive:!0,cursor:"crosshair"}},[ql(vt.STAMP,"signature")]:{name:"Signature",subtype:vt.STAMP,interaction:{mode:"signature",exclusive:!0,cursor:"crosshair"}},...n.toolDefaults},colorPresets:n.colorPresets??cs,hasPendingChanges:!1};var n}},us="INTERACTION/ACTIVATE_MODE",hs="INTERACTION/PAUSE",ps="INTERACTION/RESUME",gs="INTERACTION/SET_CURSOR",ms="INTERACTION/SET_DEFAULT_MODE";const fs="pointerMode",vs=class extends zn{constructor(e,t){super(e,t),this.modes=new Map,this.cursorClaims=new Map,this.buckets=new Map,this.alwaysGlobal=new Set,this.alwaysPage=new Map,this.onModeChange$=Bn(),this.onHandlerChange$=Bn(),this.onCursorChange$=Bn(),this.onStateChange$=jn(),this.registerMode({id:fs,scope:"page",exclusive:!1,cursor:"auto"}),this.setDefaultMode(fs),this.activate(fs)}async initialize(e){}buildCapability(){return{activate:e=>this.activate(e),onModeChange:this.onModeChange$.on,onCursorChange:this.onCursorChange$.on,onHandlerChange:this.onHandlerChange$.on,onStateChange:this.onStateChange$.on,getActiveMode:()=>this.state.activeMode,getActiveInteractionMode:()=>this.getActiveInteractionMode(),activateDefaultMode:()=>this.activate(this.state.defaultMode),registerMode:e=>this.registerMode(e),registerHandlers:e=>this.registerHandlers(e),registerAlways:e=>this.registerAlways(e),setCursor:(e,t,n=0)=>this.setCursor(e,t,n),removeCursor:e=>this.removeCursor(e),getCurrentCursor:()=>this.state.cursor,getHandlersForScope:e=>this.getHandlersForScope(e),activeModeIsExclusive:()=>this.activeModeIsExclusive(),pause:()=>this.dispatch({type:hs}),resume:()=>this.dispatch({type:ps}),isPaused:()=>this.state.paused,setDefaultMode:e=>this.setDefaultMode(e),getDefaultMode:()=>this.state.defaultMode}}activate(e){if(!this.modes.has(e))throw new Error(`[interaction] unknown mode '${e}'`);if(e===this.state.activeMode)return;const t=this.state.activeMode;this.cursorClaims.clear(),this.notifyHandlersInactive(t),this.dispatch((e=>({type:us,payload:{mode:e}}))(e)),this.emitCursor(),this.notifyHandlersActive(e),this.onModeChange$.emit({...this.state,activeMode:e})}setDefaultMode(e){if(!this.modes.has(e))throw new Error(`[interaction] cannot set unknown mode '${e}' as default`);this.dispatch({type:ms,payload:{mode:e}})}notifyHandlersActive(e){this.alwaysGlobal.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})),this.alwaysPage.forEach((t=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}))}));const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})),"page"===t.scope&&n.page.forEach(((t,n)=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}))})))}notifyHandlersInactive(e){this.alwaysGlobal.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})),this.alwaysPage.forEach((t=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}))}));const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})),"page"===t.scope&&n.page.forEach(((t,n)=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}))})))}registerMode(e){this.modes.set(e.id,e),this.buckets.has(e.id)||this.buckets.set(e.id,{global:new Set,page:new Map})}registerHandlers({modeId:e,handlers:t,pageIndex:n}){const o=Array.isArray(e)?e:[e],i=[];for(const e of o){const o=this.buckets.get(e);if(!o)throw new Error(`unknown mode '${e}'`);if(null==n)o.global.add(t);else{const e=o.page.get(n)??new Set;e.add(t),o.page.set(n,e)}i.push((()=>{if(null==n)o.global.delete(t);else{const e=o.page.get(n);e&&(e.delete(t),0===e.size&&o.page.delete(n))}}))}return this.onHandlerChange$.emit({...this.state}),()=>{i.forEach((e=>e())),this.onHandlerChange$.emit({...this.state})}}registerAlways({scope:e,handlers:t}){if("global"===e.type)return this.alwaysGlobal.add(t),this.onHandlerChange$.emit({...this.state}),()=>this.alwaysGlobal.delete(t);const n=this.alwaysPage.get(e.pageIndex)??new Set;return n.add(t),this.alwaysPage.set(e.pageIndex,n),this.onHandlerChange$.emit({...this.state}),()=>{n.delete(t),this.onHandlerChange$.emit({...this.state})}}getHandlersForScope(e){if(!this.state)return null;const t=this.modes.get(this.state.activeMode);if(!t)return null;const n=this.buckets.get(t.id);if(!n)return null;const o=(e,t)=>e.size||t.size?function(e){const t=["onPointerDown","onPointerUp","onPointerMove","onPointerEnter","onPointerLeave","onPointerCancel","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave","onMouseCancel","onClick","onDoubleClick"],n={};for(const o of t)n[o]=(t,n,i)=>{var r;for(const a of e)null==(r=a[o])||r.call(a,t,n,i)};return n}([...e,...t]):null;if("global"===e.type){const e="global"===t.scope?n.global:new Set;return o(this.alwaysGlobal,e)}return o(this.alwaysPage.get(e.pageIndex)??new Set,"page"===t.scope?n.page.get(e.pageIndex)??new Set:new Set)}setCursor(e,t,n=0){this.cursorClaims.set(e,{cursor:t,priority:n}),this.emitCursor()}removeCursor(e){this.cursorClaims.delete(e),this.emitCursor()}emitCursor(){var e;const t=[...this.cursorClaims.values()].sort(((e,t)=>t.priority-e.priority))[0]??{cursor:(null==(e=this.modes.get(this.state.activeMode))?void 0:e.cursor)??"auto"};var n;t.cursor!==this.state.cursor&&(this.dispatch((n=t.cursor,{type:gs,payload:{cursor:n}})),this.onCursorChange$.emit(t.cursor))}onStoreUpdated(e,t){this.onStateChange$.emit(t)}activeModeIsExclusive(){const e=this.modes.get(this.state.activeMode);return!!(null==e?void 0:e.exclusive)}getActiveInteractionMode(){return this.modes.get(this.state.activeMode)??null}async destroy(){this.onModeChange$.clear(),this.onCursorChange$.clear(),await super.destroy()}};vs.id="interaction-manager";let ys=vs;const bs="interaction-manager",ws={activeMode:"pointerMode",defaultMode:"pointerMode",cursor:"auto",paused:!1},xs={manifest:{id:bs,name:"Interaction Manager Plugin",version:"1.0.0",provides:["interaction-manager"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new ys(bs,e),reducer:(e,t)=>{switch(t.type){case us:return{...e,activeMode:t.payload.mode};case gs:return{...e,cursor:t.payload.cursor};case hs:return{...e,paused:!0};case ps:return{...e,paused:!1};case ms:return{...e,defaultMode:t.payload.mode};default:return e}},initialState:ws},ks=()=>Zn(ys.id);function Cs({modeId:e,pageIndex:t}){const{provides:n}=ks();return{register:(o,i)=>{const r=(null==i?void 0:i.modeId)??e,a=(null==i?void 0:i.pageIndex)??t;return r?null==n?void 0:n.registerHandlers({modeId:r,handlers:o,pageIndex:a}):null==n?void 0:n.registerAlways({scope:void 0!==a?{type:"page",pageIndex:a}:{type:"global"},handlers:o})}}}const Ss={pointerdown:"onPointerDown",pointerup:"onPointerUp",pointermove:"onPointerMove",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointercancel:"onPointerCancel",mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousecancel:"onMouseCancel",click:"onClick",dblclick:"onDoubleClick",touchstart:"onPointerDown",touchend:"onPointerUp",touchmove:"onPointerMove",touchcancel:"onPointerCancel"},Ms=["pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","mousedown","mouseup","mousemove","mouseenter","mouseleave","mousecancel","click","dblclick","touchstart","touchend","touchmove","touchcancel"];function Is(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function Ps(e,t,n,o){let i=e.getHandlersForScope(t);const r=()=>{var t;return!1!==(null==(t=e.getActiveInteractionMode())?void 0:t.wantsRawTouch)},a={};let l=r();const s=e=>{Ms.forEach((t=>{const o=a[t]??(a[t]=f);var i;n.addEventListener(t,o,(i=e,t.startsWith("touch")?{passive:!i}:{passive:!1}))}))},c=()=>{Ms.forEach((e=>{const t=a[e];t&&n.removeEventListener(e,t)}))};s(l);const d=e.onModeChange((()=>{if("global"===t.type){const t=e.getActiveInteractionMode();n.style.cursor="global"===(null==t?void 0:t.scope)?t.cursor??"auto":"auto"}i=e.getHandlersForScope(t);const o=r();o!==l&&(c(),s(o),l=o)})),u=e.onHandlerChange((()=>{i=e.getHandlersForScope(t)})),h=e.getActiveInteractionMode(),p=e.getCurrentCursor();n.style.cursor="global"===t.type&&"global"!==(null==h?void 0:h.scope)?"auto":p;const g=e.onCursorChange((o=>{var i;"global"===t.type&&"global"!==(null==(i=e.getActiveInteractionMode())?void 0:i.scope)||(n.style.cursor=o)})),m=(e,t)=>{if(o)return o(e,t);const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}};function f(t){var o;if(e.isPaused())return;const r=Ss[t.type];if(!r||!(null==i?void 0:i[r]))return;let a,s;if(Is(t)&&l&&("touchmove"===t.type||"touchcancel"===t.type)&&t.preventDefault(),Is(t)){const e="touchend"===t.type||"touchcancel"===t.type?t.changedTouches[0]:t.touches[0];if(!e)return;a=m(e,n),s={clientX:e.clientX,clientY:e.clientY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,target:t.target,currentTarget:t.currentTarget,setPointerCapture:()=>{},releasePointerCapture:()=>{}}}else{const e=t;a=m(e,n),s={clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,target:e.target,currentTarget:e.currentTarget,setPointerCapture:()=>{var t,n;null==(n=null==(t=e.target)?void 0:t.setPointerCapture)||n.call(t,e.pointerId)},releasePointerCapture:()=>{var t,n;null==(n=null==(t=e.target)?void 0:t.releasePointerCapture)||n.call(t,e.pointerId)}}}null==(o=i[r])||o.call(i,a,s,e.getActiveMode())}return()=>{c(),d(),g(),u()}}const As=({children:e,style:t,...n})=>{const o=Se(null),{provides:i}=ks();return ke((()=>{if(i&&o.current)return Ps(i,{type:"global"},o.current)}),[i]),Le("div",{ref:o,style:{width:"100%",height:"100%",...t},...n,children:e})},_s=({pageIndex:e,children:t,pageWidth:n,pageHeight:o,rotation:i,scale:r,convertEventToPoint:a,style:l,...s})=>{const c=Se(null),{provides:d}=ks(),u=function(){const{provides:e}=ks(),[t,n]=xe((()=>{const t=null==e?void 0:e.getActiveInteractionMode();return"page"===(null==t?void 0:t.scope)&&!!t.exclusive}));return ke((()=>{if(e)return e.onModeChange((()=>{const t=e.getActiveInteractionMode();n("page"===(null==t?void 0:t.scope)&&!!(null==t?void 0:t.exclusive))}))}),[e]),t}(),h=Ie(((e,t)=>{const a=t.getBoundingClientRect(),l={x:e.clientX-a.left,y:e.clientY-a.top};return function(e,t,n,o){return Ge(We(e,t,(4-n)%4),1/o)}($e({width:n,height:o},i,1),l,i,r)}),[n,o,i,r]);return ke((()=>{if(d&&c.current)return Ps(d,{type:"page",pageIndex:e},c.current,a||h)}),[d,e,a,h]),Le("div",{ref:c,style:{...l},...s,children:[t,u&&Le("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10}})]})};function Ts({children:e,...t}){const{rect:n,rotation:o}=t,{matrix:i,width:r,height:a}=function(e,t){const{width:n,height:o}=e.size;switch(t%4){case 1:return{matrix:`matrix(0, -1, 1, 0, 0, ${o})`,width:o,height:n};case 2:return{matrix:`matrix(-1, 0, 0, -1, ${n}, ${o})`,width:n,height:o};case 3:return{matrix:`matrix(0, 1, -1, 0, ${n}, 0)`,width:o,height:n};default:return{matrix:"matrix(1, 0, 0, 1, 0, 0)",width:n,height:o}}}(n,o),l={style:{position:"absolute",left:n.origin.x,top:n.origin.y,transform:i,transformOrigin:"0 0",width:r,height:a,pointerEvents:"none",zIndex:3},onPointerDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation()};return Le($,{children:e({menuWrapperProps:l,matrix:i,rect:{origin:{x:n.origin.x,y:n.origin.y},size:{width:r,height:a}}})})}const Es=()=>Zn(ss.id);function zs({rect:e,rotation:t,scale:n,vertices:o,onEdit:i,onCommit:r,handleSize:a=12}){const[l,s]=xe(null),c=Se(null),d=Se([]),u=e=>{const o=Ke(e,t,n),i=[...d.current];return null!==l&&(i[l]={x:i[l].x+o.x,y:i[l].y+o.y}),i},h=e=>{if(null===l||!c.current)return;const t={x:e.clientX-c.current.x,y:e.clientY-c.current.y};i(u(t))},p=e=>{if(null===l||!c.current)return;e.target.releasePointerCapture(e.pointerId);const t={x:e.clientX-c.current.x,y:e.clientY-c.current.y};r(u(t)),s(null)};return Le($,{children:o.map(((t,i)=>{return Le("div",{style:{position:"absolute",left:(t.x-e.origin.x)*n-a/2,top:(t.y-e.origin.y)*n-a/2,width:a,height:a,borderRadius:"50%",background:"#2196f3",cursor:"pointer",pointerEvents:"auto",zIndex:4},onPointerDown:(r=i,e=>{e.stopPropagation(),e.preventDefault(),s(r),c.current={x:e.clientX,y:e.clientY},d.current=o,e.target.setPointerCapture(e.pointerId)}),onPointerMove:h,onPointerUp:p},i);var r}))})}function Ns({scale:e,pageWidth:t,pageHeight:n,rotation:o,tracked:i,isSelected:r,isDraggable:a,isResizable:l,computePatch:s,computeVertices:c,lockAspectRatio:d=!1,currentRect:u,setCurrentRect:h,setCurrentVertices:p,setPreviewObject:g,commit:m}){const f=Se("idle"),v=Se("none"),y=Se(null),b=Se(null),w=(e,t,n)=>Math.max(t,Math.min(n,e)),x=t/e,k=n/e,C=(e,t,n)=>{f.current=e,y.current={x:t,y:n},b.current=u},S=(t,n)=>{if("idle"===f.current||!y.current)return;const r={x:t-y.current.x,y:n-y.current.y},{x:a,y:l}=Ke(r,o,e),m=((e,t)=>{if(!b.current)return u;let{origin:n,size:o}=b.current,i=n.x,r=n.y,a=o.width,l=o.height;if("dragging"===f.current)i+=e,r+=t;else if("resizing"===f.current&&(v.current.includes("right")?a+=e:v.current.includes("left")&&(i+=e,a-=e),v.current.includes("bottom")?l+=t:v.current.includes("top")&&(r+=t,l-=t),d&&b.current)){const e=b.current.size.width/b.current.size.height,t=i+a,n=r+l;v.current.includes("left")||v.current.includes("right")?l=a/e:a=l*e,v.current.includes("left")&&(i=t-a),v.current.includes("top")&&(r=n-l)}return a<1||l<1?u:(a=w(a,1,x),l=w(l,1,k),i=w(i,0,x-a),r=w(r,0,k-l),{origin:{x:i,y:r},size:{width:a,height:l}})})(a,l);let C={rect:m};s&&(C=s(i.object,{rect:m,direction:"resizing"===f.current?v.current:"bottom-right"}),c&&p(c({...i.object,...C}))),h(C.rect??m),g(C)},M=()=>{if("idle"===f.current)return;const e=v.current||"bottom-right";f.current="idle";let t={rect:u};s&&(t=s(i.object,{rect:u,direction:e})),m(t),y.current=null,b.current=null,v.current="none",g(null)},I=e=>{if(M(),(null==e?void 0:e.currentTarget)&&void 0!==e.pointerId)try{e.currentTarget.releasePointerCapture(e.pointerId)}catch{}},P=()=>M();return ke((()=>{f.current="idle",v.current="none",y.current=null,b.current=null}),[i]),{rootHandlers:{onPointerDown:e=>{r&&a&&(e.stopPropagation(),e.preventDefault(),C("dragging",e.clientX,e.clientY),e.currentTarget.setPointerCapture(e.pointerId))},onPointerMove:e=>S(e.clientX,e.clientY),onPointerUp:I,onPointerCancel:()=>I(),onLostPointerCapture:()=>I(),onTouchStart:e=>{if(!r||!a)return;e.stopPropagation(),e.preventDefault();const t=e.touches[0];t&&C("dragging",t.clientX,t.clientY)},onTouchMove:e=>{const t=e.touches[0];t&&S(t.clientX,t.clientY)},onTouchEnd:P,onTouchCancel:P},startResize:e=>t=>{r&&l&&(t.stopPropagation(),t.preventDefault(),v.current=e,C("resizing",t.clientX,t.clientY),t.currentTarget.setPointerCapture(t.pointerId))}}}function Rs({rotation:e,outlineOffset:t=1,startResize:n}){const o=t;return Le($,{children:[Le("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",top:-7-o,left:-7-o,cursor:e%2?"nesw-resize":"nwse-resize"},onPointerDown:n("top-left")}),Le("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",top:-7-o,right:-7-o,cursor:e%2?"nwse-resize":"nesw-resize"},onPointerDown:n("top-right")}),Le("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",bottom:-7-o,left:-7-o,cursor:e%2?"nwse-resize":"nesw-resize"},onPointerDown:n("bottom-left")}),Le("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",bottom:-7-o,right:-7-o,cursor:e%2?"nesw-resize":"nwse-resize"},onPointerDown:n("bottom-right")})]})}function Ls({scale:e,pageIndex:t,rotation:n,pageWidth:o,pageHeight:i,trackedAnnotation:r,children:a,style:l,outlineOffset:s=1,isSelected:c=!1,isDraggable:d=!0,isResizable:u=!0,lockAspectRatio:h=!1,computeVertices:p,computePatch:g,selectionMenu:m,onDoubleClick:f,...v}){const{provides:y}=Es(),[b,w]=xe(r.object.rect),[x,k]=xe((null==p?void 0:p(r.object))??[]),[C,S]=xe(null),{rootHandlers:M,startResize:I}=Ns({scale:e,pageWidth:o,pageHeight:i,rotation:n,tracked:r,isSelected:c,isDraggable:d,isResizable:u,lockAspectRatio:h,computePatch:g,computeVertices:p,currentRect:b,setCurrentRect:w,setCurrentVertices:k,setPreviewObject:S,commit:e=>null==y?void 0:y.updateAnnotation(t,r.object.id,e)});Ce((()=>{(function(e,t){return e.origin.x===t.origin.x&&e.origin.y===t.origin.y&&e.size.width===t.size.width&&e.size.height===t.size.height})(r.object.rect,b)||(w(r.object.rect),S((e=>e?{...e,rect:r.object.rect}:null)),k((null==p?void 0:p(r.object))??[]))}),[r]);const P=C?{...r.object,...C}:r.object;return Le($,{children:[Le("div",{...M,...(A=f,A?{onDblClick:A}:{}),style:{position:"absolute",outline:c?"1px solid #007ACC":"none",outlineOffset:c?`${s}px`:"0px",left:b.origin.x*e+"px",top:b.origin.y*e+"px",width:b.size.width*e+"px",height:b.size.height*e+"px",pointerEvents:c?"auto":"none",touchAction:c?"auto":"none",cursor:c&&d?"move":"default",...c&&{zIndex:3},...l},...v,children:["function"==typeof a?a(P):a,c&&x.length>0&&Le(zs,{rect:b,rotation:n,scale:e,vertices:x,onEdit:e=>{if(k(e),g){const t=g(r.object,{rect:b,vertices:e});S(t),w(t.rect||b)}},onCommit:e=>{if(y&&g){const n=g(r.object,{rect:b,vertices:e});y.updateAnnotation(t,r.object.id,n)}}}),c&&u&&Le(Rs,{rotation:n,outlineOffset:s,startResize:I})]}),Le(Ts,{rect:{origin:{x:b.origin.x*e,y:b.origin.y*e},size:{width:b.size.width*e,height:b.size.height*e}},rotation:n,children:({rect:e,menuWrapperProps:t})=>m&&m({annotation:r,selected:c,rect:e,menuWrapperProps:t})})]});var A}function Ds({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){return Le($,{children:n.map(((n,s)=>Le("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:e,opacity:t,pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:void 0,...a},...l},s)))})}function Os({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){const s=2*i;return Le($,{children:n.map(((n,c)=>Le("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},...l,children:Le("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:s,background:e,opacity:t,pointerEvents:"none"}})},c)))})}function Hs({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){const s=2*i;return Le($,{children:n.map(((n,c)=>Le("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},...l,children:Le("div",{style:{position:"absolute",left:0,top:"50%",width:"100%",height:s,background:e,opacity:t,transform:"translateY(-50%)",pointerEvents:"none"}})},c)))})}function Bs({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){const s=2*i,c=6*i,d=`url("data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="${c}" height="${2*s}" viewBox="0 0 ${c} ${2*s}">\n      <path d="M0 ${s} Q ${c/4} 0 ${c/2} ${s} T ${c} ${s}"\n            fill="none" stroke="${e}" stroke-width="${s}" stroke-linecap="round"/>\n    </svg>`)}")`;return Le($,{children:n.map(((e,n)=>Le("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?e.origin.x-o.origin.x:e.origin.x)*i,top:(o?e.origin.y-o.origin.y:e.origin.y)*i,width:e.size.width*i,height:e.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},...l,children:Le("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:2*s,backgroundImage:d,backgroundRepeat:"repeat-x",backgroundSize:`${c}px ${2*s}px`,opacity:t,pointerEvents:"none"}})},n)))})}function js({isSelected:e,color:t="#000000",opacity:n=1,strokeWidth:o,inkList:i,rect:r,scale:a,onClick:l}){const s=Me((()=>i.map((({points:e})=>{let t="";return e.forEach((({x:e,y:n},o)=>{const i=e-r.origin.x,a=n-r.origin.y;t+=(0===o?"M":"L")+i+" "+a+" "})),t.trim()}))),[i,r]),c=r.size.width*a,d=r.size.height*a;return Le("svg",{style:{position:"absolute",width:c,height:d,pointerEvents:"none",zIndex:2,overflow:"visible"},width:c,height:d,viewBox:`0 0 ${r.size.width} ${r.size.height}`,children:s.map(((i,r)=>Le("path",{d:i,fill:"none",opacity:n,onPointerDown:l,onTouchStart:l,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"visibleStroke",stroke:t,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round"}},r)))})}function $s({isSelected:e,color:t="#000000",strokeColor:n,opacity:o=1,strokeWidth:i,strokeStyle:r=Ct.SOLID,strokeDashArray:a,rect:l,scale:s,onClick:c}){const{width:d,height:u,x:h,y:p}=Me((()=>{const e=l.size.width,t=l.size.height;return{width:Math.max(e-i,0),height:Math.max(t-i,0),x:i/2,y:i/2}}),[l,i]),g=(d+i)*s,m=(u+i)*s;return Le("svg",{style:{position:"absolute",width:g,height:m,pointerEvents:"none",zIndex:2},width:g,height:m,viewBox:`0 0 ${d+i} ${u+i}`,children:Le("rect",{x:h,y:p,width:d,height:u,fill:t,opacity:o,onPointerDown:c,onTouchStart:c,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"transparent"===t?"visibleStroke":"visible",stroke:n??t,strokeWidth:i,...r===Ct.DASHED&&{strokeDasharray:null==a?void 0:a.join(",")}}})})}function Fs({color:e="#000000",strokeColor:t,opacity:n=1,strokeWidth:o,strokeStyle:i=Ct.SOLID,strokeDashArray:r,rect:a,scale:l,onClick:s,isSelected:c}){const{width:d,height:u,cx:h,cy:p,rx:g,ry:m}=Me((()=>{const e=a.size.width,t=a.size.height,n=Math.max(e-o,0),i=Math.max(t-o,0);return{width:e,height:t,cx:o/2+n/2,cy:o/2+i/2,rx:n/2,ry:i/2}}),[a,o]),f=d*l,v=u*l;return Le("svg",{style:{position:"absolute",width:f,height:v,pointerEvents:"none",zIndex:2},width:f,height:v,viewBox:`0 0 ${d} ${u}`,children:Le("ellipse",{cx:h,cy:p,rx:g,ry:m,fill:e,opacity:n,onPointerDown:s,onTouchStart:s,style:{cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===e?"visibleStroke":"visible",stroke:t??e,strokeWidth:o,...i===Ct.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}})})}const Us=(e,t)=>{if(e.type!==vt.INK)throw new Error("resizeInkAnnotation: original is not an ink annotation");const n=e.rect;let o=t.rect.size.width/n.size.width,i=t.rect.size.height/n.size.height;if((t.rect.size.width<10||t.rect.size.height<10)&&(o=Math.max(o,10/n.size.width),i=Math.max(i,10/n.size.height),t.rect={origin:t.rect.origin,size:{width:n.size.width*o,height:n.size.height*i}}),t.uniform){const e=Math.min(o,i);o=e,i=e,t.rect.size={width:n.size.width*e,height:n.size.height*e}}const r=e.inkList.map((e=>({points:e.points.map((e=>({x:t.rect.origin.x+(e.x-n.origin.x)*o,y:t.rect.origin.y+(e.y-n.origin.y)*i})))}))),a=(o+i)/2,l=Math.round(e.strokeWidth*a);return{rect:t.rect,inkList:r,strokeWidth:l}};function Ws({color:e="transparent",opacity:t=1,strokeWidth:n,strokeColor:o="#000000",strokeStyle:i=Ct.SOLID,strokeDashArray:r,rect:a,linePoints:l,lineEndings:s,scale:c,onClick:d,isSelected:u}){const{x1:h,y1:p,x2:g,y2:m}=Me((()=>({x1:l.start.x-a.origin.x,y1:l.start.y-a.origin.y,x2:l.end.x-a.origin.x,y2:l.end.y-a.origin.y})),[l,a]),f=Me((()=>{const e=Math.atan2(m-p,g-h);return{start:as.createEnding(null==s?void 0:s.start,n,e+Math.PI,h,p),end:as.createEnding(null==s?void 0:s.end,n,e,g,m)}}),[s,n,h,p,g,m]),v=a.size.width*c,y=a.size.height*c;return Le("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2,overflow:"visible"},width:v,height:y,viewBox:`0 0 ${a.size.width} ${a.size.height}`,children:[Le("line",{x1:h,y1:p,x2:g,y2:m,opacity:t,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",pointerEvents:u?"none":"visibleStroke",stroke:o,strokeWidth:n,strokeLinecap:"butt",...i===Ct.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}}),f.start&&Le("path",{d:f.start.d,transform:f.start.transform,onPointerDown:d,onTouchStart:d,stroke:o,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":f.start.filled?"visible":"visibleStroke",...i===Ct.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:f.start.filled?e:"none"}),f.end&&Le("path",{d:f.end.d,transform:f.end.transform,stroke:o,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":f.end.filled?"visible":"visibleStroke",...i===Ct.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:f.end.filled?e:"none"})]})}function Gs({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,scale:a,isSelected:l,onClick:s,lineEndings:c}){const d=Me((()=>t.map((({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})))),[t,e]),u=Me((()=>{if(!d.length)return"";const[e,...t]=d;return`M ${e.x} ${e.y} `+t.map((e=>`L ${e.x} ${e.y} `)).join("").trim()}),[d]),h=Me((()=>{if(d.length<2)return{start:null,end:null};const e=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),t=e(d[1],d[0]),n=e(d[d.length-2],d[d.length-1]);return{start:as.createEnding(null==c?void 0:c.start,r,t+Math.PI,d[0].x,d[0].y),end:as.createEnding(null==c?void 0:c.end,r,n,d[d.length-1].x,d[d.length-1].y)}}),[d,c,r]),p=e.size.width*a,g=e.size.height*a;return Le("svg",{style:{position:"absolute",width:p,height:g,pointerEvents:"none",zIndex:2,overflow:"visible"},width:p,height:g,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:[Le("path",{d:u,onPointerDown:s,onTouchStart:s,opacity:i,style:{fill:"none",stroke:o??n,strokeWidth:r,cursor:l?"move":"pointer",pointerEvents:l?"none":"visibleStroke",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.start&&Le("path",{d:h.start.d,transform:h.start.transform,stroke:o,fill:h.start.filled?n:"none",onPointerDown:s,onTouchStart:s,style:{cursor:l?"move":"pointer",strokeWidth:r,pointerEvents:l?"none":h.start.filled?"visible":"visibleStroke",strokeLinecap:"butt"}}),h.end&&Le("path",{d:h.end.d,transform:h.end.transform,stroke:o,fill:h.end.filled?n:"none",onPointerDown:s,onTouchStart:s,style:{cursor:l?"move":"pointer",strokeWidth:r,pointerEvents:l?"none":h.end.filled?"visible":"visibleStroke",strokeLinecap:"butt"}})]})}function Vs({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,strokeStyle:a=Ct.SOLID,strokeDashArray:l,scale:s,isSelected:c,onClick:d}){const u=Me((()=>t.map((({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})))),[t,e]),h=Me((()=>{if(!u.length)return"";const[e,...t]=u;return(`M ${e.x} ${e.y} `+t.map((e=>`L ${e.x} ${e.y} `)).join("")+"Z").trim()}),[u]),p=e.size.width*s,g=e.size.height*s;return Le("svg",{style:{position:"absolute",width:p,height:g,pointerEvents:"none",zIndex:2,overflow:"visible"},width:p,height:g,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:Le("path",{d:h,onPointerDown:d,onTouchStart:d,opacity:i,style:{fill:n,stroke:o??n,strokeWidth:r,cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===n?"visibleStroke":"visible",strokeLinecap:"butt",strokeLinejoin:"miter",...a===Ct.DASHED&&{strokeDasharray:null==l?void 0:l.join(",")}}})})}const qs=(e,t)=>{if(t.vertices&&t.vertices.length>=2){return{rect:as.lineRectWithEndings(t.vertices,e.strokeWidth,e.lineEndings),linePoints:{start:t.vertices[0],end:t.vertices[1]}}}const n=t.rect.origin.x-e.rect.origin.x,o=t.rect.origin.y-e.rect.origin.y;return{rect:t.rect,linePoints:{start:{x:e.linePoints.start.x+n,y:e.linePoints.start.y+o},end:{x:e.linePoints.end.x+n,y:e.linePoints.end.y+o}}}},Zs=(e,t)=>{if(t.vertices&&t.vertices.length)return{rect:as.lineRectWithEndings(t.vertices,e.strokeWidth,e.lineEndings),vertices:t.vertices};const n=t.rect.origin.x-e.rect.origin.x,o=t.rect.origin.y-e.rect.origin.y,i=e.vertices.map((e=>({x:e.x+n,y:e.y+o})));return{rect:t.rect,vertices:i}},Ys=(e,t)=>{if(t.vertices&&t.vertices.length){const n=e.strokeWidth/2;return{rect:qe(Ve(t.vertices),n),vertices:t.vertices}}const n=t.rect.origin.x-e.rect.origin.x,o=t.rect.origin.y-e.rect.origin.y,i=e.vertices.map((e=>({x:e.x+n,y:e.y+o})));return{rect:t.rect,vertices:i}};function Xs({isSelected:e,isEditing:t,annotation:n,pageIndex:o,scale:i,onClick:r}){const a=Se(null),{provides:l}=Es();ke((()=>{if(t&&a.current){const e=a.current;e.focus();const t=window.getSelection();if(t){const n=document.createRange();n.selectNodeContents(e),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}}}),[t]);return Le("div",{style:{position:"absolute",width:n.object.rect.size.width*i,height:n.object.rect.size.height*i,cursor:e&&!t?"move":"default",pointerEvents:e&&!t?"none":"auto",zIndex:2},onPointerDown:r,onTouchStart:r,children:Le("span",{ref:a,onBlur:()=>{l&&a.current&&l.updateAnnotation(o,n.object.id,{contents:a.current.innerText})},style:{color:n.object.fontColor,fontSize:n.object.fontSize*i,fontFamily:(s=n.object.fontFamily,Zt(s).css),textAlign:$t(n.object.textAlign),flexDirection:"column",justifyContent:n.object.verticalAlign===gt.Top?"flex-start":n.object.verticalAlign===gt.Middle?"center":"flex-end",display:"flex",backgroundColor:n.object.backgroundColor,opacity:n.object.opacity,width:"100%",height:"100%",lineHeight:"1.18",overflow:"hidden",cursor:t?"text":"pointer"},contentEditable:t,children:n.object.contents})});var s}function Ks({pageIndex:e,annotation:t,scaleFactor:n=1,style:o,...i}){const{provides:r}=Es(),[a,l]=xe(null),s=Se(null),{width:c,height:d}=t.rect.size;ke((()=>{if(r){const o=r.renderAnnotation({pageIndex:e,annotation:t,options:{scaleFactor:n,dpr:window.devicePixelRatio}});return o.wait((e=>{const t=URL.createObjectURL(e);l(t),s.current=t}),cn),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):o.abort({code:Et.Cancelled,message:"canceled render task"})}}}),[e,n,r,t.id,c,d]);return Le($,{children:a&&Le("img",{src:a,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},...i,style:{width:"100%",height:"100%",...o||{}}})})}function Qs({isSelected:e,annotation:t,pageIndex:n,scale:o,onClick:i}){return Le("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:2,pointerEvents:e?"none":"auto"},onPointerDown:i,onTouchStart:i,children:Le(Ks,{pageIndex:n,annotation:{...t.object,id:t.object.id},scaleFactor:o})})}function Js(e){const{pageIndex:t,scale:n,selectionMenu:o}=e,{provides:i}=Es(),{provides:r}=Fa(),[a,l]=xe([]),{register:s}=Cs({pageIndex:t}),[c,d]=xe(null),[u,h]=xe(null);ke((()=>{i&&i.onStateChange((e=>{l(((e,t)=>(e.pages[t]??[]).map((t=>e.byUid[t])))(e,t)),d(((e,t)=>e.selectedUid&&(e.pages[t]??[]).includes(e.selectedUid)?e.byUid[e.selectedUid]:null)(e,t))}))}),[i]);const p=Me((()=>({onPointerDown:(e,t)=>{t.target===t.currentTarget&&i&&(i.deselectAnnotation(),h(null))}})),[i]),g=Ie(((e,n)=>{e.stopPropagation(),i&&r&&(i.selectAnnotation(t,n.object.id),r.clear(),h(null))}),[i,r,t]);return ke((()=>s(p)),[s,p]),Le($,{children:a.map((i=>{const r=(null==c?void 0:c.object.id)===i.object.id,a=u===i.object.id;return function(e){return e.object.type===vt.INK}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,computePatch:Us,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(js,{isSelected:r,color:e.color,opacity:e.opacity,strokeWidth:e.strokeWidth,inkList:e.inkList,rect:e.rect,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.SQUARE}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le($s,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.CIRCLE}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(Fs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.UNDERLINE}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(Os,{rect:e.rect,color:e.color,opacity:e.opacity,rects:e.segmentRects,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.STRIKEOUT}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(Hs,{rect:e.rect,color:e.color,opacity:e.opacity,rects:e.segmentRects,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.SQUIGGLY}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(Bs,{color:e.color,opacity:e.opacity,rects:e.segmentRects,rect:e.rect,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.HIGHLIGHT}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:nn(i.object.blendMode??mt.Multiply)},...e,children:e=>Le(Ds,{color:e.color,opacity:e.opacity,rects:e.segmentRects,scale:n,rect:e.rect,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.LINE}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!1,selectionMenu:o,computePatch:qs,computeVertices:e=>[e.linePoints.start,e.linePoints.end],style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le($,{children:Le(Ws,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,linePoints:e.linePoints,lineEndings:e.lineEndings,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})})},i.object.id):function(e){return e.object.type===vt.POLYLINE}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!1,selectionMenu:o,computePatch:Zs,computeVertices:e=>e.vertices,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le($,{children:Le(Gs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,vertices:e.vertices,lineEndings:e.lineEndings,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,scale:n,onClick:e=>g(e,i)})})},i.object.id):function(e){return e.object.type===vt.POLYGON}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!1,selectionMenu:o,computeVertices:e=>e.vertices,computePatch:Ys,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le($,{children:Le(Vs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,vertices:e.vertices,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})})},i.object.id):function(e){return e.object.type===vt.FREETEXT}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,outlineOffset:6,onDoubleClick:e=>{e.stopPropagation(),h(i.object.id)},style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(Xs,{isSelected:r,isEditing:a,annotation:{...i,object:e},pageIndex:t,scale:n,onClick:e=>g(e,i)})},i.object.id):function(e){return e.object.type===vt.STAMP}(i)?Le(Ls,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,lockAspectRatio:!0,style:{mixBlendMode:nn(i.object.blendMode??mt.Normal)},...e,children:e=>Le(Qs,{isSelected:r,annotation:i,pageIndex:t,scale:n,onClick:e=>g(e,i)})},i.object.id):null}))})}function ec({pageIndex:e,scale:t}){var n,o,i,r,a,l,s,c,d,u,h,p;const{provides:g}=Fa(),{provides:m}=Es(),[f,v]=xe([]),[y,b]=xe(null),[w,x]=xe({variantKey:null,defaults:null});if(ke((()=>{if(!g)return;return g.onSelectionChange((()=>{v(g.getHighlightRectsForPage(e)),b(g.getBoundingRectForPage(e))}))}),[g,e]),ke((()=>{if(!m)return;return m.onActiveToolChange(x)}),[m]),!y)return null;if(!w.defaults)return null;switch(w.defaults.subtype){case vt.UNDERLINE:return Le("div",{style:{mixBlendMode:nn((null==(n=w.defaults)?void 0:n.blendMode)??mt.Normal),pointerEvents:"none",position:"absolute",inset:0},children:Le(Os,{color:null==(o=w.defaults)?void 0:o.color,opacity:null==(i=w.defaults)?void 0:i.opacity,rects:f,scale:t})});case vt.HIGHLIGHT:return Le("div",{style:{mixBlendMode:nn((null==(r=w.defaults)?void 0:r.blendMode)??mt.Multiply),pointerEvents:"none",position:"absolute",inset:0},children:Le(Ds,{color:null==(a=w.defaults)?void 0:a.color,opacity:null==(l=w.defaults)?void 0:l.opacity,rects:f,scale:t})});case vt.STRIKEOUT:return Le("div",{style:{mixBlendMode:nn((null==(s=w.defaults)?void 0:s.blendMode)??mt.Normal),pointerEvents:"none",position:"absolute",inset:0},children:Le(Hs,{color:null==(c=w.defaults)?void 0:c.color,opacity:null==(d=w.defaults)?void 0:d.opacity,rects:f,scale:t})});case vt.SQUIGGLY:return Le("div",{style:{mixBlendMode:nn((null==(u=w.defaults)?void 0:u.blendMode)??mt.Normal),pointerEvents:"none",position:"absolute",inset:0},children:Le(Bs,{color:null==(h=w.defaults)?void 0:h.color,opacity:null==(p=w.defaults)?void 0:p.opacity,rects:f,scale:t})});default:return null}}const tc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o})=>{var i,r,a,l,s;const{provides:c}=Es(),[d,u]=xe({variantKey:null,defaults:null});if(ke((()=>{if(!c)return;return c.onActiveToolChange(u)}),[c]),!d.defaults)return null;if(d.defaults.subtype!==vt.INK)return null;const h=(null==(i=d.defaults)?void 0:i.color)??"#000000",p=(null==(r=d.defaults)?void 0:r.opacity)??1,g=(null==(a=d.defaults)?void 0:a.strokeWidth)??2,m=(null==(l=d.defaults)?void 0:l.blendMode)??mt.Normal,f=null==(s=d.defaults)?void 0:s.intent,{register:v}=Cs({modeId:"ink",pageIndex:e}),[y,b]=xe([]),[w,x]=xe(!1),k=Se(null),C=n/t,S=o/t,M=Me((()=>({onPointerDown:(e,t)=>{var n;const o=Rn(e.x,0,C),i=Rn(e.y,0,S);x(!0),k.current?(clearTimeout(k.current),k.current=null,b((e=>[...e,{points:[{x:o,y:i}]}]))):b([{points:[{x:o,y:i}]}]),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!w)return;const t=Rn(e.x,0,C),n=Rn(e.y,0,S);b((e=>{if(!e.length)return e;const o={points:[...e[e.length-1].points,{x:t,y:n}]};return[...e.slice(0,-1),o]}))},onPointerUp:(t,n)=>{var o;x(!1),null==(o=n.releasePointerCapture)||o.call(n),k.current&&clearTimeout(k.current),k.current=setTimeout((()=>{if(y.length&&c){const t=y.flatMap((e=>e.points));if(!t.length)return;const n=qe(Ve(t),g/2);if(n.size.width<1||n.size.height<1)return;const o={type:vt.INK,intent:f,blendMode:m,rect:n,inkList:y,color:h,opacity:p,strokeWidth:g,created:new Date,pageIndex:e,id:sn()};c.createAnnotation(e,o),c.setActiveVariant(null),c.selectAnnotation(e,o.id)}b([]),k.current=null}),3e3)},onPointerCancel:(e,t)=>{var n;x(!1),null==(n=t.releasePointerCapture)||n.call(t),b([]),k.current&&(clearTimeout(k.current),k.current=null)}})),[C,S,y,c,e,h,p,g,w]);if(ke((()=>{if(v)return v(M)}),[v,M]),ke((()=>()=>{k.current&&clearTimeout(k.current)}),[]),!y.length)return null;const I=y.flatMap((e=>e.points));if(!I.length)return null;const P=qe(Ve(I),g/2),A=y.map((({points:e})=>{let t="";return e.forEach((({x:e,y:n},o)=>{const i=e-P.origin.x,r=n-P.origin.y;t+=(0===o?"M":"L")+i+" "+r+" "})),t.trim()}));return Le("svg",{style:{position:"absolute",left:P.origin.x*t,top:P.origin.y*t,width:P.size.width*t,height:P.size.height*t,pointerEvents:"none",zIndex:2},width:P.size.width*t,height:P.size.height*t,viewBox:`0 0 ${P.size.width} ${P.size.height}`,children:A.map(((e,t)=>Le("path",{d:e,fill:"none",opacity:p,style:{stroke:h,strokeWidth:g,strokeLinecap:"round",strokeLinejoin:"round"}},t)))})},nc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Es(),[a,l]=xe({variantKey:null,defaults:null});if(ke((()=>{if(r)return r.onActiveToolChange(l)}),[r]),!a.defaults)return null;if(a.defaults.subtype!==vt.CIRCLE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??Ct.SOLID,p=a.defaults.strokeDashArray??[],{register:g}=Cs({modeId:"circle",pageIndex:e}),m=n/t,f=o/t,[v,y]=xe(null),[b,w]=xe(null),x=Me((()=>({onPointerDown:(e,t)=>{var n;const o=Rn(e.x,0,m),i=Rn(e.y,0,f);y({x:o,y:i}),w({x:o,y:i}),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!v)return;const t=Rn(e.x,0,m),n=Rn(e.y,0,f);w({x:t,y:n})},onPointerUp:(t,n)=>{var o;if(v&&b&&r){const t=Math.min(v.x,b.x),n=Math.min(v.y,b.y),o=Math.max(v.x,b.x),i=Math.max(v.y,b.y);if(o-t>=1&&i-n>=1){const a=d/2,l={origin:{x:t-a,y:n-a},size:{width:o-t+d,height:i-n+d}},g={type:vt.CIRCLE,rect:l,flags:["print"],color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,created:new Date,pageIndex:e,id:sn()};r.createAnnotation(e,g),r.setActiveVariant(null),r.selectAnnotation(e,g.id)}}null==(o=n.releasePointerCapture)||o.call(n),y(null),w(null)},onPointerCancel:(e,t)=>{var n;null==(n=t.releasePointerCapture)||n.call(t),y(null),w(null)}})),[v,b,r,e,m,f,s,c,d]);if(ke((()=>g?g(x):void 0),[g,x]),!v||!b)return null;const k=Math.min(v.x,b.x),C=Math.min(v.y,b.y),S=Math.max(v.x,b.x),M=Math.max(v.y,b.y),I=d/2,P=S-k,A=M-C,_=P+d,T=A+d;return Le("svg",{style:{position:"absolute",left:(k-I)*t,top:(C-I)*t,width:_*t,height:T*t,pointerEvents:"none",zIndex:2},width:_*t,height:T*t,viewBox:`0 0 ${_} ${T}`,children:Le("ellipse",{cx:I+P/2,cy:I+A/2,rx:P/2,ry:A/2,fill:s,opacity:c,style:{cursor:i,stroke:u,strokeWidth:d,...h===Ct.DASHED&&{strokeDasharray:p.join(",")}}})})},oc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Es(),[a,l]=xe({variantKey:null,defaults:null});if(ke((()=>{if(r)return r.onActiveToolChange(l)}),[r]),!a.defaults)return null;if(a.defaults.subtype!==vt.SQUARE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??Ct.SOLID,p=a.defaults.strokeDashArray??[],{register:g}=Cs({modeId:"square",pageIndex:e}),m=n/t,f=o/t,[v,y]=xe(null),[b,w]=xe(null),x=Me((()=>({onPointerDown:(e,t)=>{var n,o;const i=Rn(e.x,0,m),r=Rn(e.y,0,f);y({x:i,y:r}),w({x:i,y:r}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!v)return;const t=Rn(e.x,0,m),n=Rn(e.y,0,f);w({x:t,y:n})},onPointerUp:(t,n)=>{var o,i;if(v&&b&&r){const t=Math.min(v.x,b.x),n=Math.min(v.y,b.y),o=Math.max(v.x,b.x),i=Math.max(v.y,b.y);if(o-t>=1&&i-n>=1){const a=d/2,l={origin:{x:t-a,y:n-a},size:{width:o-t+d,height:i-n+d}},g={type:vt.SQUARE,rect:l,flags:["print"],color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,pageIndex:e,id:sn(),created:new Date};r.createAnnotation(e,g),r.setActiveVariant(null),r.selectAnnotation(e,g.id)}}null==(i=null==(o=n.target)?void 0:o.releasePointerCapture)||i.call(o,n.pointerId),y(null),w(null)},onPointerCancel:(e,t)=>{var n,o;null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId),y(null),w(null)}})),[v,b,r,e,m,f,s,c,d]);if(ke((()=>g?g(x):void 0),[g,x]),!v||!b)return null;const k=Math.min(v.x,b.x),C=Math.min(v.y,b.y),S=Math.max(v.x,b.x),M=Math.max(v.y,b.y),I=d/2,P=S-k,A=M-C,_=P+d,T=A+d;return Le("svg",{style:{position:"absolute",left:(k-I)*t,top:(C-I)*t,width:_*t,height:T*t,pointerEvents:"none",zIndex:2},width:_*t,height:T*t,viewBox:`0 0 ${_} ${T}`,children:Le("rect",{x:I,y:I,width:P,height:A,fill:s,opacity:c,style:{cursor:i,stroke:u,strokeWidth:d,...h===Ct.DASHED&&{strokeDasharray:p.join(",")}}})})},ic=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Es(),[a,l]=xe({variantKey:null,defaults:null});if(ke((()=>{if(r)return r.onActiveToolChange(l)}),[r]),!a.defaults)return null;if(a.defaults.subtype!==vt.POLYLINE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.lineEndings,p=a.defaults.strokeStyle??Ct.SOLID,g=a.defaults.strokeDashArray,{register:m}=Cs({modeId:"polyline",pageIndex:e}),f=n/t,v=o/t,[y,b]=xe([]),[w,x]=xe(null),k=Me((()=>({onClick:e=>{const t=Rn(e.x,0,f),n=Rn(e.y,0,v);b((e=>[...e,{x:t,y:n}])),x({x:t,y:n})},onDoubleClick:()=>{y.length>=1&&r&&(t=>{if(t.length<2)return;const n=as.lineRectWithEndings(t,d,h),o={type:vt.POLYLINE,rect:n,vertices:t,color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:p,strokeDashArray:g,lineEndings:h,pageIndex:e,id:sn(),created:new Date};r.createAnnotation(e,o),r.setActiveVariant(null),r.selectAnnotation(e,o.id)})(y),b([]),x(null)},onPointerMove:e=>{if(!y.length)return;const t=Rn(e.x,0,f),n=Rn(e.y,0,v);x({x:t,y:n})},onPointerCancel:()=>{b([]),x(null)}})),[y,r,f,v]);if(ke((()=>m?m(k):void 0),[m,k]),!y.length||!w)return null;const C=[...y,w],S=as.lineRectWithEndings(C,d,h);return Le("div",{style:{position:"absolute",left:S.origin.x*t,top:S.origin.y*t,width:S.size.width*t,height:S.size.height*t,pointerEvents:"none",zIndex:2,overflow:"visible",cursor:i},children:Le(Gs,{rect:S,vertices:C,strokeWidth:d,scale:t,isSelected:!1,color:s,strokeColor:u,opacity:c,lineEndings:h})})},rc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Es(),[a,l]=xe({variantKey:null,defaults:null});if(ke((()=>{if(r)return r.onActiveToolChange(l)}),[r]),!a.defaults)return null;if(a.defaults.subtype!==vt.LINE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??Ct.SOLID,p=a.defaults.strokeDashArray,g=a.defaults.lineEndings,m=a.defaults.intent,{register:f}=Cs({modeId:["line","lineArrow"],pageIndex:e}),v=n/t,y=o/t,[b,w]=xe(null),[x,k]=xe(null),C=Me((()=>({onPointerDown:(e,t)=>{var n;const o=Rn(e.x,0,v),i=Rn(e.y,0,y);w({x:o,y:i}),k({x:o,y:i}),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!b)return;const t=Rn(e.x,0,v),n=Rn(e.y,0,y);k({x:t,y:n})},onPointerUp:(t,n)=>{var o;b&&x&&r&&((t,n)=>{if(Math.abs(n.x-t.x)<1&&Math.abs(n.y-t.y)<1)return;const o=as.lineRectWithEndings([t,n],d,g),i={type:vt.LINE,rect:o,linePoints:{start:t,end:n},color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,lineEndings:g,intent:m,pageIndex:e,id:sn(),created:new Date};r.createAnnotation(e,i),r.setActiveVariant(null),r.selectAnnotation(e,i.id)})(b,x),null==(o=n.releasePointerCapture)||o.call(n),w(null),k(null)},onPointerCancel:(e,t)=>{var n;null==(n=t.releasePointerCapture)||n.call(t),w(null),k(null)}})),[b,x,r,v,y]);if(ke((()=>f?f(C):void 0),[f,C]),!b||!x)return null;const S=as.lineRectWithEndings([b,x],d,g);return Le("div",{style:{position:"absolute",left:S.origin.x*t,top:S.origin.y*t,width:S.size.width*t,height:S.size.height*t,pointerEvents:"none",zIndex:2,overflow:"visible",cursor:i},children:Le(Ws,{rect:S,linePoints:{start:b,end:x},strokeWidth:d,scale:t,isSelected:!1,color:s,strokeColor:u,opacity:c,lineEndings:g,strokeStyle:h,strokeDashArray:p})})},ac=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Es(),[a,l]=xe({variantKey:null,defaults:null});if(ke((()=>null==r?void 0:r.onActiveToolChange(l)),[r]),!a.defaults||a.defaults.subtype!==vt.POLYGON)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??Ct.SOLID,p=a.defaults.strokeDashArray,{register:g}=Cs({modeId:"polygon",pageIndex:e}),m=n/t,f=o/t,[v,y]=xe([]),[b,w]=xe(null),x=t=>{const n=t.map((e=>e.x)),o=t.map((e=>e.y)),i=Math.min(...n),a=Math.min(...o),l=Math.max(...n),g=Math.max(...o);if(l-i<1||g-a<1)return;const m=d/2,f={origin:{x:i-m,y:a-m},size:{width:l-i+d,height:g-a+d}},v={type:vt.POLYGON,rect:f,vertices:t,color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,pageIndex:e,id:sn(),created:new Date};r.createAnnotation(e,v),r.setActiveVariant(null),r.selectAnnotation(e,v.id)},k=Me((()=>({onClick:e=>{const n=Rn(e.x,0,m),o=Rn(e.y,0,f);if(((e,n)=>{if(v.length<2)return!1;const o=14/t/2,i=v[0];return e>=i.x-o&&e<=i.x+o&&n>=i.y-o&&n<=i.y+o})(n,o)&&v.length>=3&&r)return x(v),y([]),void w(null);y((e=>[...e,{x:n,y:o}])),w({x:n,y:o})},onDoubleClick:()=>{v.length>=3&&r?(x(v),y([]),w(null)):(y([]),w(null))},onPointerMove:e=>{if(!v.length)return;const t=Rn(e.x,0,m),n=Rn(e.y,0,f);w({x:t,y:n})},onPointerCancel:()=>{y([]),w(null)}})),[v,b,r,m,f]);if(ke((()=>g?g(k):void 0),[g,k]),!v.length||!b)return null;const C=[...v,b],S=C.map((e=>e.x)),M=C.map((e=>e.y)),I=Math.min(...S),P=Math.min(...M),A=Math.max(...S),_=Math.max(...M),T=d/2,E=I-T,z=P-T,N=A+T-E,R=_+T-z,L=Me((()=>{let e="";return C.forEach((({x:t,y:n},o)=>{e+=(0===o?"M":"L")+(t-E)+" "+(n-z)+" "})),e.trim()}),[C,E,z]),D=v.length>=2?`M ${b.x-E} ${b.y-z} L ${v[0].x-E} ${v[0].y-z}`:null,O=14/t,H=O/2,B=v[0].x-H-E,j=v[0].y-H-z;return Le("svg",{style:{position:"absolute",left:E*t,top:z*t,width:N*t,height:R*t,pointerEvents:"none",zIndex:2,overflow:"visible"},width:N*t,height:R*t,viewBox:`0 0 ${N} ${R}`,children:[Le("path",{d:L,fill:s,opacity:c,style:{cursor:i,stroke:u,strokeWidth:d,...h===Ct.DASHED&&{strokeDasharray:null==p?void 0:p.join(",")}}}),D&&Le("path",{d:D,fill:"none",style:{stroke:u,strokeWidth:d,strokeDasharray:"4,4"}}),v.length>=3&&Le("rect",{x:B,y:j,width:O,height:O,fill:u,opacity:.4,stroke:u,strokeWidth:d/2,style:{pointerEvents:"none"}})]})},lc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i="text"})=>{const{provides:r}=Es(),[a,l]=xe({variantKey:null,defaults:null});if(ke((()=>null==r?void 0:r.onActiveToolChange(l)),[r]),!a.defaults||a.defaults.subtype!==vt.FREETEXT)return null;const s=a.defaults.fontColor??"#000000",c=a.defaults.opacity??1,d=a.defaults.fontSize??12,u=a.defaults.fontFamily,h=a.defaults.backgroundColor??"transparent",p=a.defaults.textAlign,g=a.defaults.verticalAlign,m=a.defaults.content??"Insert text here",{register:f}=Cs({modeId:"freeText",pageIndex:e}),v=(e,t,n)=>Math.max(t,Math.min(n,e)),y=n/t,b=o/t,[w,x]=xe(null),[k,C]=xe(null),S=Me((()=>({onPointerDown:(e,t)=>{var n;const o=v(e.x,0,y),i=v(e.y,0,b);x({x:o,y:i}),C({x:o,y:i}),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!w)return;const t=v(e.x,0,y),n=v(e.y,0,b);C({x:t,y:n})},onPointerUp:(t,n)=>{var o;w&&k&&r&&((t,n)=>{const o=Math.min(t.x,n.x),i=Math.min(t.y,n.y),a=Math.max(t.x,n.x)-o,l=Math.max(t.y,n.y)-i;if(a<1||l<1)return;const f={origin:{x:o,y:i},size:{width:a,height:l}},v={type:vt.FREETEXT,rect:f,contents:m,fontColor:s,fontSize:d,fontFamily:u,opacity:c,backgroundColor:h,textAlign:p,verticalAlign:g,pageIndex:e,id:sn(),created:new Date};r.createAnnotation(e,v),r.setActiveVariant(null),r.selectAnnotation(e,v.id)})(w,k),null==(o=n.releasePointerCapture)||o.call(n),x(null),C(null)},onPointerCancel:(e,t)=>{var n;null==(n=t.releasePointerCapture)||n.call(t),x(null),C(null)}})),[w,k,r,y,b]);if(ke((()=>f?f(S):void 0),[f,S]),!w||!k)return null;const M=Math.min(w.x,k.x),I=Math.min(w.y,k.y),P=Math.max(w.x,k.x)-M,A=Math.max(w.y,k.y)-I;return Le("svg",{style:{position:"absolute",left:M*t,top:I*t,width:P*t,height:A*t,pointerEvents:"none",zIndex:2},width:P*t,height:A*t,viewBox:`0 0 ${P} ${A}`,children:Le("rect",{x:0,y:0,width:P,height:A,fill:"transparent",style:{stroke:s,strokeWidth:1,strokeDasharray:"4,4",cursor:i}})})},sc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o})=>{const{provides:i}=Es(),r=Se(null),a=Se(null),[l,s]=xe({variantKey:null,defaults:null});if(ke((()=>{if(i)return i.onActiveToolChange(s)}),[i]),!l.defaults)return null;if(l.defaults.subtype!==vt.STAMP)return null;const{register:c}=Cs({modeId:"stamp",pageIndex:e}),d=n/t,u=o/t,[h,p]=xe(null),g=Me((()=>({onPointerDown:(e,t)=>{var n;const o=Rn(e.x,0,d),i=Rn(e.y,0,u);p({x:o,y:i}),null==(n=r.current)||n.click()}})),[d,u]);ke((()=>c?c(g):void 0),[c,g]);return Le($,{children:[Le("canvas",{style:{display:"none"},ref:a}),Le("input",{ref:r,type:"file",accept:"image/png,image/jpeg",style:{display:"none"},onChange:async t=>{var n;if(!i||!h)return;const o=null==(n=t.currentTarget.files)?void 0:n[0];if(!o)return;const r=await new Promise(((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=t,n.src=URL.createObjectURL(o)})),l=r.naturalWidth,s=r.naturalHeight,c=d,g=u,m=Math.min(1,c/l,g/s),f=l*m,v=s*m,y={origin:{x:Rn(h.x,0,c-f),y:Rn(h.y,0,g-v)},size:{width:f,height:v}},b=a.current;if(!b)return;b.width=f,b.height=v;const w=b.getContext("2d");w.drawImage(r,0,0,f,v);const x=w.getImageData(0,0,f,v),k={type:vt.STAMP,flags:["print"],pageIndex:e,id:sn(),created:new Date,rect:y};i.createAnnotation(e,k,{imageData:x}),i.setActiveVariant(null),i.selectAnnotation(e,k.id),p(null)}})]})},cc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o})=>{const{provides:i}=Es(),r=Se(null),a=Se(null),[l,s]=xe({variantKey:null,defaults:null});if(ke((()=>{if(i)return i.onActiveToolChange(s)}),[i]),!l.defaults||!l.variantKey)return null;const{intent:c}=Zl(l.variantKey);if(!("signature"===c))return null;if(l.defaults.subtype!==vt.STAMP)return null;ke((()=>(g(null),()=>{g(null)})),[l.variantKey]);const{register:d}=Cs({modeId:"signature",pageIndex:e}),u=n/t,h=o/t,[p,g]=xe(null);ke((()=>{const e=e=>{"Escape"===e.key&&p&&g(null)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[p]);const m=Me((()=>({onPointerDown:(e,t)=>{const n=Rn(e.x,0,u),o=Rn(e.y,0,h);g({x:n,y:o})},onPointerCancel:()=>{g(null)}})),[u,h]);return ke((()=>d?d(m):void 0),[d,m]),ke((()=>{if(!i)return;const e=i.getSignatureUrl()||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPgogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiMwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5TaWduYXR1cmU8L3RleHQ+Cjwvc3ZnPgo=",t=new Image;t.crossOrigin="anonymous",t.onload=()=>{a.current=t},t.onerror=e=>{console.error("Failed to load signature image:",e)},t.src=e}),[i]),ke((()=>{if(!p||!a.current||!i)return;const t=a.current,n=t.naturalWidth,o=t.naturalHeight,l=u,s=h,c=Math.min(1,l/n,s/o),d=n*c,m=o*c,f={origin:{x:Rn(p.x,0,l-d),y:Rn(p.y,0,s-m)},size:{width:d,height:m}},v=r.current;if(!v)return;v.width=d,v.height=m;const y=v.getContext("2d");y.drawImage(t,0,0,d,m);const b=y.getImageData(0,0,d,m),w={type:vt.STAMP,intent:"signature",flags:["print"],pageIndex:e,id:sn(),created:new Date,rect:f};i.createAnnotation(e,w,{imageData:b}),i.setActiveVariant(null),i.selectAnnotation(e,w.id),g(null)}),[p,i,e,u,h]),Le($,{children:Le("canvas",{style:{display:"none"},ref:r})})};function dc({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,rotation:i,selectionMenu:r,style:a,...l}){return Le("div",{style:{...a},...l,children:[Le(Js,{selectionMenu:r,pageIndex:e,scale:t,rotation:i,pageWidth:n,pageHeight:o}),Le(ec,{pageIndex:e,scale:t}),Le(tc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(nc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(oc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(ac,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(ic,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(rc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(lc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(sc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),Le(cc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o})]})}var uc,hc=["position"],pc=function(){var e=f(xe(!1),2),t=e[0],n=e[1],o=Se(null),i=Se(null);return ke((function(){if(t){var e=function(e){o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[t]),ke((function(){t&&i.current&&i.current.scrollIntoView({block:"center",inline:"start"})}),[t]),{open:t,setOpen:n,rootRef:o,selectedItemRef:i}},gc=function(e){var t=e.value,n=e.onChange,o=e.options,i=e.getOptionKey,r=e.renderValue,a=e.renderOption,l=e.triggerClass,s=void 0===l?"px-3 py-2":l,c=pc(),d=c.open,u=c.setOpen,h=c.rootRef,p=c.selectedItemRef;return B("div",{ref:h,class:"relative inline-block w-full"},B("button",{type:"button",class:"flex w-full items-center justify-between gap-2 rounded border border-gray-300 bg-white dark:border-gray-600 dark:bg-gray-800 ".concat(s),onClick:function(){return u((function(e){return!e}))}},r(t),B("svg",{class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"}))),d&&B("div",{class:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded border bg-white p-1 shadow-lg dark:border-gray-600 dark:bg-gray-800"},o.map((function(e){var o=i(e)===i(t);return B("button",{ref:o?p:null,key:i(e),class:"block w-full rounded text-left hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(o?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(e),u(!1)}},a(e,o))}))))},mc=function(e){var t=e.value,n=e.min,o=void 0===n?0:n,i=e.max,r=void 0===i?1:i,a=e.step,l=void 0===a?.1:a,s=e.onChange;return B("input",{type:"range",class:"range-sm mb-2 h-1 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 dark:bg-gray-700",value:t,min:o,max:r,step:l,onInput:function(e){return s(parseFloat(e.target.value))}})},fc=function(e){var t=e.color,n=e.active,o=e.onSelect,i=function(e){return"transparent"===e||/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)$/i.test(e)||/^#([0-9a-f]{8})$/i.test(e)&&"00"===e.slice(-2).toLowerCase()||/^#([0-9a-f]{4})$/i.test(e)&&"0"===e.slice(-1).toLowerCase()}(t)?{backgroundColor:"#fff",backgroundImage:"linear-gradient(45deg, transparent 40%, red 40%, red 60%, transparent 60%)",backgroundSize:"100% 100%"}:{backgroundColor:t};return B("button",{title:t,class:"h-5 w-5 rounded-full border border-gray-400 ".concat(n?"outline outline-2 outline-offset-2 outline-blue-500":""),style:i,onClick:function(){return o(t)}})},vc=[{id:Ct.SOLID},{id:Ct.DASHED,dash:[6,2]},{id:Ct.DASHED,dash:[8,4]},{id:Ct.DASHED,dash:[3,3]},{id:Ct.DASHED,dash:[1,2]},{id:Ct.DASHED,dash:[4,2,1,2]},{id:Ct.DASHED,dash:[8,4,1,4]}],yc=function(e){return B("svg",{width:"80",height:"8",viewBox:"0 0 80 8"},B("line",{x1:"0",y1:"4",x2:"80",y2:"4",style:{strokeDasharray:null==e?void 0:e.join(" "),stroke:"black",strokeWidth:"2"}}))},bc=function(e){return B(gc,h(h({},e),{},{options:vc,getOptionKey:function(e){var t;return e.id+((null===(t=e.dash)||void 0===t?void 0:t.join("-"))||"")},renderValue:function(e){return yc(e.dash)},renderOption:function(e){return B("div",{class:"px-1 py-2"},yc(e.dash))}}))},wc=[wt.None,wt.Square,wt.Circle,wt.Diamond,wt.OpenArrow,wt.ClosedArrow,wt.ROpenArrow,wt.RClosedArrow,wt.Butt,wt.Slash],xc=function(e){var t,n=e.ending,o=e.position,i=l(l(l(l(l(l(l(l(l({},wt.Square,B("path",{d:"M68 -4 L76 -4 L76 4 L68 4 Z"})),wt.Circle,B("circle",{cx:"72",cy:"0",r:"4"})),wt.Diamond,B("path",{d:"M72 -5 L77 0 L72 5 L67 0 Z"})),wt.OpenArrow,B("path",{d:"M67 -5 L77 0 L67 5",fill:"none"})),wt.ClosedArrow,B("path",{d:"M67 -5 L77 0 L67 5 Z"})),wt.ROpenArrow,B("path",{d:"M77 -5 L67 0 L77 5",fill:"none"})),wt.RClosedArrow,B("path",{d:"M77 -5 L67 0 L77 5 Z"})),wt.Butt,B("path",{d:"M72 -5 L72 5",fill:"none"})),wt.Slash,B("path",{d:"M67 -5 L77 5",fill:"none"})),r=l(l(l(l(l(l(l(l(l({},wt.Square,68),wt.Circle,68),wt.Diamond,67),wt.OpenArrow,76),wt.ClosedArrow,67),wt.ROpenArrow,67),wt.RClosedArrow,67),wt.Butt,72),wt.Slash,72),a=i[n];return B("svg",{width:"80",height:"20",viewBox:"0 0 80 20",class:"text-black dark:text-white"},B("g",{transform:"start"===o?"rotate(180 40 10)":""},B("line",{x1:"4",y1:"10",x2:null!==(t=r[n])&&void 0!==t?t:77,y2:"10",stroke:"currentColor","stroke-width":"1.5"}),a&&B("g",{transform:"translate(0, 10)",fill:"currentColor",stroke:"currentColor","stroke-width":"1.5"},a)))},kc=function(e){var t=e.position,n=p(e,hc);return B(gc,h(h({},n),{},{options:wc,getOptionKey:function(e){return e},triggerClass:"px-3 py-1",renderValue:function(e){return B(xc,{ending:e,position:t})},renderOption:function(e){return B("div",{class:"px-1 py-1"},B(xc,{ending:e,position:t}))}}))},Cc=function(e){return B(gc,h(h({},e),{},{options:Qt,getOptionKey:function(e){return e},triggerClass:"px-2 py-1 text-sm",renderValue:function(e){return B("span",null,Jt(e))},renderOption:function(e){return B("div",{class:"px-2 py-1"},Jt(e))}}))},Sc=function(e){var t=e.value,n=e.onChange,o=e.options,i=void 0===o?[8,9,10,11,12,14,16,18,24,36,48,72]:o,r=pc(),a=r.open,l=r.setOpen,s=r.rootRef,c=r.selectedItemRef;return B("div",{ref:s,class:"relative w-full"},B("input",{type:"number",min:"1",class:"w-full rounded border border-gray-300 bg-white px-2 py-1 pr-7 text-sm dark:border-gray-600 dark:bg-gray-800 dark:text-white",value:t,onInput:function(e){var t=parseInt(e.target.value,10);Number.isFinite(t)&&t>0&&n(t)},onClick:function(){return l(!0)}}),B("button",{type:"button",class:"absolute inset-y-0 right-1 flex items-center",onClick:function(){return l((function(e){return!e}))},tabIndex:-1},B("svg",{class:"h-4 w-4 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"}))),a&&B("div",{class:"absolute z-10 mt-1 max-h-48 w-full overflow-y-auto rounded border bg-white shadow-lg dark:border-gray-600 dark:bg-gray-800"},i.map((function(e){var o=e===t;return B("button",{ref:o?c:null,key:e,class:"block w-full px-2 py-1 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(o?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(e),l(!1)}},e)}))))},Mc=function(e){var t,n,o,i,r=e.selected,a=e.subtype,l=e.activeVariant,s=e.intent,c=e.colorPresets,d=Es().provides;if(!d)return null;var u=null==r?void 0:r.object,h=d.getToolDefaultsBySubtypeAndIntent(a,s),p=!!u,g=p?u.color:null!==(t=null==h?void 0:h.color)&&void 0!==t?t:"#FFFF00",m=p?u.opacity:null!==(n=null==h?void 0:h.opacity)&&void 0!==n?n:1,v=p?null!==(o=u.blendMode)&&void 0!==o?o:mt.Normal:null!==(i=null==h?void 0:h.blendMode)&&void 0!==i?i:mt.Normal,y=f(xe(g),2),b=y[0],w=y[1],x=f(xe(m),2),k=x[0],C=x[1],S=f(xe(v),2),M=S[0],I=S[1];ke((function(){return w(g)}),[g]),ke((function(){return C(m)}),[m]),ke((function(){return I(v)}),[v]);var P=ya(k,300);ke((function(){return _({opacity:P})}),[P]);var A=function(e){w(e),_({color:e})};function _(e){d&&(p?d.updateAnnotation(u.pageIndex,u.id,e):l&&d.setToolDefaults(l,e))}return B($,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(e){return B(fc,{key:e,color:e,active:e===b,onSelect:A})})))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(mc,{value:k,min:.1,max:1,step:.05,onChange:C}),B("span",{class:"text-xs text-gray-500"},Math.round(100*k),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Blend mode"),B("select",{class:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-sm",value:M,onChange:function(e){return t=parseInt(e.target.value,10),I(n=t),void _({blendMode:n});var t,n}},on.map((function(e){return B("option",{key:e.value,value:e.value},e.label)})))))},Ic=function(e){var t,n,o,i,r,a=e.selected,l=e.subtype,s=e.intent,c=e.activeVariant,d=e.colorPresets,u=Es().provides;if(!u)return null;var h=null==a?void 0:a.object,p=u.getToolDefaultsBySubtypeAndIntent(l,s),g=!!h,m=g?h.color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:"#000000",v=g?h.strokeColor:null!==(n=null==p?void 0:p.strokeColor)&&void 0!==n?n:"#000000",y=g?h.opacity:null!==(o=null==p?void 0:p.opacity)&&void 0!==o?o:1,b=g?h.strokeWidth:null!==(i=null==p?void 0:p.strokeWidth)&&void 0!==i?i:2,w=g?{id:h.strokeStyle,dash:h.strokeDashArray}:{id:null!==(r=null==p?void 0:p.strokeStyle)&&void 0!==r?r:Ct.SOLID,dash:null==p?void 0:p.strokeDashArray},x=f(xe(m),2),k=x[0],C=x[1],S=f(xe(v),2),M=S[0],I=S[1],P=f(xe(y),2),A=P[0],_=P[1],T=f(xe(b),2),E=T[0],z=T[1],N=f(xe(w),2),R=N[0],L=N[1];ke((function(){return C(m)}),[m]),ke((function(){return I(v)}),[v]),ke((function(){return _(y)}),[y]),ke((function(){return z(b)}),[b]),ke((function(){return L(w)}),[w]);var D=ya(A,300),O=ya(E,300);ke((function(){return F({opacity:D})}),[D]),ke((function(){return F({strokeWidth:O})}),[O]);var H=function(e){C(e),F({color:e})},j=function(e){I(e),F({strokeColor:e})};function F(e){u&&(g?u.updateAnnotation(h.pageIndex,h.id,e):c&&u.setToolDefaults(c,e))}return B($,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return B(fc,{key:e,color:e,active:e===k,onSelect:H})})),B(fc,{color:"transparent",active:"transparent"===k,onSelect:H}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(mc,{value:A,min:.1,max:1,step:.05,onChange:_}),B("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return B(fc,{key:e,color:e,active:e===M,onSelect:j})})))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),B(bc,{value:R,onChange:function(e){L(e),F({strokeStyle:e.id,strokeDashArray:e.dash})}})),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(mc,{value:E,min:1,max:30,step:1,onChange:z}),B("span",{class:"text-xs text-gray-500"},E,"px")))},Pc=function(e){var t,n,o,i,r,a,l,s=e.selected,c=e.subtype,d=e.intent,u=e.activeVariant,h=e.colorPresets,p=Es().provides;if(!p)return null;var g=null==s?void 0:s.object,m=p.getToolDefaultsBySubtypeAndIntent(c,d),v=!!g,y=v?g.color:null!==(t=null==m?void 0:m.color)&&void 0!==t?t:"#000000",b=v?g.strokeColor:null!==(n=null==m?void 0:m.strokeColor)&&void 0!==n?n:"#000000",w=v?g.opacity:null!==(o=null==m?void 0:m.opacity)&&void 0!==o?o:1,x=v?g.strokeWidth:null!==(i=null==m?void 0:m.strokeWidth)&&void 0!==i?i:2,k=v?null!==(r=g.lineEndings)&&void 0!==r?r:{start:wt.None,end:wt.None}:null!==(a=null==m?void 0:m.lineEndings)&&void 0!==a?a:{start:wt.None,end:wt.None},C=v?{id:g.strokeStyle,dash:g.strokeDashArray}:{id:null!==(l=null==m?void 0:m.strokeStyle)&&void 0!==l?l:Ct.SOLID,dash:null==m?void 0:m.strokeDashArray},S=f(xe(y),2),M=S[0],I=S[1],P=f(xe(b),2),A=P[0],_=P[1],T=f(xe(w),2),E=T[0],z=T[1],N=f(xe(x),2),R=N[0],L=N[1],D=f(xe(C),2),O=D[0],H=D[1],j=f(xe(k.start),2),F=j[0],U=j[1],W=f(xe(k.end),2),G=W[0],V=W[1];ke((function(){return I(y)}),[y]),ke((function(){return _(b)}),[b]),ke((function(){return z(w)}),[w]),ke((function(){return L(x)}),[x]),ke((function(){return H(C)}),[C]),ke((function(){return U(k.start)}),[k.start]),ke((function(){return V(k.end)}),[k.end]);var q=ya(E,300),Z=ya(R,300);ke((function(){return K({opacity:q})}),[q]),ke((function(){return K({strokeWidth:Z})}),[Z]);var Y=function(e){I(e),K({color:e})},X=function(e){_(e),K({strokeColor:e})};function K(e){p&&(v?p.updateAnnotation(g.pageIndex,g.id,e):u&&p.setToolDefaults(u,e))}return B($,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},h.map((function(e){return B(fc,{key:e,color:e,active:e===A,onSelect:X})})),B(fc,{color:"transparent",active:"transparent"===A,onSelect:X}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(mc,{value:E,min:.1,max:1,step:.05,onChange:z}),B("span",{class:"text-xs text-gray-500"},Math.round(100*E),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),B(bc,{value:O,onChange:function(e){H(e),K({strokeStyle:e.id,strokeDashArray:e.dash})}})),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(mc,{value:R,min:1,max:10,step:1,onChange:L}),B("span",{class:"text-xs text-gray-500"},R)),B("section",{class:"mb-6"},B("div",{class:"grid grid-cols-2 gap-4"},B("div",null,B("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line start"),B(kc,{value:F,onChange:function(e){U(e),K({lineEndings:{start:e,end:G}})},position:"start"})),B("div",null,B("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line end"),B(kc,{value:G,onChange:function(e){V(e),K({lineEndings:{start:F,end:e}})},position:"end"})))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},h.map((function(e){return B(fc,{key:e,color:e,active:e===M,onSelect:Y})})),B(fc,{color:"transparent",active:"transparent"===M,onSelect:Y}))))},Ac=(l(l(l(l(l(l(l(l(l(l(uc={},vt.INK,{component:function(e){var t,n,o,i,r,a,l=e.selected,s=e.subtype,c=e.intent,d=e.activeVariant,u=e.colorPresets,h=Es().provides;if(!h)return null;var p=null==l?void 0:l.object,g=h.getToolDefaultsBySubtypeAndIntent(s,c),m=null!==(t=null!==(n=null==p?void 0:p.color)&&void 0!==n?n:null==g?void 0:g.color)&&void 0!==t?t:"#000000",v=null!==(o=null!==(i=null==p?void 0:p.opacity)&&void 0!==i?i:null==g?void 0:g.opacity)&&void 0!==o?o:1,y=null!==(r=null!==(a=null==p?void 0:p.strokeWidth)&&void 0!==a?a:null==g?void 0:g.strokeWidth)&&void 0!==r?r:2,b=f(xe(m),2),w=b[0],x=b[1],k=f(xe(v),2),C=k[0],S=k[1],M=f(xe(y),2),I=M[0],P=M[1];ke((function(){return x(m)}),[m]),ke((function(){return S(v)}),[v]),ke((function(){return P(y)}),[y]);var A=ya(C,300),_=ya(I,300);ke((function(){return E({opacity:A})}),[A]),ke((function(){return E({strokeWidth:_})}),[_]);var T=function(e){x(e),E({color:e})};function E(e){h&&(p?h.updateAnnotation(p.pageIndex,p.id,e):d&&h.setToolDefaults(d,e))}return B($,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},u.map((function(e){return B(fc,{key:e,color:e,active:e===w,onSelect:T})})))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(mc,{value:C,min:.1,max:1,step:.05,onChange:S}),B("span",{class:"text-xs text-gray-500"},Math.round(100*C),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(mc,{value:I,min:1,max:30,step:1,onChange:P}),B("span",{class:"text-xs text-gray-500"},I,"px")))},title:"Ink"}),vt.POLYGON,{component:function(e){var t,n,o,i,r,a=e.selected,l=e.subtype,s=e.intent,c=e.activeVariant,d=e.colorPresets,u=Es().provides;if(!u)return null;var h=null==a?void 0:a.object,p=u.getToolDefaultsBySubtypeAndIntent(l,s),g=!!h,m=g?h.color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:"#000000",v=g?h.strokeColor:null!==(n=null==p?void 0:p.strokeColor)&&void 0!==n?n:"#000000",y=g?h.opacity:null!==(o=null==p?void 0:p.opacity)&&void 0!==o?o:1,b=g?h.strokeWidth:null!==(i=null==p?void 0:p.strokeWidth)&&void 0!==i?i:2,w=g?{id:h.strokeStyle,dash:h.strokeDashArray}:{id:null!==(r=null==p?void 0:p.strokeStyle)&&void 0!==r?r:Ct.SOLID,dash:null==p?void 0:p.strokeDashArray},x=f(xe(m),2),k=x[0],C=x[1],S=f(xe(v),2),M=S[0],I=S[1],P=f(xe(y),2),A=P[0],_=P[1],T=f(xe(b),2),E=T[0],z=T[1],N=f(xe(w),2),R=N[0],L=N[1];ke((function(){return C(m)}),[m]),ke((function(){return I(v)}),[v]),ke((function(){return _(y)}),[y]),ke((function(){return z(b)}),[b]),ke((function(){return L(w)}),[w]);var D=ya(A,300),O=ya(E,300);ke((function(){return F({opacity:D})}),[D]),ke((function(){return F({strokeWidth:O})}),[O]);var H=function(e){C(e),F({color:e})},j=function(e){I(e),F({strokeColor:e})};function F(e){u&&(g?u.updateAnnotation(h.pageIndex,h.id,e):c&&u.setToolDefaults(c,e))}return B($,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return B(fc,{key:e,color:e,active:e===M,onSelect:j})})),B(fc,{color:"transparent",active:"transparent"===M,onSelect:j}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(mc,{value:A,min:.1,max:1,step:.05,onChange:_}),B("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),B(bc,{value:R,onChange:function(e){L(e),F({strokeStyle:e.id,strokeDashArray:e.dash})}})),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(mc,{value:E,min:1,max:10,step:1,onChange:z}),B("span",{class:"text-xs text-gray-500"},E)),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return B(fc,{key:e,color:e,active:e===k,onSelect:H})})),B(fc,{color:"transparent",active:"transparent"===k,onSelect:H}))))},title:"Polygon"}),vt.SQUARE,{component:Ic,title:"Square"}),vt.CIRCLE,{component:Ic,title:"Circle"}),vt.LINE,{component:Pc,title:function(e){return"LineArrow"===e.intent?"Arrow line":"Line"}}),vt.POLYLINE,{component:Pc,title:"Polyline"}),vt.HIGHLIGHT,{component:Mc,title:"Highlight"}),vt.UNDERLINE,{component:Mc,title:"Underline"}),vt.STRIKEOUT,{component:Mc,title:"Strike-out"}),vt.SQUIGGLY,{component:Mc,title:"Squiggly"}),l(l(uc,vt.FREETEXT,{component:function(e){var t=e.selected,n=e.subtype,o=e.activeVariant,i=e.intent,r=e.colorPresets,a=Es().provides;if(!a)return null;var l=null==t?void 0:t.object,s=a.getToolDefaultsBySubtypeAndIntent(n,i),c=!!l,d=c?l.fontFamily:s.fontFamily,u=Zt(d).family,h=Yt(d),p=Xt(d),g=c?l.fontColor:s.fontColor,m=c?l.opacity:s.opacity,v=c?l.backgroundColor:s.backgroundColor,y=c?l.fontSize:s.fontSize,b=c?l.textAlign:s.textAlign,w=c?l.verticalAlign:s.verticalAlign,x=f(xe(u),2),k=x[0],C=x[1],S=f(xe(y),2),M=S[0],I=S[1],P=f(xe(h),2),A=P[0],_=P[1],T=f(xe(p),2),E=T[0],z=T[1],N=f(xe(b),2),R=N[0],L=N[1],D=f(xe(w),2),O=D[0],H=D[1],j=f(xe(g),2),F=j[0],U=j[1],W=f(xe(m),2),G=W[0],V=W[1],q=f(xe(v),2),Z=q[0],Y=q[1];function X(e){a&&(c?a.updateAnnotation(l.pageIndex,l.id,e):o&&a.setToolDefaults(o,e))}ke((function(){C(u),_(h),z(p)}),[u,h,p]),ke((function(){return U(g)}),[g]),ke((function(){return V(m)}),[m]),ke((function(){return Y(v)}),[v]),ke((function(){return I(y)}),[y]),ke((function(){return L(b)}),[b]),ke((function(){return H(w)}),[w]);var K=ya(G,300),Q=ya(Z,300);ke((function(){return X({opacity:K})}),[K]),ke((function(){return X({backgroundColor:Q})}),[Q]);var J=function(e){U(e),X({fontColor:e})},ee=function(e){Y(e),X({backgroundColor:e})},te=function(e,t,n){X({fontFamily:Kt(e,{bold:t,italic:n})})},ne=function(e){L(e),X({textAlign:e})},oe=function(e){H(e),X({verticalAlign:e})};return B($,null,B("section",{class:"mb-6"},B("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Font"),B("div",{class:"mb-3 flex gap-2"},B(Cc,{value:k,onChange:function(e){var t=Yt(Kt(e,{bold:!0,italic:!1})),n=Xt(Kt(e,{bold:!1,italic:!0})),o=!!t&&A,i=!!n&&E;C(e),_(o),z(i),te(e,o,i)}}),B("div",{class:"w-36"},B(Sc,{value:M,onChange:function(e){!Number.isFinite(e)||e<=0||(I(e),X({fontSize:e}))}}))),B("div",{class:"flex gap-2"},B("button",{type:"button",title:"Bold",disabled:!Yt(Kt(k,{bold:!0,italic:!1})),onClick:function(){if(Yt(Kt(k,{bold:!0,italic:!1}))){var e=!A;_(e),te(k,e,E)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm font-bold ".concat(A?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"bold",size:18})),B("button",{type:"button",title:"Italic",disabled:!Xt(Kt(k,{bold:!1,italic:!0})),onClick:function(){if(Xt(Kt(k,{bold:!1,italic:!0}))){var e=!E;z(e),te(k,A,e)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm italic ".concat(E?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"italic",size:18})))),B("section",{class:"mb-6"},B("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Text alignment"),B("div",{class:"flex gap-2"},B("button",{type:"button",title:"Align left",onClick:function(){return ne(pt.Left)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(R===pt.Left?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"alignLeft",size:18})),B("button",{type:"button",title:"Align center",onClick:function(){return ne(pt.Center)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(R===pt.Center?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"alignCenter",size:18})),B("button",{type:"button",title:"Align right",onClick:function(){return ne(pt.Right)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(R===pt.Right?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"alignRight",size:18})))),B("section",{class:"mb-6"},B("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Vertical alignment"),B("div",{class:"flex gap-2"},B("button",{type:"button",title:"Align top",onClick:function(){return oe(gt.Top)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(O===gt.Top?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"alignTop",size:18})),B("button",{type:"button",title:"Align middle",onClick:function(){return oe(gt.Middle)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(O===gt.Middle?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"alignMiddle",size:18})),B("button",{type:"button",title:"Align bottom",onClick:function(){return oe(gt.Bottom)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(O===gt.Bottom?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Wr,{icon:"alignBottom",size:18})))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Font colour"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},r.map((function(e){return B(fc,{key:e,color:e,active:e===F,onSelect:J})})))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Background colour"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},r.map((function(e){return B(fc,{key:e,color:e,active:e===Z,onSelect:ee})})),B(fc,{color:"transparent",active:"transparent"===Z,onSelect:ee}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(mc,{value:G,min:.1,max:1,step:.05,onChange:V}),B("span",{class:"text-xs text-gray-500"},Math.round(100*G),"%")))},title:"Free text"}),vt.STAMP,{component:function(e){return B("div",{className:"text-sm text-gray-500"},"There are no styles for stamps.")},title:"Stamp"})),_c=function(){return B("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},B(Wr,{icon:"palette",className:"h-18 w-18 text-gray-500"}),B("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Select an annotation to see styles"))};function Tc(e){var t=e.selectedAnnotation,n=e.activeVariant,o=e.colorPresets,i=Es().provides;if(!i)return null;var r=void 0,a=null;if(t)a=t.object.type,r=t.object.intent;else if(n){var l=i.getSubtypeAndIntentByVariant(n);a=l.subtype,r=l.intent}if(null==a)return Le(_c,{});var s=Ac[a];if(!s)return Le(_c,{});var c=s.component,d=s.title,u={selected:t,subtype:a,activeVariant:n,colorPresets:o,intent:r},p="function"==typeof d?d(u):d;return Le("div",{class:"h-full overflow-y-auto p-4",children:[p&&Le("h2",{class:"text-md mb-4 font-medium",children:[p," ",t?"styles":"defaults"]}),Le(c,h({},u))]})}const Ec=class extends zn{constructor(e,t){super(e,t),this.refreshPages$=Bn(),this.coreStore.onAction(yn,(e=>{this.refreshPages$.emit(e.payload)}))}async initialize(e){}buildCapability(){return{renderPage:this.renderPage.bind(this),renderPageRect:this.renderPageRect.bind(this)}}onRefreshPages(e){return this.refreshPages$.on(e)}renderPage({pageIndex:e,options:t}){const n=this.coreState.core;if(!n.document)throw new Error("document does not open");const o=n.document.pages.find((t=>t.index===e));if(!o)throw new Error("page does not exist");return this.engine.renderPage(n.document,o,t)}renderPageRect({pageIndex:e,rect:t,options:n}){const o=this.coreState.core;if(!o.document)throw new Error("document does not open");const i=o.document.pages.find((t=>t.index===e));if(!i)throw new Error("page does not exist");return this.engine.renderPageRect(o.document,i,t,n)}};Ec.id="render";let zc=Ec;const Nc="render",Rc={manifest:{id:Nc,name:"Render Plugin",version:"1.0.0",provides:["render"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new zc(Nc,e),reducer:()=>{},initialState:{}};function Lc({pageIndex:e,scaleFactor:t=1,dpr:n,style:o,...i}){const{provides:r}=Zn(zc.id),{plugin:a}=qn(zc.id),[l,s]=xe(null),c=Se(null),[d,u]=xe(0);ke((()=>{if(a)return a.onRefreshPages((t=>{t.includes(e)&&u((e=>e+1))}))}),[a]),ke((()=>{if(r){const o=r.renderPage({pageIndex:e,options:{scaleFactor:t,dpr:n||window.devicePixelRatio}});return o.wait((e=>{const t=URL.createObjectURL(e);s(t),c.current=t}),cn),()=>{c.current?(URL.revokeObjectURL(c.current),c.current=null):o.abort({code:Et.Cancelled,message:"canceled render task"})}}}),[e,t,n,r,d]);return Le($,{children:l&&Le("img",{src:l,onLoad:()=>{c.current&&(URL.revokeObjectURL(c.current),c.current=null)},...i,style:{width:"100%",height:"100%",...o||{}}})})}const Dc="rotate",Oc={id:Dc,name:"Rotate Plugin",version:"1.0.0",provides:["rotate"],requires:["loader"],optional:["spread"],defaultConfig:{enabled:!0}};const Hc=class extends zn{constructor(e,t,n){super(e,t),this.rotate$=jn(),this.resetReady();const o=n.defaultRotation??this.coreState.core.rotation;this.setRotation(o),this.markReady()}async initialize(e){}setRotation(e){if(!this.coreState.core.pages)throw new Error("Pages not loaded");this.dispatchCoreAction((e=>({type:kn,payload:e}))(e))}rotateForward(){const e=(this.coreState.core.rotation+1)%4;this.setRotation(e)}rotateBackward(){const e=(this.coreState.core.rotation+3)%4;this.setRotation(e)}buildCapability(){return{onRotateChange:this.rotate$.on,setRotation:e=>this.setRotation(e),getRotation:()=>this.coreState.core.rotation,rotateForward:()=>this.rotateForward(),rotateBackward:()=>this.rotateBackward(),getMatrix:({w:e=0,h:t=0,asString:n=!0}={})=>function(e,t,n,o=!0){let i=1,r=0,a=0,l=1,s=0,c=0;switch(e){case 1:i=0,r=1,a=-1,l=0,s=n;break;case 2:i=-1,r=0,a=0,l=-1,s=t,c=n;break;case 3:i=0,r=-1,a=1,l=0,c=t}return o?`matrix(${i},${r},${a},${l},${s},${c})`:[i,r,a,l,s,c]}(this.coreState.core.rotation,e,t,n)}}async destroy(){this.rotate$.clear(),super.destroy()}};Hc.id="rotate";let Bc=Hc;const jc={manifest:Oc,create:(e,t)=>new Bc(Dc,e,t),reducer:()=>{},initialState:{}};function $c({children:e,pageSize:t,style:n,...o}){const{provides:i}=Zn(Bc.id);return Le("div",{...o,style:{position:"absolute",transformOrigin:"0 0",transform:(null==i?void 0:i.getMatrix({w:t.width,h:t.height}))||"matrix(1, 0, 0, 1, 0, 0)",...n},children:e})}const Fc="tiling",Uc={id:Fc,name:"Tiling Plugin",version:"1.0.0",provides:["tiling"],requires:["render","scroll","viewport"],optional:[],defaultConfig:{enabled:!0,tileSize:768,overlapPx:2.5,extraRings:0}},Wc="UPDATE_VISIBLE_TILES",Gc="MARK_TILE_STATUS",Vc=e=>({type:Wc,payload:e}),qc=(e,t,n)=>({type:Gc,payload:{pageIndex:e,tileId:t,status:n}});function Zc({tileSize:e=768,overlapPx:t=2.5,extraRings:n=0,scale:o,rotation:i,page:r,metric:a}){const l=r.size.width*o,s=r.size.height*o,c=e-t,d=function(e,t,n,o){return Ye(Ze(e,t,(4-n)%4),1/o)}($e(r.size,i,o),{origin:{x:a.scaled.pageX,y:a.scaled.pageY},size:{width:a.scaled.visibleWidth,height:a.scaled.visibleHeight}},i,1),u=d.origin.x,h=d.origin.y,p=u+d.size.width,g=h+d.size.height,m=Math.floor((l-1)/c),f=Math.floor((s-1)/c),v=Math.max(0,Math.floor(u/c)-n),y=Math.min(m,Math.floor((p-1)/c)+n),b=Math.max(0,Math.floor(h/c)-n),w=Math.min(f,Math.floor((g-1)/c)+n),x=[];for(let t=v;t<=y;t++){const n=t*c,i=Math.min(e,l-n),a=n/o,d=i/o;for(let l=b;l<=w;l++){const u=l*c,h=Math.min(e,s-u),p=u/o,g=h/o;x.push({id:`p${r.index}-${o}-x${n}-y${u}-w${i}-h${h}`,col:t,row:l,pageRect:{origin:{x:a,y:p},size:{width:d,height:g}},screenRect:{origin:{x:n,y:u},size:{width:i,height:h}},status:"queued",srcScale:o,isFallback:!1})}}return x}const Yc=class extends zn{constructor(e,t,n){super(e,t),this.tileRendering$=jn(),this.refreshPages$=Bn(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=this.registry.getPlugin("scroll").provides(),this.viewportCapability=this.registry.getPlugin("viewport").provides(),this.scrollCapability.onScroll((e=>this.calculateVisibleTiles(e)),{mode:"throttle",wait:50,throttleMode:"trailing"}),this.coreStore.onAction(yn,(e=>{this.refreshPages$.emit(e.payload)}))}async initialize(){}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&this.calculateVisibleTiles(this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()))}onRefreshPages(e){return this.refreshPages$.on(e)}calculateVisibleTiles(e){var t;if(!this.config.enabled)return void this.dispatch(Vc([]));const n=this.coreState.core.scale,o=this.coreState.core.rotation,i={};for(const r of e.pageVisibilityMetrics){const e=r.pageNumber-1,a=null==(t=this.coreState.core.document)?void 0:t.pages[e];if(!a)continue;const l=Zc({page:a,metric:r,scale:n,rotation:o,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings});i[e]=l}this.dispatch(Vc(i))}onStoreUpdated(e,t){this.tileRendering$.emit(t.visibleTiles)}buildCapability(){return{renderTile:this.renderTile.bind(this),onTileRendering:this.tileRendering$.on}}renderTile(e){if(!this.renderCapability)throw new Error("Render capability not available.");this.dispatch(qc(e.pageIndex,e.tile.id,"rendering"));const t=this.renderCapability.renderPageRect({pageIndex:e.pageIndex,rect:e.tile.pageRect,options:{scaleFactor:e.tile.srcScale,dpr:e.dpr}});return t.wait((()=>{this.dispatch(qc(e.pageIndex,e.tile.id,"ready"))}),cn),t}};Yc.id="tiling";let Xc=Yc;const Kc={manifest:Uc,create:(e,t)=>new Xc(Fc,e,t),reducer:(e,t)=>((e,t)=>{var n,o;switch(t.type){case Wc:{const o=t.payload,i={...e.visibleTiles};for(const e in o){const t=Number(e),r=o[t],a=i[t]??[],l=null==(n=a.find((e=>!e.isFallback)))?void 0:n.srcScale,s=r.length>0?r[0].srcScale:void 0;if(void 0!==l&&void 0!==s&&l!==s){const e=a.filter((e=>!e.isFallback&&"ready"===e.status)).map((e=>({...e,isFallback:!0}))),n=e.length>0?[]:a.filter((e=>e.isFallback));i[t]=[...n,...e,...r]}else{const e=new Set(r.map((e=>e.id))),n=[],o=new Set;for(const t of a)(t.isFallback||e.has(t.id))&&(n.push(t),o.add(t.id));for(const e of r)o.has(e.id)||n.push(e);i[t]=n}}return{...e,visibleTiles:i}}case Gc:{const{pageIndex:n,tileId:i,status:r}=t.payload,a=(null==(o=e.visibleTiles[n])?void 0:o.map((e=>e.id===i?{...e,status:r}:e)))??[],l=a.filter((e=>!e.isFallback)),s=l.every((e=>"ready"===e.status)),c=s?l:a;return{...e,visibleTiles:{...e.visibleTiles,[n]:c}}}default:return e}})(e,t),initialState:{visibleTiles:{}}},Qc=()=>Zn(Xc.id);function Jc({pageIndex:e,tile:t,dpr:n,scale:o}){const{provides:i}=Qc(),{plugin:r}=qn(Xc.id),[a,l]=xe(),s=Se(null),[c,d]=xe(0),u=o/t.srcScale;ke((()=>{if(r)return r.onRefreshPages((t=>{t.includes(e)&&d((e=>e+1))}))}),[r]),ke((()=>{if("ready"===t.status&&s.current)return;if(!i)return;const o=i.renderTile({pageIndex:e,tile:t,dpr:n});return o.wait((e=>{const t=URL.createObjectURL(e);s.current=t,l(t)}),cn),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):o.abort({code:Et.Cancelled,message:"canceled render task"})}}),[e,t.id,c]);return a?Le("img",{src:a,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},style:{position:"absolute",left:t.screenRect.origin.x*u,top:t.screenRect.origin.y*u,width:t.screenRect.size.width*u,height:t.screenRect.size.height*u,display:"block"}}):null}function ed({pageIndex:e,scale:t,style:n,...o}){const{provides:i}=Qc(),[r,a]=xe([]);return ke((()=>{if(i)return i.onTileRendering((t=>a(t[e])))}),[i]),Le("div",{style:{...n},...o,children:null==r?void 0:r.map((n=>Le(Jc,{pageIndex:e,tile:n,dpr:window.devicePixelRatio,scale:t},n.id)))})}function td(e){var t=e.size,n=void 0===t?"md":t,o=e.className,i=void 0===o?"":o,r=e.text,a=void 0===r?"Loading...":r,l={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return B("div",{className:"flex flex-col items-center justify-center gap-3 ".concat(i)},B("div",{className:"relative"},B("div",{className:"".concat(l[n]," animate-spin rounded-full border-4 border-gray-200")}),B("div",{className:"".concat(l[n]," absolute left-0 top-0 animate-spin rounded-full border-4 border-transparent border-r-blue-500 border-t-blue-500")})),a&&B("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[n]," animate-pulse font-medium text-gray-600")},a))}const nd="fullscreen",od={id:nd,name:"Fullscreen Plugin",version:"1.0.0",provides:["fullscreen"],requires:[],optional:[],defaultConfig:{enabled:!0}},id="SET_FULLSCREEN";const rd=class extends zn{constructor(e,t){super(e,t),this.onStateChange$=jn(),this.fullscreenRequest$=Bn()}async initialize(e){}buildCapability(){return{isFullscreen:()=>this.state.isFullscreen,enableFullscreen:()=>this.enableFullscreen(),exitFullscreen:()=>this.exitFullscreen(),toggleFullscreen:()=>this.toggleFullscreen(),onRequest:this.fullscreenRequest$.on,onStateChange:this.onStateChange$.on}}toggleFullscreen(){this.state.isFullscreen?this.exitFullscreen():this.enableFullscreen()}enableFullscreen(){this.fullscreenRequest$.emit("enter")}exitFullscreen(){this.fullscreenRequest$.emit("exit")}onStoreUpdated(e,t){this.onStateChange$.emit(t)}setFullscreenState(e){this.dispatch({type:id,payload:e})}async destroy(){this.fullscreenRequest$.clear(),super.destroy()}};rd.id="fullscreen";let ad=rd;const ld=Fn({manifest:od,create:e=>new ad(nd,e),reducer:(e,t)=>t.type===id?{...e,isFullscreen:t.payload}:e,initialState:{isFullscreen:!1}}).addWrapper((function({children:e,...t}){const{provides:n}=Zn(ad.id),{plugin:o}=qn(ad.id),i=Se(null);return ke((()=>{if(!n)return;return n.onRequest((async e=>{if("enter"===e){const e=i.current;e&&!document.fullscreenElement&&await e.requestFullscreen()}else document.fullscreenElement&&await document.exitFullscreen()}))}),[n]),ke((()=>{if(!o)return;const e=()=>o.setFullscreenState(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[o]),Le("div",{...t,style:{position:"relative",width:"100%",height:"100%",...t.style},ref:i,children:e})})).build(),sd=class extends zn{constructor(e,t,n){super(e,t),this.downloadRequest$=Bn(),this.config=n}async initialize(e){}buildCapability(){return{saveAsCopy:this.saveAsCopy.bind(this),download:this.download.bind(this)}}onRequest(e){return this.downloadRequest$.on(e)}download(){this.downloadRequest$.emit("download")}saveAsCopyAndGetBufferAndName(){const e=new lt,t=this.coreState.core.document;return t?(this.saveAsCopy().wait((n=>{e.resolve({buffer:n,name:t.name??this.config.defaultFileName})}),e.fail),e):zt.reject({code:Et.DocNotOpen,message:"Document not found"})}saveAsCopy(){const e=this.coreState.core.document;return e?this.engine.saveAsCopy(e):zt.reject({code:Et.DocNotOpen,message:"Document not found"})}};sd.id="export";let cd=sd;const dd="export";const ud=Fn({manifest:{id:dd,name:"Export Plugin",version:"1.0.0",provides:["export"],requires:[],optional:[],defaultConfig:{enabled:!0,defaultFileName:"document.pdf"}},create:(e,t)=>new cd(dd,e,t),reducer:()=>{},initialState:{}}).addUtility((function(e){const{provides:t}=Zn(cd.id),{plugin:n}=qn(cd.id),o=Se(null);return ke((()=>{if(!t)return;if(!n)return;return n.onRequest((t=>{if("download"===t){const t=o.current;if(!t)return;n.saveAsCopyAndGetBufferAndName().wait((({buffer:n,name:o})=>{const i=URL.createObjectURL(new Blob([n]));t.href=i,t.download=e.fileName??o,t.click(),URL.revokeObjectURL(i)}),cn)}}))}),[t,n]),Le("a",{style:{display:"none"},ref:o})})).build(),hd=class extends zn{constructor(e,t,n){var o,i;super(e,t),this.panMode$=jn(),this.config=n,this.interactionManager=null==(o=t.getPlugin(ys.id))?void 0:o.provides(),this.viewport=null==(i=t.getPlugin(ao.id))?void 0:i.provides(),this.interactionManager&&(this.interactionManager.registerMode({id:"panMode",scope:"global",exclusive:!1,cursor:"grab",wantsRawTouch:!1}),this.unsubscribePanModeChange=this.interactionManager.onStateChange((e=>{"panMode"===e.activeMode?this.panMode$.emit(!0):this.panMode$.emit(!1)})),this.registerPanHandlers()),"always"===n.defaultMode&&this.makePanDefault(!0)}async initialize(e){}async destroy(){var e,t;null==(e=this.unregisterHandlers)||e.call(this),null==(t=this.unsubscribePanModeChange)||t.call(this),await super.destroy()}registerPanHandlers(){let e=null;const t={onMouseDown:(t,n)=>{const o=this.viewport.getMetrics();e={startX:n.clientX,startY:n.clientY,startLeft:o.scrollLeft,startTop:o.scrollTop},this.interactionManager.setCursor("panMode","grabbing",10)},onMouseMove:(t,n)=>{if(!e)return;const o=n.clientX-e.startX,i=n.clientY-e.startY;this.viewport.scrollTo({x:e.startLeft-o,y:e.startTop-i})},onMouseUp:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))},onMouseLeave:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))},onMouseCancel:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))}};this.unregisterHandlers=this.interactionManager.registerHandlers({modeId:"panMode",handlers:t})}makePanDefault(e=!0){this.interactionManager&&(this.interactionManager.setDefaultMode("panMode"),e&&this.interactionManager.activateDefaultMode())}buildCapability(){return{onPanModeChange:this.panMode$.on,makePanDefault:(e=!0)=>this.makePanDefault(e),enablePan:()=>{var e;return null==(e=this.interactionManager)?void 0:e.activate("panMode")},disablePan:()=>{var e;return null==(e=this.interactionManager)?void 0:e.activateDefaultMode()},togglePan:()=>{var e,t,n;"panMode"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("panMode")}}}};hd.id="pan";let pd=hd;const gd=Fn({manifest:{id:"pan",name:"Pan Plugin",version:"1.0.0",provides:["pan"],requires:["interaction-manager","viewport"],optional:[],defaultConfig:{enabled:!0,defaultMode:"mobile"}},create:(e,t)=>new pd("pan",e,t),reducer:()=>{},initialState:{}}).addUtility((()=>{const{provides:e}=Zn(pd.id),{plugin:t}=qn(pd.id);return ke((()=>{var n;if(!e||!t)return;const o=(null==(n=t.config)?void 0:n.defaultMode)??"never",i="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0);"mobile"===o&&i&&e.makePanDefault()}),[e,t]),null})).build(),md="capture",fd={id:md,name:"Capture Plugin",version:"1.0.0",provides:["capture"],requires:["render"],optional:["interaction-manager"],defaultConfig:{enabled:!0,scale:1,imageType:"image/png",withAnnotations:!1}};const vd=class extends zn{constructor(e,t,n){var o;super(e,t),this.captureArea$=Bn(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.interactionManagerCapability=null==(o=this.registry.getPlugin("interaction-manager"))?void 0:o.provides(),this.interactionManagerCapability&&this.interactionManagerCapability.registerMode({id:"marqueeCapture",scope:"page",exclusive:!0,cursor:"crosshair"})}async initialize(e){}buildCapability(){return{onCaptureArea:this.captureArea$.on,captureArea:this.captureArea.bind(this),enableMarqueeCapture:this.enableMarqueeCapture.bind(this),disableMarqueeCapture:this.disableMarqueeCapture.bind(this),toggleMarqueeCapture:this.toggleMarqueeCapture.bind(this),isMarqueeCaptureActive:()=>{var e;return"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())},registerMarqueeOnPage:e=>this.registerMarqueeOnPage(e)}}registerMarqueeOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("CapturePlugin","MissingDependency","Interaction manager plugin not loaded, marquee capture disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("CapturePlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("CapturePlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r}=e;let a=null,l=null;return{onPointerDown:(e,t)=>{var n;a=e,l={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(l),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!a)return;const n=Rn(e.x,0,t.width),o=Rn(e.y,0,t.height);l={origin:{x:Math.min(a.x,n),y:Math.min(a.y,o)},size:{width:Math.abs(n-a.x),height:Math.abs(o-a.y)}},null==i||i(l)},onPointerUp:(e,t)=>{var s;l&&Math.max(l.size.width,l.size.height)*n>o&&(null==r||r(l)),a=null,l=null,null==i||i(null),null==(s=t.releasePointerCapture)||s.call(t)},onPointerCancel:(e,t)=>{var n;a=null,l=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;this.captureArea(e.pageIndex,t),null==(o=(n=e.callback).onCommit)||o.call(n,t)}});return this.interactionManagerCapability.registerHandlers({modeId:"marqueeCapture",handlers:o,pageIndex:e.pageIndex})}captureArea(e,t){this.disableMarqueeCapture();this.renderCapability.renderPageRect({pageIndex:e,rect:t,options:{imageType:this.config.imageType,scaleFactor:this.config.scale,withAnnotations:this.config.withAnnotations||!1}}).wait((n=>{this.captureArea$.emit({pageIndex:e,rect:t,blob:n,imageType:this.config.imageType||"image/png",scale:this.config.scale||1,withAnnotations:this.config.withAnnotations||!1})}),cn)}enableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activate("marqueeCapture")}disableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activateDefaultMode()}toggleMarqueeCapture(){var e,t,n;"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate("marqueeCapture")}};vd.id="capture";let yd=vd;const bd={manifest:fd,create:(e,t)=>new yd(md,e,t),reducer:()=>{},initialState:{}},wd=()=>Zn(yd.id),xd=({pageIndex:e,scale:t,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=wd(),[a,l]=xe(null);return ke((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:l}})}),[r,e,t]),a?Le("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null},kd="history",Cd={id:kd,name:"History Plugin",version:"1.0.0",provides:["history"],requires:[],optional:[],defaultConfig:{enabled:!0}},Sd="HISTORY/SET_STATE",Md=class extends zn{constructor(e,t){super(e,t),this.topicHistories=new Map,this.globalTimeline=[],this.globalIndex=-1,this.historyChange$=Bn()}async initialize(e){}getHistoryState(){const e={};return Array.from(this.topicHistories.entries()).forEach((([t,n])=>{e[t]={canUndo:n.currentIndex>-1,canRedo:n.currentIndex<n.commands.length-1}})),{global:{canUndo:this.globalIndex>-1,canRedo:this.globalIndex<this.globalTimeline.length-1},topics:e}}emitHistoryChange(e){var t;this.dispatch((t=this.getHistoryState(),{type:Sd,payload:t})),this.historyChange$.emit(e)}buildCapability(){return{getHistoryState:()=>this.state,onHistoryChange:this.historyChange$.on,register:(e,t)=>{this.topicHistories.has(t)||this.topicHistories.set(t,{commands:[],currentIndex:-1});const n=this.topicHistories.get(t);n.commands.splice(n.currentIndex+1),n.commands.push(e),n.currentIndex++;const o={command:e,topic:t};this.globalTimeline.splice(this.globalIndex+1),this.globalTimeline.push(o),this.globalIndex++,e.execute(),this.emitHistoryChange(t)},undo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex>-1&&(n.commands[n.currentIndex].undo(),n.currentIndex--,t=e)}else if(this.globalIndex>-1){const e=this.globalTimeline[this.globalIndex];e.command.undo(),this.topicHistories.get(e.topic).currentIndex--,this.globalIndex--,t=e.topic}t&&this.emitHistoryChange(t)},redo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex<n.commands.length-1&&(n.currentIndex++,n.commands[n.currentIndex].execute(),t=e)}else if(this.globalIndex<this.globalTimeline.length-1){this.globalIndex++;const e=this.globalTimeline[this.globalIndex];e.command.execute(),this.topicHistories.get(e.topic).currentIndex++,t=e.topic}t&&this.emitHistoryChange(t)},canUndo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex>-1}return this.globalIndex>-1},canRedo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex<t.commands.length-1}return this.globalIndex<this.globalTimeline.length-1}}}};Md.id="history";let Id=Md;const Pd={global:{canUndo:!1,canRedo:!1},topics:{}},Ad={manifest:Cd,create:e=>new Id(kd,e),reducer:(e=Pd,t)=>t.type===Sd?{...e,...t.payload}:e,initialState:Pd};function _d(){var e=wd().provides,t=f(xe(!1),2),n=t[0],o=t[1],i=f(xe(null),2),r=i[0],a=i[1],l=f(xe(null),2),s=l[0],c=l[1],d=f(xe(null),2),u=d[0],h=d[1],p=Se(null),g=Se(null),m=function(){p.current&&(URL.revokeObjectURL(p.current),p.current=null),u&&(URL.revokeObjectURL(u),h(null)),o(!1),a(null),c(null)};ke((function(){if(e)return e.onCaptureArea((function(e){var t=e.pageIndex,n=e.rect,i=e.blob;a({pageIndex:t,rect:n,blob:i});var r=URL.createObjectURL(i);p.current=r,c(r),o(!0)}))}),[e]);return B($,null,B(Va,{open:n,onClose:m,title:"Capture PDF Area"},B("div",{className:"space-y-6"},B("div",{className:"flex justify-center"},s&&B("img",{src:s,onLoad:function(){p.current&&(URL.revokeObjectURL(p.current),p.current=null)},alt:"Captured PDF area",style:{maxWidth:"100%",maxHeight:"400px",border:"1px solid #e5e7eb",borderRadius:"4px",display:"block"}})),B("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},B(mi,{onClick:m,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"},"Cancel"),B(mi,{onClick:function(){if(r&&g.current){var e=URL.createObjectURL(r.blob);h(e),g.current.href=e,g.current.download="pdf-capture-page-".concat(r.pageIndex+1,".png"),g.current.click(),m()}},disabled:!r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},"Download")))),B("a",{ref:g,style:{display:"none"},href:"",download:""}))}var Td,Ed=function(){var e=function(){const{provides:e}=ks(),[t,n]=xe(ws);return ke((()=>{if(e)return e.onStateChange((e=>{n(e)}))}),[e]),{provides:e,state:t}}().provides,t=f(xe({show:!1,mode:null,isAnimating:!1}),2),n=t[0],o=t[1];ke((function(){if(e)return e.onModeChange((function(e){var t=e.activeMode;if("marqueeZoom"===t||"marqueeCapture"===t){o({show:!0,mode:t,isAnimating:!0});var n=setTimeout((function(){o((function(e){return h(h({},e),{},{show:!1})}))}),3e3);return function(){return clearTimeout(n)}}o({show:!1,mode:null,isAnimating:!1})}))}),[e]);if(!n.show&&!n.isAnimating)return null;var i="marqueeZoom"===n.mode?"Drag to select area to zoom":"Drag to select area to capture",r="marqueeZoom"===n.mode?"rgba(33,150,243,0.8)":"rgba(76,175,80,0.8)";return B("div",{className:"hint-overlay ".concat(n.show?"hint-show":"hint-hide"),onAnimationEnd:function(){n.show||o((function(e){return h(h({},e),{},{isAnimating:!1,mode:null})}))},style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"}},B("div",{className:"hint-text",style:{background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",textAlign:"center",maxWidth:"250px"}},i),B("div",{className:"drag-demo",style:{position:"relative",width:"150px",height:"100px"}},B("div",{style:{position:"absolute",top:"20px",left:"20px",width:"110px",height:"60px",border:"2px dashed ".concat(r),borderRadius:"4px",opacity:.6}}),B("div",{className:"animated-rect",style:{position:"absolute",top:"20px",left:"20px",border:"2px solid ".concat(r),backgroundColor:"".concat(r.replace("0.8","0.15")),borderRadius:"4px"}}),B("div",{className:"cursor-demo",style:{position:"absolute",width:"20px",height:"20px"}},B("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M3.5 2.5L16.5 10L10 11.5L7.5 16.5L3.5 2.5Z",fill:"rgba(0,0,0,0.3)",transform:"translate(1,1)"}),B("path",{d:"M3 2L16 10L10 11.5L7.5 16L3 2Z",fill:"white",stroke:"black",strokeWidth:"1"}),B("path",{d:"M4 3.5L13.5 9.5L9.5 10.5L7.5 14L4 3.5Z",fill:"rgba(255,255,255,0.8)"})))),B("style",{jsx:!0},"\n        .hint-overlay {\n          animation-duration: 0.3s;\n          animation-fill-mode: both;\n        }\n\n        .hint-show {\n          animation-name: hintFadeIn;\n        }\n\n        .hint-hide {\n          animation-name: hintFadeOut;\n        }\n\n        @keyframes hintFadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes hintFadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n\n        .animated-rect {\n          animation: rectGrow 2s ease-in-out infinite;\n        }\n\n        @keyframes rectGrow {\n          0% {\n            width: 0;\n            height: 0;\n          }\n          50% {\n            width: 110px;\n            height: 60px;\n          }\n          100% {\n            width: 110px;\n            height: 60px;\n            opacity: 0.7;\n          }\n        }\n\n        .cursor-demo {\n          animation: cursorMove 2s ease-in-out infinite;\n        }\n\n        @keyframes cursorMove {\n          0% {\n            top: 20px;\n            left: 20px;\n          }\n          50% {\n            top: 50px;\n            left: 80px;\n          }\n          100% {\n            top: 80px;\n            left: 130px;\n          }\n        }\n\n        .hint-text {\n          animation: textPulse 0.6s ease-in-out;\n        }\n\n        @keyframes textPulse {\n          0% {\n            transform: scale(0.9);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n      "))},zd=["trackedAnnotation"],Nd=function(e){var t=e.trackedAnnotation,n=p(e,zd),o=Es().provides,i=ui().provides;return B("div",h(h({},n),{},{className:"flex flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),B(mi,{onClick:function(){null==o||o.deleteAnnotation(t.object.pageIndex,t.object.id)}},B(Wr,{icon:"trash",className:"h-5 w-5"})),B(mi,{onClick:function(){null==i||i.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0})}},B(Wr,{icon:"palette",className:"h-5 w-5"})))},Rd={viewport:{viewportGap:10},scroll:{strategy:ho.Vertical},zoom:{defaultZoomLevel:Ar.FitPage},spread:{defaultSpreadMode:Io.None},rotate:{defaultRotation:De.Degree0},tiling:{tileSize:768,overlapPx:2.5,extraRings:0},thumbnail:{width:150,gap:10,buffer:3,labelHeight:30},annotation:{enabled:!0},customButton:{enabled:!1,label:"Custom Action",icon:"save",callback:function(){}}};var Ld=null,Dd={menuCtr:{id:"menuCtr",icon:"menu",label:"Menu",type:"menu",children:["download","enterFS","screenshot"],active:function(e){return"menuCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},download:{id:"download",icon:"download",label:"Download",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(dd))||void 0===t?void 0:t.provides();n&&n.download()}},enterFS:{id:"enterFS",icon:function(e){return e.plugins.fullscreen.isFullscreen?"fullscreenExit":"fullscreen"},label:function(e){return e.plugins.fullscreen.isFullscreen?"Exit full screen":"Enter full screen"},type:"action",action:function(e){var t,n=null===(t=e.getPlugin(nd))||void 0===t?void 0:t.provides();n&&(n.isFullscreen()?n.exitFullscreen():n.enableFullscreen())}},screenshot:{id:"screenshot",icon:"screenshot",label:"Screenshot",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(md))||void 0===t?void 0:t.provides();n&&(n.isMarqueeCaptureActive()?n.disableMarqueeCapture():n.enableMarqueeCapture())},active:function(e){return"marqueeCapture"===e.plugins[bs].activeMode}},save:{id:"save",icon:"save",label:"Save",type:"action",action:function(){console.log("save")}},print:{id:"print",icon:"print",label:"Print",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(ci))||void 0===n?void 0:n.provides();o&&o.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!0}})}},settings:{id:"settings",icon:"settings",label:"Settings",dividerBefore:!0,type:"action",action:function(){console.log("settings")}},viewCtr:{id:"viewCtr",icon:"viewSettings",label:"View controls",type:"menu",children:["pageOrientation","scrollLayout","pageLayout","enterFS"],active:function(e){return"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},pageOrientation:{id:"pageOrientation",label:"Page orientation",type:"group",children:["rotateClockwise","rotateCounterClockwise"]},rotateClockwise:{id:"rotateClockwise",label:"Rotate clockwise",icon:"rotateClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Dc))||void 0===t?void 0:t.provides();n&&n.rotateForward()}},rotateCounterClockwise:{id:"rotateCounterClockwise",label:"Rotate counter clockwise",icon:"rotateCounterClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Dc))||void 0===t?void 0:t.provides();n&&n.rotateBackward()}},scrollLayout:{id:"scrollLayout",label:"Scroll layout",type:"group",children:["vertical","horizontal"]},vertical:{id:"vertical",label:"Vertical",icon:"vertical",type:"action",active:function(e){return e.plugins.scroll.strategy===ho.Vertical},action:function(e){var t,n=null===(t=e.getPlugin(xo))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(ho.Vertical)}},horizontal:{id:"horizontal",label:"Horizontal",icon:"horizontal",type:"action",active:function(e){return e.plugins.scroll.strategy===ho.Horizontal},action:function(e){var t,n=null===(t=e.getPlugin(xo))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(ho.Horizontal)}},pageLayout:{id:"pageLayout",label:"Page layout",type:"group",children:["singlePage","doublePage","coverFacingPage"]},singlePage:{id:"singlePage",label:"Single page",icon:"singlePage",type:"action",disabled:function(e){return e.plugins.scroll.strategy===ho.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Io.None},action:function(e){var t,n=null===(t=e.getPlugin(Eo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Io.None)}},doublePage:{id:"doublePage",label:"Double page",icon:"book",type:"action",disabled:function(e){return e.plugins.scroll.strategy===ho.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Io.Odd},action:function(e){var t,n=null===(t=e.getPlugin(Eo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Io.Odd)}},coverFacingPage:{id:"coverFacingPage",label:"Cover facing page",icon:"book2",type:"action",disabled:function(e){return e.plugins.scroll.strategy===ho.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Io.Even},action:function(e){var t,n=null===(t=e.getPlugin(Eo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Io.Even)}},leftAction:{id:"leftAction",label:"Left action",type:"menu",icon:"dots",children:["viewCtr","zoom","panMode","pointerMode"],active:function(e){return"leftAction"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom:{id:"zoom",icon:"zoomIn",label:"Zoom Controls",type:"menu",children:["changeZoomLevel","zoomIn","zoomOut","fitToWidth","fitToPage","zoomInArea"],active:function(e){return"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoomInArea:{id:"zoomInArea",label:"Zoom in area",icon:"zoomInArea",type:"action",dividerBefore:!0,action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&(n.isMarqueeZoomActive()?n.disableMarqueeZoom():n.enableMarqueeZoom())},active:function(e){return"marqueeZoom"===e.plugins[bs].activeMode}},changeZoomLevel:{id:"changeZoomLevel",label:function(e){return"Zoom level (".concat((100*e.plugins.zoom.currentZoomLevel).toFixed(0),"%)")},type:"menu",children:["zoom25","zoom50","zoom100","zoom125","zoom150","zoom200","zoom400","zoom800","zoom1600"],active:function(e){return"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom25:{id:"zoom25",label:"25%",type:"action",active:function(e){return.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(.25)}},zoom50:{id:"zoom50",label:"50%",type:"action",active:function(e){return.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(.5)}},zoom100:{id:"zoom100",label:"100%",type:"action",active:function(e){return 1===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1)}},zoom125:{id:"zoom125",label:"125%",type:"action",active:function(e){return 1.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.25)}},zoom150:{id:"zoom150",label:"150%",type:"action",active:function(e){return 1.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.5)}},zoom200:{id:"zoom200",label:"200%",type:"action",active:function(e){return 2===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(2)}},zoom400:{id:"zoom400",label:"400%",type:"action",active:function(e){return 4===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(4)}},zoom800:{id:"zoom800",label:"800%",type:"action",active:function(e){return 8===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(8)}},zoom1600:{id:"zoom1600",label:"1600%",type:"action",active:function(e){return 16===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(16)}},zoomIn:{id:"zoomIn",label:"Zoom in",icon:"zoomIn",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.zoomIn()}},zoomOut:{id:"zoomOut",label:"Zoom out",icon:"zoomOut",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.zoomOut()}},search:{id:"search",label:"Search",icon:"search",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"search"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"search"===e.plugins.ui.panel.rightPanel.visibleChild}},customButton:{id:"customButton",label:"Custom Action",icon:(null===(Td=Ld)||void 0===Td||null===(Td=Td.customButton)||void 0===Td?void 0:Td.icon)||"save",type:"action",action:function(){var e;null!==(e=Ld)&&void 0!==e&&null!==(e=e.customButton)&&void 0!==e&&e.callback&&Ld.customButton.callback()},visible:function(){var e;return(null===(e=Ld)||void 0===e||null===(e=e.customButton)||void 0===e?void 0:e.enabled)||!1}},fitToWidth:{id:"fitToWidth",label:"Fit to width",icon:"fitToWidth",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===Ar.FitWidth},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(Ar.FitWidth)}},fitToPage:{id:"fitToPage",label:"Fit to page",icon:"fitToPage",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===Ar.FitPage},action:function(e){var t,n=null===(t=e.getPlugin(Tr))||void 0===t?void 0:t.provides();n&&n.requestZoom(Ar.FitPage)}},sidebar:{id:"sidebar",label:"Sidebar",icon:"sidebar",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(ci))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelMain"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelMain"===e.plugins.ui.panel.leftPanel.visibleChild}},sidebarMenu:{id:"sidebarMenu",label:"Sidebar Menu",type:"menu",children:["annotate","thumbnails","outline"]},thumbnails:{id:"thumbnails",label:"Thumbnails",icon:"squares",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"thumbnails"}}))},active:function(e){return"thumbnails"===e.plugins.ui.custom.leftPanelMain.visibleChild}},outline:{id:"outline",label:"Outline",icon:"listTree",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"outline"}}))},active:function(e){return"outline"===e.plugins.ui.custom.leftPanelMain.visibleChild}},attachments:{id:"attachments",label:"Attachments",icon:"paperclip",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"attachments"}}))},active:function(e){return"attachments"===e.plugins.ui.custom.leftPanelMain.visibleChild}},view:{id:"view",label:"View",type:"action",action:function(e){var t,n,o=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(o.setHeaderVisible({id:"toolsHeader",visible:!1}),null==i||i.setActiveVariant(null))},active:function(e){return!1===e.plugins.ui.header.toolsHeader.visible}},annotate:{id:"annotate",label:"Sign",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"annotationTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"annotationTools"===e.plugins.ui.header.toolsHeader.visibleChild}},shapes:{id:"shapes",label:"Shapes",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"shapeTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"shapeTools"===e.plugins.ui.header.toolsHeader.visibleChild}},redaction:{id:"redaction",label:"Redaction",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"redactionTools"===e.plugins.ui.header.toolsHeader.visibleChild}},form:{id:"form",label:"Form",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(ci))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"formTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"formTools"===e.plugins.ui.header.toolsHeader.visibleChild}},tabOverflow:{id:"tabOverflow",label:"More",icon:"dots",type:"menu",children:["view","annotate","shapes","redaction","fillAndSign","form"],active:function(e){return"tabOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},annotationToolOverflow:{id:"annotationToolOverflow",label:"More",icon:"dots",type:"menu",children:["highlight","underline","strikethrough","squiggly","freehand","freeText","photo"],active:function(e){return"annotationToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},shapeToolOverflow:{id:"shapeToolOverflow",label:"More",icon:"dots",type:"menu",children:["circle","square","polygon","polyline","line","lineArrow"],active:function(e){return"shapeToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},nextPage:{id:"nextPage",label:"Next page",icon:"chevronRight",shortcut:"ArrowRight",shortcutLabel:"Arrow Right",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(xo))||void 0===t?void 0:t.provides();n&&n.scrollToNextPage()}},previousPage:{id:"previousPage",label:"Previous page",icon:"chevronLeft",type:"action",shortcut:"ArrowLeft",shortcutLabel:"Arrow Left",action:function(e){var t,n=null===(t=e.getPlugin(xo))||void 0===t?void 0:t.provides();n&&n.scrollToPreviousPage()}},copy:{id:"copy",label:"Copy",icon:"copy",type:"action",shortcut:"Meta+C",shortcutLabel:"Cmd+C",action:function(e){var t,n=null===(t=e.getPlugin(wa))||void 0===t?void 0:t.provides();n&&(n.copyToClipboard(),n.clear())}},underline:{id:"underline",label:"Underline",type:"action",icon:"underline",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.UNDERLINE).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.UNDERLINE)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.UNDERLINE)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.UNDERLINE)}},squiggly:{id:"squiggly",label:"Squiggly",type:"action",icon:"squiggly",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.SQUIGGLY).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.SQUIGGLY)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.SQUIGGLY)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.SQUIGGLY)}},strikethrough:{id:"strikethrough",label:"Strikethrough",type:"action",icon:"strikethrough",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.STRIKEOUT).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.STRIKEOUT)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.STRIKEOUT)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.STRIKEOUT)}},highlight:{id:"highlight",label:"Highlight",type:"action",icon:"highlight",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.HIGHLIGHT).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.HIGHLIGHT)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.HIGHLIGHT)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.HIGHLIGHT)}},freehand:{id:"freehand",label:"Freehand",type:"action",icon:"pencilMarker",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.INK).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.INK)?o.setActiveVariant(null):(o.deselectAnnotation(),o.setActiveVariant(ql(vt.INK))))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.INK)}},circle:{id:"circle",label:"Circle",type:"action",icon:"circle",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.CIRCLE).strokeColor,secondaryColor:Kl(e.plugins.annotation,vt.CIRCLE).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.CIRCLE)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.CIRCLE)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.CIRCLE)}},square:{id:"square",label:"Square",type:"action",icon:"square",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.SQUARE).strokeColor,secondaryColor:Kl(e.plugins.annotation,vt.SQUARE).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.SQUARE)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.SQUARE)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.SQUARE)}},line:{id:"line",label:"Line",type:"action",icon:"line",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.LINE).strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.LINE)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.LINE)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.LINE)}},lineArrow:{id:"lineArrow",label:"Line Arrow",type:"action",icon:"lineArrow",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.LINE).strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.LINE,"LineArrow")?o.setActiveVariant(null):o.setActiveVariant(ql(vt.LINE,"LineArrow")))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.LINE,"LineArrow")}},polyline:{id:"polyline",label:"Polyline",type:"action",icon:"zigzag",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.POLYLINE).strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.POLYLINE)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.POLYLINE)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.POLYLINE)}},polygon:{id:"polygon",label:"Polygon",type:"action",icon:"polygon",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.POLYGON).strokeColor,secondaryColor:Kl(e.plugins.annotation,vt.POLYGON).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.POLYGON)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.POLYGON)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.POLYGON)}},freeText:{id:"freeText",label:"Free Text",type:"action",icon:"text",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.FREETEXT).fontColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.FREETEXT)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.FREETEXT)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.FREETEXT)}},photo:{id:"photo",label:"Stamp",type:"action",icon:"photo",action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.STAMP)?o.setActiveVariant(null):o.setActiveVariant(ql(vt.STAMP)))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.STAMP)}},signature:{id:"signature",label:"Signature",type:"action",icon:"signature",action:function(e,t){var n,o=null===(n=e.getPlugin(_l))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===ql(vt.STAMP,"signature")?o.setActiveVariant(null):o.setActiveVariant(ql(vt.STAMP,"signature")))},active:function(e){return e.plugins.annotation.activeVariant===ql(vt.STAMP,"signature")}},squigglySelection:{id:"squigglySelection",label:"Squiggly Selection",type:"action",icon:"squiggly",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.SQUIGGLY).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(_l))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(wa))||void 0===n?void 0:n.provides();if(i&&o){var r,l=o.getToolDefaultsBySubtype(vt.SQUIGGLY),s=i.getFormattedSelection(),c=i.getSelectedText(),d=a(s);try{var u=function(){var e=r.value;c.wait((function(t){var n=sn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:vt.SQUIGGLY,blendMode:mt.Normal,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),cn)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},underlineSelection:{id:"underlineSelection",label:"Underline Selection",type:"action",icon:"underline",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.UNDERLINE).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(_l))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(wa))||void 0===n?void 0:n.provides();if(i&&o){var r,l=o.getToolDefaultsBySubtype(vt.UNDERLINE),s=i.getFormattedSelection(),c=i.getSelectedText(),d=a(s);try{var u=function(){var e=r.value;c.wait((function(t){var n=sn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:vt.UNDERLINE,blendMode:mt.Normal,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),cn)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},strikethroughSelection:{id:"strikethroughSelection",label:"Strikethrough Selection",type:"action",icon:"strikethrough",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.STRIKEOUT).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(_l))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(wa))||void 0===n?void 0:n.provides();if(i&&o){var r,l=o.getToolDefaultsBySubtype(vt.STRIKEOUT),s=i.getFormattedSelection(),c=i.getSelectedText(),d=a(s);try{var u=function(){var e=r.value;c.wait((function(t){var n=sn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:vt.STRIKEOUT,blendMode:mt.Normal,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),cn)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},highlightSelection:{id:"highlightSelection",label:"Highlight Selection",type:"action",icon:"highlight",iconProps:function(e){return{primaryColor:Kl(e.plugins.annotation,vt.HIGHLIGHT).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(_l))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(wa))||void 0===n?void 0:n.provides();if(i&&o){var r,l=o.getToolDefaultsBySubtype(vt.HIGHLIGHT),s=i.getFormattedSelection(),c=i.getSelectedText(),d=a(s);try{var u=function(){var e=r.value;c.wait((function(t){var n=sn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:vt.HIGHLIGHT,blendMode:mt.Multiply,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),cn)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},styleAnnotation:{id:"styleAnnotation",label:"Style",type:"action",icon:"palette",action:function(e,t){var n,o=null===(n=e.getPlugin(ci))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelAnnotationStyle"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelAnnotationStyle"===e.plugins.ui.panel.leftPanel.visibleChild}},deleteAnnotation:{id:"deleteAnnotation",label:"Delete",type:"action",icon:"trash",action:function(e){var t,n=null===(t=e.getPlugin(_l))||void 0===t?void 0:t.provides();if(n){var o=n.getSelectedAnnotation();o&&n.deleteAnnotation(o.object.pageIndex,o.object.id)}}},panMode:{id:"panMode",label:"Pan",type:"action",dividerBefore:!0,icon:"hand",action:function(e){var t,n=null===(t=e.getPlugin(bs))||void 0===t?void 0:t.provides();n&&("panMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("panMode"))},active:function(e){return"panMode"===e.plugins[bs].activeMode}},pointerMode:{id:"pointerMode",label:"Pointer",type:"action",icon:"pointer",action:function(e){var t,n=null===(t=e.getPlugin(bs))||void 0===t?void 0:t.provides();n&&("pointerMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("pointerMode"))},active:function(e){return"pointerMode"===e.plugins[bs].activeMode}},undo:{id:"undo",label:"Undo",type:"action",icon:"arrowBackUp",action:function(e){var t,n=null===(t=e.getPlugin(kd))||void 0===t?void 0:t.provides();n&&n.undo()},disabled:function(e){return!e.plugins[kd].global.canUndo}},redo:{id:"redo",label:"Redo",type:"action",icon:"arrowForwardUp",action:function(e){var t,n=null===(t=e.getPlugin(kd))||void 0===t?void 0:t.provides();n&&n.redo()},disabled:function(e){return!e.plugins[kd].global.canRedo}},commitAnnotations:{id:"commitAnnotations",label:"Commit",type:"action",icon:"deviceFloppy",action:function(e){var t,n=null===(t=e.getPlugin(_l))||void 0===t?void 0:t.provides();n&&n.commit()}}},Od={menuButton:{type:"iconButton",id:"menuButton",props:{commandId:"menuCtr",active:!1,label:"Menu"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.menuCtr,e)})}},deleteAnnotationButton:{type:"iconButton",id:"deleteAnnotationButton",props:{commandId:"deleteAnnotation",active:!1,label:"Delete"}},styleButton:{type:"iconButton",id:"styleButton",props:{commandId:"styleAnnotation",active:!1,label:"Style"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.styleAnnotation,e)})}},undoButton:{type:"iconButton",id:"undoButton",props:{commandId:"undo",disabled:!1,label:"Undo"},mapStateToProps:function(e,t){return h(h({},t),{},{disabled:Jo(Dd.undo,e)})}},redoButton:{type:"iconButton",id:"redoButton",props:{commandId:"redo",disabled:!1,label:"Redo"},mapStateToProps:function(e,t){return h(h({},t),{},{disabled:Jo(Dd.redo,e)})}},commitAnnotationsButton:{type:"iconButton",id:"commitAnnotationsButton",props:{commandId:"commitAnnotations",active:!1,label:"Commit"}},copyButton:{type:"iconButton",id:"copyButton",props:{commandId:"copy",active:!1,label:"Copy"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.copy,e)})}},panModeButton:{type:"iconButton",id:"panModeButton",props:{commandId:"panMode",active:!1,label:"Pan"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.panMode,e)})}},pointerModeButton:{type:"iconButton",id:"pointerModeButton",props:{commandId:"pointerMode",active:!1,label:"Pointer"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.pointerMode,e)})}},circleButton:{type:"iconButton",id:"circleButton",props:{commandId:"circle",active:!1,label:"Circle"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.circle,e),iconProps:ei(Dd.circle,e)})}},freeTextButton:{type:"iconButton",id:"freeTextButton",props:{commandId:"freeText",active:!1,label:"Free Text"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.freeText,e),iconProps:ei(Dd.freeText,e)})}},squareButton:{type:"iconButton",id:"squareButton",props:{commandId:"square",active:!1,label:"Square"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.square,e),iconProps:ei(Dd.square,e)})}},polygonButton:{type:"iconButton",id:"polygonButton",props:{commandId:"polygon",active:!1,label:"Polygon"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.polygon,e),iconProps:ei(Dd.polygon,e)})}},lineButton:{type:"iconButton",id:"lineButton",props:{commandId:"line",active:!1,label:"Line"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.line,e),iconProps:ei(Dd.line,e)})}},lineArrowButton:{type:"iconButton",id:"lineArrowButton",props:{commandId:"lineArrow",active:!1,label:"Line Arrow"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.lineArrow,e),iconProps:ei(Dd.lineArrow,e)})}},polylineButton:{type:"iconButton",id:"polylineButton",props:{commandId:"polyline",active:!1,label:"Polyline"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.polyline,e),iconProps:ei(Dd.polyline,e)})}},underlineButton:{type:"iconButton",id:"underlineButton",props:{commandId:"underline",active:!1,label:"Underline",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.underline,e),iconProps:ei(Dd.underline,e)})}},squigglyButton:{type:"iconButton",id:"squigglyButton",props:{commandId:"squiggly",active:!1,label:"Squiggly",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.squiggly,e),iconProps:ei(Dd.squiggly,e)})}},strikethroughButton:{type:"iconButton",id:"strikethroughButton",props:{commandId:"strikethrough",active:!1,label:"Strikethrough",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.strikethrough,e),iconProps:ei(Dd.strikethrough,e)})}},highlightButton:{type:"iconButton",id:"highlightButton",props:{commandId:"highlight",active:!1,label:"Highlight",color:"#ffcd45"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.highlight,e),iconProps:ei(Dd.highlight,e)})}},freehandButton:{type:"iconButton",id:"freehandButton",props:{commandId:"freehand",active:!1,label:"Freehand",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.freehand,e),iconProps:ei(Dd.freehand,e)})}},signatureButton:{type:"iconButton",id:"signatureButton",props:{commandId:"signature",active:!1,label:"Signature",color:"#000000"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.signature,e),iconProps:ei(Dd.signature,e)})}},photoButton:{type:"iconButton",id:"photoButton",props:{commandId:"photo",active:!1,label:"Stamp",color:"#000000"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.photo,e),iconProps:ei(Dd.photo,e)})}},highlightSelectionButton:{type:"iconButton",id:"highlightSelectionButton",props:{commandId:"highlightSelection",color:"#ffcd45"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ei(Dd.highlightSelection,e)})}},underlineSelectionButton:{type:"iconButton",id:"underlineSelectionButton",props:{commandId:"underlineSelection",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ei(Dd.underlineSelection,e)})}},strikethroughSelectionButton:{type:"iconButton",id:"strikethroughSelectionButton",props:{commandId:"strikethroughSelection",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ei(Dd.strikethroughSelection,e)})}},squigglySelectionButton:{type:"iconButton",id:"squigglySelectionButton",props:{commandId:"squigglySelection",color:"#e44234"},mapStateToProps:function(e,t){return h(h({},t),{},{iconProps:ei(Dd.squigglySelection,e)})}},searchButton:{type:"iconButton",id:"searchButton",props:{active:!1,commandId:"search",label:"Search"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.search,e)})}},customButton:{type:"iconButton",id:"customButton",props:{active:!1,commandId:"customButton",label:"Custom Action"},mapStateToProps:function(e,t){var n,o;return h(h({},t),{},{visible:(null===(n=Ld)||void 0===n||null===(n=n.customButton)||void 0===n?void 0:n.enabled)||!1,label:(null===(o=Ld)||void 0===o||null===(o=o.customButton)||void 0===o?void 0:o.label)||"Custom Action",iconProps:ei(Dd.customButton,e)})}},filePickerButton:{type:"iconButton",id:"filePickerButton",props:{label:"Open File",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbi10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1maWxlLWltcG9ydCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNIDAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNCAzdjRhMSAxIDAgMCAwIDEgMWg0IiAvPjxwYXRoIGQ9Ik01IDEzdi04YTIgMiAwIDAgMSAyIC0yaDdsNSA1djExYTIgMiAwIDAgMSAtMiAyaC01LjVtLTkuNSAtMmg3bS0zIC0zbDMgM2wtMyAzIiAvPjwvc3ZnPg=="}},downloadButton:{type:"iconButton",id:"downloadButton",props:{label:"Download",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItZG93bmxvYWQiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik00IDE3djJhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMiAtMnYtMiIgLz48cGF0aCBkPSJNNyAxMWw1IDVsNSAtNSIgLz48cGF0aCBkPSJNMTIgNGwwIDEyIiAvPjwvc3ZnPg=="}},zoomButton:{type:"iconButton",id:"zoomButton",props:{commandId:"zoom",label:"Zoom",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItY2lyY2xlLXBsdXMiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCAxOCAwYTkgOSAwIDAgMCAtMTggMCIgLz48cGF0aCBkPSJNOSAxMmg2IiAvPjxwYXRoIGQ9Ik0xMiA5djYiIC8+PC9zdmc+"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.zoom,e)||Qo(Dd.changeZoomLevel,e)})}},sidebarButton:{type:"iconButton",id:"sidebarButton",props:{commandId:"sidebar",label:"Sidebar",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.sidebar,e)})}},divider1:{type:"divider",id:"divider1"},expandLeftActionsButton:{type:"iconButton",id:"expandLeftActionsButton",props:{commandId:"leftAction",label:"Left Panel Actions"},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.leftAction,e)})}},headerStart:{id:"headerStart",type:"groupedItems",slots:[{componentId:"menuButton",priority:0},{componentId:"divider1",priority:1,className:"flex"},{componentId:"sidebarButton",priority:2},{componentId:"expandLeftActionsButton",priority:3,className:"@min-[400px]:hidden"},{componentId:"viewCtrButton",priority:4,className:"hidden @min-[400px]:block"},{componentId:"divider1",priority:6,className:"hidden @min-[400px]:flex"},{componentId:"zoomButton",priority:7,className:"hidden @min-[400px]:block @min-[600px]:hidden"},{componentId:"zoom",priority:8,className:"hidden @min-[600px]:block"},{componentId:"divider1",priority:9,className:"hidden @min-[600px]:flex"},{componentId:"panModeButton",priority:10,className:"hidden @min-[600px]:block"},{componentId:"pointerModeButton",priority:11,className:"hidden @min-[600px]:block"}],props:{gap:10}},viewTab:{type:"tabButton",id:"viewTab",props:{label:"View",commandId:"view",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.view,e)})}},annotateTab:{type:"tabButton",id:"annotateTab",props:{label:"Annotate",commandId:"annotate",active:!0},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.annotate,e)})}},shapesTab:{type:"tabButton",id:"shapesTab",props:{label:"Shapes",commandId:"shapes",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.shapes,e)})}},formTab:{type:"tabButton",id:"formTab",props:{label:"Form",commandId:"form",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.form,e)})}},tabOverflowButton:{type:"iconButton",id:"tabOverflowButton",props:{label:"More",commandId:"tabOverflow",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.tabOverflow,e)})}},annotationToolOverflowButton:{type:"iconButton",id:"annotationToolOverflowButton",props:{label:"More",commandId:"annotationToolOverflow",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.annotationToolOverflow,e)})}},shapeToolOverflowButton:{type:"iconButton",id:"shapeToolOverflowButton",props:{label:"More",commandId:"shapeToolOverflow",active:!1},mapStateToProps:function(e,t){return h(h({},t),{},{active:Qo(Dd.shapeToolOverflow,e)})}},selectButton:{type:"selectButton",id:"selectButton",props:{menuCommandId:"tabOverflow",commandIds:["annotate"],activeCommandId:"annotate",active:!1},mapStateToProps:function(e,t){var n;return h(h({},t),{},{activeCommandId:null!==(n=t.commandIds.find((function(t){return Qo(Dd[t],e)})))&&void 0!==n?n:t.commandIds[0],active:Qo(Dd.tabOverflow,e)})}},headerCenter:{id:"headerCenter",type:"groupedItems",slots:[],props:{gap:10}},headerEnd:{id:"headerEnd",type:"groupedItems",slots:[{componentId:"customButton",priority:0},{componentId:"searchButton",priority:1}],props:{gap:10}},pageControls:{id:"pageControls",type:"custom",render:"pageControls",initialState:{currentPage:1,pageCount:1},props:function(e){return{currentPage:e.currentPage,pageCount:e.pageCount,nextPageCommandId:"nextPage",previousPageCommandId:"previousPage"}},mapStateToProps:function(e,t){var n,o;return h(h({},t),{},{currentPage:e.plugins.scroll.currentPage,pageCount:null!==(n=null===(o=e.core.document)||void 0===o?void 0:o.pageCount)&&void 0!==n?n:1})}},pageControlsContainer:{id:"pageControlsContainer",type:"floating",props:{scrollerPosition:"outside"},render:"pageControlsContainer",slots:[{componentId:"pageControls",priority:0}]},textSelectionMenuButtons:{id:"textSelectionMenuButtons",type:"groupedItems",slots:[{componentId:"copyButton",priority:0},{componentId:"highlightSelectionButton",priority:1},{componentId:"underlineSelectionButton",priority:2},{componentId:"strikethroughSelectionButton",priority:3},{componentId:"squigglySelectionButton",priority:4}],props:{gap:10}},printModal:{id:"printModal",type:"floating",render:"printModal",initialState:{open:!1},props:function(e){return{open:e.open,scrollerPosition:"outside"}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.floating.printModal.open})}},textSelectionMenu:{id:"textSelectionMenu",type:"floating",render:"textSelectionMenu",props:{open:!1,scrollerPosition:"inside"},mapStateToProps:function(e,t){return h(h({},t),{},{isScolling:e.plugins.viewport.isScrolling,scale:e.core.scale,rotation:e.core.rotation,spread:e.plugins[Eo].spreadMode,open:e.plugins[wa].active&&!e.plugins[wa].selecting})},slots:[{componentId:"textSelectionMenuButtons",priority:0}],getChildContext:{direction:"horizontal"}},topHeader:{type:"header",id:"topHeader",slots:[{componentId:"headerStart",priority:0},{componentId:"headerCenter",priority:1},{componentId:"headerEnd",priority:2}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}},props:{placement:"top",style:{backgroundColor:"#ffffff",gap:"10px"}}},shapeTools:{id:"shapeTools",type:"groupedItems",slots:[{componentId:"circleButton",priority:6},{componentId:"squareButton",priority:7},{componentId:"polygonButton",priority:8},{componentId:"polylineButton",priority:9},{componentId:"lineButton",priority:10,className:"hidden @min-[500px]:block"},{componentId:"lineArrowButton",priority:11,className:"hidden @min-[500px]:block"},{componentId:"shapeToolOverflowButton",priority:12,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:12},{componentId:"styleButton",priority:13},{componentId:"divider1",priority:14},{componentId:"undoButton",priority:15},{componentId:"redoButton",priority:16}],props:{gap:10}},redactionTools:{id:"redactionTools",type:"groupedItems",slots:[{componentId:"redactButton",priority:1},{componentId:"divider1",priority:2},{componentId:"styleButton",priority:3},{componentId:"divider1",priority:4},{componentId:"undoButton",priority:5},{componentId:"redoButton",priority:6}],props:{gap:10}},formTools:{id:"formTools",type:"groupedItems",slots:[{componentId:"textButton",priority:1},{componentId:"checkButton",priority:2},{componentId:"radioButton",priority:3},{componentId:"dropdownButton",priority:4},{componentId:"divider1",priority:5},{componentId:"styleButton",priority:6},{componentId:"divider1",priority:7},{componentId:"undoButton",priority:8},{componentId:"redoButton",priority:9}],props:{gap:10}},annotationTools:{id:"annotationTools",type:"groupedItems",slots:[{componentId:"highlightButton",priority:1},{componentId:"underlineButton",priority:2},{componentId:"strikethroughButton",priority:3},{componentId:"squigglyButton",priority:4},{componentId:"freehandButton",priority:5,className:"hidden @min-[500px]:block"},{componentId:"freeTextButton",priority:6,className:"hidden @min-[500px]:block"},{componentId:"photoButton",priority:7,className:"hidden @min-[500px]:block"},{componentId:"signatureButton",priority:8,className:"hidden @min-[500px]:block"},{componentId:"annotationToolOverflowButton",priority:9,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:10},{componentId:"styleButton",priority:11},{componentId:"divider1",priority:12},{componentId:"undoButton",priority:13},{componentId:"redoButton",priority:14}],props:{gap:10}},toolsHeader:{type:"header",id:"toolsHeader",initialState:{visible:!0,visibleChild:"annotationTools"},props:function(e){return{placement:"top",visible:e.visible,visibleChild:e.visibleChild,style:{backgroundColor:"#f1f3f5",justifyContent:"center"}}},mapStateToProps:function(e,t){return h(h({},t),{},{visible:e.plugins.ui.header.toolsHeader.visible,visibleChild:e.plugins.ui.header.toolsHeader.visibleChild})},slots:[{componentId:"annotationTools",priority:0}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}}},leftPanelAnnotationStyle:{id:"leftPanelAnnotationStyle",type:"custom",render:"leftPanelAnnotationStyle",mapStateToProps:function(e,t){return h(h({},t),{},{selectedAnnotation:Xl(e.plugins[_l]),activeVariant:e.plugins[_l].activeVariant,colorPresets:e.plugins[_l].colorPresets,toolDefaults:e.plugins[_l].toolDefaults})}},leftPanelMain:{id:"leftPanelMain",type:"custom",render:"leftPanelMain",initialState:{visibleChild:"annotate"},props:function(e){return{visibleChild:e.visibleChild,tabsCommandId:"sidebarMenu"}},mapStateToProps:function(e,t){return h(h({},t),{},{visibleChild:e.plugins.ui.custom.leftPanelMain.visibleChild})},slots:[{componentId:"thumbnails",priority:0},{componentId:"outline",priority:1},{componentId:"attachments",priority:2}]},leftPanel:{id:"leftPanel",type:"panel",initialState:{open:!1,visibleChild:"leftPanelMain"},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"left"}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.panel.leftPanel.open,visibleChild:e.plugins.ui.panel.leftPanel.visibleChild})},slots:[{componentId:"leftPanelMain",priority:0},{componentId:"leftPanelAnnotationStyle",priority:1}]},thumbnails:{id:"thumbnails",type:"custom",render:"thumbnails",mapStateToProps:function(e,t){return h(h({},t),{},{currentPage:e.plugins.scroll.currentPage})}},outline:{id:"outline",type:"custom",render:"outline",props:{document:null},mapStateToProps:function(e,t){return h(h({},t),{},{document:e.core.document})}},attachments:{id:"attachments",type:"custom",render:"attachments",props:{document:null},mapStateToProps:function(e,t){return h(h({},t),{},{document:e.core.document})}},search:{id:"search",type:"custom",render:"search",mapStateToProps:function(e,t){return h(h({},t),{},{flags:e.plugins.search.flags,results:e.plugins.search.results,total:e.plugins.search.total,activeResultIndex:e.plugins.search.activeResultIndex,active:e.plugins.search.active,query:e.plugins.search.query,loading:e.plugins.search.loading})}},commandMenu:{id:"commandMenu",type:"commandMenu",initialState:{open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1},props:function(e){return{open:e.open,activeCommand:e.activeCommand,triggerElement:e.triggerElement,position:e.position,flatten:e.flatten}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.commandMenu.commandMenu.open,activeCommand:e.plugins.ui.commandMenu.commandMenu.activeCommand,triggerElement:e.plugins.ui.commandMenu.commandMenu.triggerElement,position:e.plugins.ui.commandMenu.commandMenu.position,flatten:e.plugins.ui.commandMenu.commandMenu.flatten})}},zoom:{id:"zoom",type:"custom",render:"zoom",initialState:{zoomLevel:1},props:function(e){return{zoomLevel:e.zoomLevel,commandZoomIn:Dd.zoomIn.id,commandZoomOut:Dd.zoomOut.id,commandZoomMenu:Dd.zoom.id,zoomMenuActive:!1}},mapStateToProps:function(e,t){return h(h({},t),{},{zoomLevel:e.plugins.zoom.currentZoomLevel,zoomMenuActive:Qo(Dd.zoom,e)||Qo(Dd.changeZoomLevel,e)})}},rightPanel:{id:"rightPanel",type:"panel",initialState:{open:!1,visibleChild:null},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"right"}},mapStateToProps:function(e,t){return h(h({},t),{},{open:e.plugins.ui.panel.rightPanel.open,visibleChild:e.plugins.ui.panel.rightPanel.visibleChild})},slots:[{componentId:"search",priority:0}]}},Hd={enabled:!0,components:Od,menuItems:Dd},Bd=new it([new tt,new ot]);function jd(e){var n,o=e.config,i=function(e){const{wasmUrl:t=Yn,worker:n=!0,logger:o}=e??{},[i,r]=xe(null),[a,l]=xe(!0),[s,c]=xe(null),d=Se(null);return ke((()=>{let e=!1;return(async()=>{try{const{createPdfiumEngine:e}=n?await import("./worker-engine-adba10b1.js"):await import("./direct-engine-8d453ff9.js"),i=await e(t,o);d.current=i,r(i),l(!1)}catch(t){e||(c(t),l(!1))}})(),()=>{var t;e=!0,null==(t=d.current)||t.destroy(),d.current=null}}),[t,n,o]),{engine:i,isLoading:a,error:s}}(h(h({},o.wasmUrl&&{wasmUrl:o.wasmUrl}),{},{worker:o.worker,logger:o.log?Bd:void 0})),r=i.engine,a=i.isLoading,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{viewport:h(h({},Rd.viewport),e.viewport),scroll:h(h({},Rd.scroll),e.scroll),zoom:h(h({},Rd.zoom),e.zoom),spread:h(h({},Rd.spread),e.spread),rotate:h(h({},Rd.rotate),e.rotate),tiling:h(h({},Rd.tiling),e.tiling),thumbnail:h(h({},Rd.thumbnail),e.thumbnail),annotation:h(h({},Rd.annotation),e.annotation),customButton:h(h({},Rd.customButton),e.customButton)}}(o.plugins);return Ld=l,B($,null,B("style",null,de),!r||a?B("div",{className:"flex h-full w-full items-center justify-center"},B(td,{size:"lg",text:"Initializing PDF engine..."})):B(Gn,{logger:o.log?Bd:void 0,engine:r,onInitialized:(n=function(e){return function(){var n=this,o=arguments;return new Promise((function(i,r){var a=e.apply(n,o);function l(e){t(a,i,r,l,s,"next",e)}function s(e){t(a,i,r,l,s,"throw",e)}l(void 0)}))}}(g().mark((function e(t){var n,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=null===(n=t.getPlugin("ui"))||void 0===n?void 0:n.provides())&&(o.registerComponentRenderer("groupedItems",pl),o.registerComponentRenderer("iconButton",dl),o.registerComponentRenderer("tabButton",ul),o.registerComponentRenderer("header",gl),o.registerComponentRenderer("divider",hl),o.registerComponentRenderer("panel",fl),o.registerComponentRenderer("search",yl),o.registerComponentRenderer("zoom",bl),o.registerComponentRenderer("pageControlsContainer",xl),o.registerComponentRenderer("pageControls",kl),o.registerComponentRenderer("commandMenu",Cl),o.registerComponentRenderer("thumbnails",Sl),o.registerComponentRenderer("outline",Ml),o.registerComponentRenderer("attachments",Il),o.registerComponentRenderer("selectButton",Pl),o.registerComponentRenderer("textSelectionMenu",wl),o.registerComponentRenderer("leftPanelMain",ml),o.registerComponentRenderer("printModal",Al),o.registerComponentRenderer("leftPanelAnnotationStyle",Tc));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),plugins:[Tn(di,Hd),Tn($o,{loadingOptions:{type:"url",pdfFile:{id:"pdf",name:"embedpdf-ebook.pdf",url:o.src}}}),Tn(lo,l.viewport),Tn(Co,l.scroll),Tn(Or,l.zoom),Tn(Ro,l.spread),Tn(Rc),Tn(jc,l.rotate),Tn(la),Tn(Wa),Tn(Kc,l.tiling),Tn(ga,l.thumbnail),Tn(ds,l.annotation),Tn(Qa),Tn(ld),Tn(ol),Tn(ud),Tn(xs),Tn(gd),Tn(bd,{scale:2,imageType:"image/png"}),Tn(Ad),Tn(ll)]},(function(e){var t=e.pluginsReady;return B(pi,null,(function(e){var n=e.headers,o=e.panels,i=e.floating,r=e.commandMenu;return B($,null,B("div",{className:"@container relative flex h-full w-full select-none flex-col"},n.top.length>0&&B("div",null,n.top),B("div",{className:"flex flex-1 flex-row overflow-hidden"},B("div",{className:"flex flex-col"},n.left),B("div",{className:"flex flex-1 flex-col overflow-hidden md:flex-row"},o.left.length>0&&B($,null,o.left),B("div",{className:"relative flex w-full flex-1 overflow-hidden"},B(As,null,B(uo,{style:{width:"100%",height:"100%",flexGrow:1,backgroundColor:"#f1f3f5",overflow:"auto"}},!t&&B("div",{className:"flex h-full w-full items-center justify-center"},B(td,{size:"lg",text:"Loading PDF document..."})),t&&B(jr,null,B(Mo,{renderPage:function(e){var t=e.pageIndex,n=e.scale,o=e.rotation,i=e.width,r=e.height,a=e.document;return B($c,{key:null==a?void 0:a.id,pageSize:{width:i,height:r},style:{backgroundColor:"#fff"}},B(_s,{rotation:o,scale:n,pageWidth:i,pageHeight:r,pageIndex:t,style:{width:i,height:r}},B(Lc,{pageIndex:t,className:"pointer-events-none"}),B(ed,{pageIndex:t,scale:n,className:"pointer-events-none"}),B(ca,{pageIndex:t,scale:n,className:"pointer-events-none"}),B(Ed,null),B(dc,{pageIndex:t,scale:n,pageWidth:i,pageHeight:r,rotation:o,selectionMenu:function(e){var t=e.selected,n=e.rect,o=e.annotation,i=e.menuWrapperProps;return B("div",h(h({},i),{},{style:h(h({},i.style),{},{display:"flex",justifyContent:"center"})}),t?B(Nd,{trackedAnnotation:o,style:{pointerEvents:"auto",position:"absolute",top:n.size.height+10}}):null)}}),B($r,{pageIndex:t,scale:n}),B(xd,{pageIndex:t,scale:n}),B(Ua,{pageIndex:t,scale:n})))},overlayElements:i.insideScroller})),i.outsideScroller))),o.right.length>0&&B($,null,o.right)),B("div",{className:"flex flex-col"},n.right)),n.bottom.length>0&&B("div",null,n.bottom),r),B(_d,null))}))})))}var $d=function(){function e(){var t;return o(this,e),(t=n(this,e)).root=t.attachShadow({mode:"open"}),t}return c(e,w(HTMLElement)),r(e,[{key:"connectedCallback",value:function(){this._config||(this._config={src:this.getAttribute("src")||"/demo.pdf",worker:"false"!==this.getAttribute("worker")}),this.renderViewer()}},{key:"config",get:function(){return this._config},set:function(e){this._config=e,this.isConnected&&this.renderViewer()}},{key:"renderViewer",value:function(){this._config&&function(e,t,n){var o,i,r,a;t==document&&(t=document.documentElement),k.__&&k.__(e,t),i=(o="function"==typeof n)?null:n&&n.__k||t.__k,r=[],a=[],J(t,e=(!o&&n||t).__k=B($,null,[e]),i||N,N,t.namespaceURI,!o&&n?[n]:i?null:t.firstChild?x.call(t.childNodes):null,r,!o&&n?n:i?i.__e:t.firstChild,o,a),ee(r,e,a)}(B(jd,{config:this._config}),this.root)}}])}(),Fd=["type","target"];customElements.define("embedpdf-container",$d);var Ud={init:function(e){if("container"===e.type)return function(e){e.type,e.target;var t=p(e,Fd),n=document.createElement("embedpdf-container");return n.config=t,e.target.appendChild(n),n}(e)}};export{yt as A,Je as B,ft as C,ut as D,Dt as E,Ud as F,_t as M,et as N,Et as P,De as R,lt as T,zt as a,ln as b,vt as c,Tt as d,dt as e,bt as f,Ct as g,kt as h,cn as i,wt as j,Nt as k,Lt as l,Ht as m,ht as n,St as o,Ot as p,Fe as q,Ue as r,rn as s,Pt as t,sn as u,At as v,Rt as w,xt as x,Be as y,Xe as z};
